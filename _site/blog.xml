<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>방태모의 블로그</title>
<link>https://taemobang.com/blog.html</link>
<atom:link href="https://taemobang.com/blog.xml" rel="self" type="application/rss+xml"/>
<description>방태모의 개인 블로그입니다.</description>
<generator>quarto-1.2.280</generator>
<lastBuildDate>Sun, 30 Apr 2023 15:00:00 GMT</lastBuildDate>
<item>
  <title>통계학, 그게 왜 중요한데?</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/preview.jpeg" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">출처: https://youtu.be/TqM0oUJM2XM</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p>본 글은 PAP 3기 퍼블리셔로 활동하며 작성한 글로 <a href="https://playinpap.github.io/what-statistics-has-taught-me/">PAP 블로그</a>에서도 만나보실 수 있습니다. PAP에서 발행하는 <a href="https://stibee.com/api/v1.0/emails/share/DkcQQgMscRmb0xSNaJRT74vAnMXpm-4=">뉴스레터</a>도 구독해보세요.</p>
</div>
</div>
<p>DA/DS<sup>1</sup> 도메인에 계시는 분이라면 어디선가 통계학의 중요성을 강조하는 영상이나 아티클을 한 번 쯤은 보셨을거라 생각합니다. 통계학을 전공했던 학생이라 이런 이야기를 들을 때마다 기분이 좋긴 했지만, 통계학이 중요하다고 말하는 구체적인 이유에 대해 항상 궁금해하곤 했습니다. 그리고, 후술하겠지만 학부생때 통계학은 쓰레기라고 주장하는 모 유명대학 교수님의 의견을 듣고는, 통계학이 DA/DS라는 도메인에서 갖는 가치는 무엇인지 대해 고민하기 시작했죠.</p>
<p>Data Science에서 통계학은 중요한 위치를 차지한다. 예나 지금이나 중론이 되는 문장입니다. 왜 중요할까요? 한 마디로 잘 요약된 직접적인 답을 드릴 순 없겠지만, 제가 업무를 수행하며 통계학으로부터 배웠던 것들이 중요하다고 느낀 포인트들에 대해 정리하며 간접적인 답을 제시해드리려고 합니다. 통계학 전공으로 실무에 있으신 분들께는 공감의 포인트가 되는, 통계학 공부의 필요성을 느꼈으나 공부를 주저하고 있는 분들께는 확신을 줄 수 있는 글이 되었으면 합니다.</p>
<section id="통계학이-쓰레기라고" class="level2">
<h2 class="anchored" data-anchor-id="통계학이-쓰레기라고">통계학이 쓰레기라고?</h2>
<p>학부생 4학년 때니까 2018년이었던 것으로 기억합니다. 데이터산업진흥원에서 주관하는 &lt;빅데이터 청년인재&gt;라는 프로그램을 통해 모 대학에 종강 기간 동안 교육을 받고온 같은 과 친구가 제게 이런 말을 합니다.</p>
<blockquote class="blockquote">
<p>통계학은 쓰레기래.</p>
</blockquote>
<p>교육을 받았던 모 대학에서 소프트웨어 학과(a.k.a Computer Science) 교수님이 하신 말씀이라고 하더군요. 저 같은 경우는 원래부터 교수님 말이라고 100% 맹신하는 학생이 아니었기에 한 귀로 듣고 한 귀로 흘리긴 했지만, 우리나라에서 내로라하는 대학의 교수님이 했던 말이라 내심 신경이 쓰이긴 했습니다.</p>
<p>먼저, 이 말이 근거가 있을까에 대해 어떻게 알아볼 수 있을지에 대해 생각해봤어요. 그 결과, 딥러닝을 연구하고 있는, 컴싸 영역에서 알아주는 거인의 어깨를 빌려봐야겠다는 생각을 했습니다. <a href="https://en.wikipedia.org/wiki/Ian_Goodfellow">Ian Goodfellow</a>가 쓴 Deep Learning이라는 책<span class="citation" data-cites="goodfellow2016">(Goodfellow, Bengio, and Courville 2016)</span>을 구매했죠. 딥러닝 책이지만 코드 한 줄 없이 이론적 설명에 집중한 책이랍니다.😨</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/fig1.jpg" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>이 책은 먼저 신경망 기반 알고리즘이 오랜기간 발전해 온 역사를 설명해주는 긴 Introduction을 한 뒤에, Chapter I에서 딥러닝을 이해하기 위해 갖추어야할 기본기들에 대해 정리해줍니다. Chapter I에서 선형대수, 확률 및 정보이론, 최적화, 머신러닝 기본<sup>2</sup>에 대해 차례대로 이야기해주는데, 이 부분이 무려 130여 페이지를 차지하죠. Introduction부터 Chapter I까지 공부하며 21세기에 딥러닝이 빛을 보기 시작한 이면에는 정말 많은 학문들의 융합이 필요했다는 것을 깨달았습니다. 다음은 Chapter I의 확률과 정보이론 섹션의 Introduction으로부터 일부 발췌한 내용입니다:</p>
<ul>
<li><p>In artificial intelligence applications, we use probability theory in two major ways.</p>
<ul>
<li><p>First, the laws of probability tell us how AI systems should reason, so we design our algorithms to compute or approximate various expressions derived using probablity theory.</p></li>
<li><p>Second, we can use probablity and statistics to theoretically anlayze the behavior of proposed AI systems.</p></li>
</ul></li>
<li><p>Probability theory is a fundamental tool of many disciplines of science and engineering.</p></li>
</ul>
<p>이정도면 앞서 “통계학은 쓰레기다.”라는 소프트웨어 학과 교수님의 의견에 우아한 반문이 될 거라 생각합니다. Ian Goodfellow가 그렇다는데 어쩌겠습니까? 이 맛에 거인의 어깨를 빌리는거죠.😂 아울러, 이 부분은 추후에 살펴본 바이지만 지금까지도 tabular data의 예측에 대장으로 자리잡고 있는 XGBoost 논문<span class="citation" data-cites="chen2016">(Chen and Guestrin 2016)</span>에서도 같은 논지의 의견을 얻을 수 있었습니다.</p>
<ul>
<li><p>There are two important factors that drive these successful applications:</p>
<ul>
<li><p><strong>usage of effective (statistical) models that capture the complex data dependencies</strong></p></li>
<li><p>scalable learning systems that learn the model of interest from large datasets.</p></li>
</ul></li>
</ul>
</section>
<section id="통계학으로부터-배운-포인트들" class="level2">
<h2 class="anchored" data-anchor-id="통계학으로부터-배운-포인트들">통계학으로부터 배운 포인트들</h2>
<p>이제 업무를 수행하며 통계학을 배우길 잘했다는 생각이 들었던 포인트들에 대해 본격적으로 이야기 해보겠습니다. 몇 가지 소주제로 나눠 내용을 정리해봤습니다.</p>
<section id="eda" class="level3">
<h3 class="anchored" data-anchor-id="eda">EDA</h3>
<ul>
<li><p>전체 집합의 결과와 부분 집합의 결과는 다를 수 있다.</p>
<ul>
<li><p>이는 심슨의 역설(Simpson’s Paradox)이라고 한다. 이해를 돕기 위해 신장결석 치료법에 관한 실제 의학 연구 사례를 하나 가져와 봤다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/fig3.png" class="img-fluid figure-img" alt="출처: 위키백과" width="400"></p>
<p></p><figcaption class="figure-caption">출처: 위키백과</figcaption><p></p>
</figure>
</div></li>
<li><p>전체 그룹의 결과를 보면 마치 치료법 B가 더 좋아보인다. 그러나, 결석 크기를 given 시켜보면 결과는 반대로 나온다. 작은 결석과 큰 결석 두 경우 모두 치료법 A가 더 뛰어난 성공률을 보인다. 이러한 부분은 EDA를 할 때 뿐만이 아닌, 집계된 숫자를 볼 때에도 항상 유념해야한다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/Simpsons_paradox.gif" class="img-fluid figure-img" alt="출처: 위키백과" width="500"></p>
<p></p><figcaption class="figure-caption">출처: 위키백과</figcaption><p></p>
</figure>
</div></li>
<li><p>위 그림은 이러한 현상을 조심해야 하는 이유를 직관적으로 말해준다.</p></li>
</ul></li>
<li><p><img src="https://latex.codecogs.com/png.latex?X">와 <img src="https://latex.codecogs.com/png.latex?Y">의 상관(correlation)은 <img src="https://latex.codecogs.com/png.latex?Z">가 given될 경우 다를 수 있다.</p></li>
<li><p>단변량(univariate), 이변량(bivariate)으로 바라본 분석 결과는 다변량으로 바라볼 경우 결과가 달라 질 수 있다. 이러한 이유에서 EDA 후의 데이터에 관한 정교한 검증에는 결국 모델링이 필요로 된다.</p></li>
</ul>
<section id="통계학의-이런-부분들로부터-도움을-받았습니다" class="level4">
<h4 class="anchored" data-anchor-id="통계학의-이런-부분들로부터-도움을-받았습니다">통계학의 이런 부분들로부터 도움을 받았습니다:</h4>
<ul>
<li><p>Simpson’s Paradox</p></li>
<li><p>Conditional Probability</p></li>
<li><p>Conditional Distribution</p></li>
</ul>
</section>
</section>
<section id="실험설계-결과-검정-및-해석" class="level3">
<h3 class="anchored" data-anchor-id="실험설계-결과-검정-및-해석">실험설계, 결과 검정 및 해석</h3>
<ul>
<li><p>순수한 처리 효과(treatment effect)를 볼 수 있도록, 동시에 실험 비용을 최소화할 수 있도록 실험(Randomized Clinical Trials<sup>3</sup>, Online Controlled Experiments<sup>4</sup>)을 설계해야 한다.</p></li>
<li><p>설계한 실험 디자인에 따라 적절한 분석 방법론<sup>5</sup>을 활용해 실험 결과를 검정해야한다.</p>
<ul>
<li><p>단, 실험 설계의 배경 및 목적에 따라 분석 방법론은 조금씩 달라 질 수 있다.</p></li>
<li><p>확보할 수 있는 Sample size가 매우 작다면 비모수적 검정 방법론을 사용하는게 좋다. 각 모수적 검정에 대응하는 비모수적 검정이 있다는 것을 참고하기 바란다.(e.g.&nbsp;Independent two-sample t-test -&gt; Wilcoxon rank sum text)</p></li>
</ul></li>
<li><p>이미 매출의 규모가 큰 충분히 성장한 서비스일수록 관측된 효과 크기(effect size)가 작아도, 이를 통계적으로 유의한 차이를 보이는 결과라고 결론을 내릴 수 있도록 충분히 큰 Sample size를 확보할 필요가 있다.</p>
<ul>
<li><p>가령, 매출이 1조인 기업의 매출 1%를 개선하면 100억이 추가 리턴 되지만, 매출이 100억인 기업의 매출 1%를 개선하면 1억이 리턴된다. 같은 1%이지만 갖는 의미는 다르다. 전자와 후자에서 가져다주는 매출 개선의 양에는 큰 차이가 있으며, 후자에서 1% 개선에 비해 전자에서 1% 개선은 훨씬 어려울 것이다. 이에 따라 전자와 같은 상황에서는 1%의 차이라도 유의한 개선이라고 결론을 내릴 수 있는 실험을 설계할 줄 알아야 한다.</p></li>
<li><p>CVR을 생각해볼 수도 있다. buying conversion의 단위가 1만일 때와 1천일 때에 따라 CVR 1% 개선이 갖는 의미는 다르다. buying conversion의 단위를 1만, 객단가를 10만원으로 가정했을 때, buying conversion count의 1% 개선은 100번의 추가 구매가 리턴되어 약 1,000만원의 추가 매출을 가져다 주지만, buying conversion count의 단위가 1천일 때에는 10번의 추가 구매가 리턴되어 약 100만원의 추가 매출밖에 가져다주지 못한다. 앞선 예와 마찬가지로 CVR이 1% 개선되는 것은 같지만 우리에게 가져다주는 매출 변화의 양은 다르다.</p></li>
</ul></li>
<li><p>중심극한정리<sup>6</sup>에 관한 올바른 이해</p>
<ul>
<li><p>중심극한정리는 기본적으로 “표본평균”의 “분포”에 관한 정리이다. 중심극한정리에 의해 우리는 Sample size가 충분히 크면 모집단의 형태에 관계없이 표본평균의 분포는 정규분포로 근사함을 보일 수 있다.</p></li>
<li><p>수리통계학 관점에서 얘기하면 표본평균의 분포 수렴(convergence in distribution)에 관한 이야기라 할 수 있다.</p></li>
<li><p>더 우아하게 줄여보면 표본평균의 극한분포(limiting distribution)에 관한 이야기라 할 수 있다.</p></li>
<li><p>이에따라, 정규분포를 따르는 표본평균에 기반한 통계량들로 진행되는 수많은 가설검정들은 중심극한정리에 기대어 편하게 진행할 수 있게 된다.</p>
<ul>
<li>예를 들어, 모분산(<img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2">)에 관한 정보가 없는채로 모평균에 관한 검정을 진행할 때 사용하는 t-test를 생각해보자. 여기서는 t-분포를 따르는 t-통계량을 검정통계량(test statistics)으로 사용하게 되는데, 사실 t-통계량은 정규분포를 따르는 통계량을 적절히 조합하여 정의되는 통계량에 해당한다. 이에따라, 우리는 Sample size가 충분히 크기만 하면 별다른 정규성 검정없이 중심극한정리에 기대어 t-test를 수행할 수 있게 된다.</li>
</ul></li>
<li><p>참고로 중심극한정리는 “해당 그룹의 표본 크기(sample size)”에 영향을 받는 것이지, “샘플링 횟수”와는 무관하다.</p></li>
<li><p>중심극한정리에 관한 자세한 고찰은 작년 초에 슬기로운통계생활 블로그에 기고했던 글로 갈음한다: <a href="https://statisticsplaybook.tistory.com/67">▶️ 글 보러가기</a></p></li>
</ul></li>
<li><p>통계적 가설검정의 원리와 p-value의 의미를 정확하게 파악하고 있어야 한다.</p>
<ul>
<li><p>통계적 가설검정은 귀무가설(null hypothersis, <img src="https://latex.codecogs.com/png.latex?H_0">)이 참이라는 가정하에 진행된다. 설명의 편의상, 다음과 같이 모평균 <img src="https://latex.codecogs.com/png.latex?%5Cmu">에 관한 우단측 검정(대립가설 <img src="https://latex.codecogs.com/png.latex?H_1:%20%5Cmu%20%3E%20%5Cmu_0">, e.g.&nbsp;G마켓 충성 고객들의 6개월 내 평균 구매 금액은 10만원을 상회한다)을 가정해보자.</p></li>
<li><p>여기서, 모평균에 관한 검정이므로 검정통계량은 표본평균 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BX%7D">가 되고, 데이터로부터 관측된 표본평균 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D">를 관측된 검정통계량으로 이용하게 된다. 실험에 참가한 각 그룹의 Sample size를 충분히 크게(<img src="https://latex.codecogs.com/png.latex?%5Cge30">) 확보했다고 하면, 중심극한정리에 의해 검정통계량의 분포는 정규분포를 근사한다고 가정할 수 있다.</p></li>
<li><p>이에 따라 귀무가설이 참이라는 하에 검정통계량의 분포는 다음과 같이 정의된다:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbar%7BX%7D%20%5Coverset%7Bunder%20H_0%7D%7B%5Cwidetilde%7Bd%7D%7D%20N(%5Cmu_0,%20%5Cfrac%7B%5Csigma%5E2%7D%7Bn%7D)%0A"></p>
<ul>
<li>본 예제에서 모분산에 관한 정보는 알려져있다고 가정하자.</li>
<li>참고로 가설을 쓸 때 귀무가설에 =을 붙이나, 대립가설에 =을 붙이나 헷갈려 하는 사람들이 많다. 우리는 귀무가설이 참이라는 가정하에 검정통계량 분포를 구하므로, 당연히 귀무가설에 =를 붙이는 것이 맞다.</li>
</ul></li>
<li><p>검정통계량의 귀무가설 하 분포가 정의됐으므로, 이제 데이터로부터 관측된 검정통계량인 표본평균 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D">를 통해 이 결과가 통계적으로 충분히 유의하다고 할만한 결과인지 검정을 할 수 있다.</p></li>
<li><p>관측된 검정통계량을 검정의 편의를 위해 표준화를 시키면 우리가 알고 있는 모평균 검정 시의 검정통계량 <img src="https://latex.codecogs.com/png.latex?Z">가 나오게 된다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AZ%20=%20%5Cfrac%7B%5Cbar%7BX%7D%20-%20%5Cmu_0%7D%7B%5Csigma/%5Csqrt%7Bn%7D%7D%20%5Coverset%7Bunder%20H_0%7D%7B%5Cwidetilde%7Bd%7D%7D%20N(0,%201)%0A"></p></li>
<li><p>이때 관측된 검정통계량의 값을 극단적으로 4라고 가정해보자. 그럼, p-value는 검정통계량 값보다 더 극단값이 나올 확률로 정의되므로 다음과 같이 정의할 수 있다. 연속형 자료이므로 =을 붙이든 말든 상관없다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctextrm%7BPr%7D%5Cleft%20(%20Z%20%3E%204%20%5C;%7C%20H_0%20%5Ctextrm%7B%20is%20true%7D%20%5Cright%20)%20%3C%200.01%0A"></p></li>
<li><p>그림으로는 다음과 같이 표현 될 것이다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/fig4.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">출처: https://sciencebasedmedicine.org/tag/p-value/</figcaption><p></p>
</figure>
</div></li>
<li><p>p-value가 1% 미만에 해당하는 매우 작은 값이 나왔다. 실험에서 관측한 데이터로부터 두 그룹 간의 모평균에 차이가 있다는 귀무가설을 기각할만한 충분한 증거를 얻었다고 할 수 있다. p-value가 수학적으로 위 식처럼 정의되는 것은 알겠는데, 왜 우리는 그 값이 충분히 작아야 귀무가설을 기각하는 결정을 할 수 있을까?</p>
<ul>
<li><p>앞서 말했듯이 통계적 가설검정은 검정통계량의 분포를 귀무가설이 참이라는 가정하에 진행되며, 이에 따라 p-value란 만일 귀무가설이 참이라고 했을 때 관측된 검정통계량 보다 큰 값이 관측된 확률로 정의된다.</p></li>
<li><p>여기서, 만약 관측된 검정통계량으로부터 계산한 p-value가 매우 작다면, 관측된 데이터가 귀무가설이 참이라고 가정한 분포로부터 나왔을(관측됐을, 샘플링 됐을) 확률은 매우 작음을 뜻한다.</p></li>
<li><p>즉, 우리가 관측한 데이터를 바탕으로 귀무가설을 기각하는 결정을 하게 되도 그 주장이 잘못됐을 가능성은 매우 작다는 이야기와도 같다. 이에 따라 우리는 p-value가 충분히 작으면 귀무가설을 기각하는 결정을 할 수 있게 된다.</p></li>
<li><p>통계적 가설검정의 원리에 관하여 과거 티스토리 블로그에 글을 작성했던 적이 있다. 혹시 설명이 부족했다면 참고하기 바란다: <a href="https://be-favorite.tistory.com/21">▶️ 글 보러가기</a></p></li>
</ul></li>
</ul></li>
<li><p>여러가지의 가설을 동시에(simultaneously) 검정하게 될 경우 p-value에 관한 조정이 필요로 된다.</p>
<ul>
<li><p>여기서 “동시에”의 포인트는 하나의 처리에 대해 여러가지 반응값에 대한 가설 검정을 수행할 때를 말한다. 이는 통계학에서 이야기하는 다중검정(multiple testing)의 상황인데, 단일 검정을 수행할 때와 같은 방식으로 검정을 진행하게 되면 심각한 문제가 발생한다.</p></li>
<li><p>예를 들어, 2가지 추천 알고리즘(즉, 추천 알고리즘의 종류가 하나의 처리가 된다)에 대해 CTR, CVR 각각에 통계적으로 유의한 차이가 있는지 검정을 수행한다고 해보자. 이때 단일 가설 검정에서 하던 대로 두 가설 모두 유의수준(significance level) 5%로 놓고 모비율 검정을 수행하는 상황을 가정해보면:</p>
<ul>
<li>귀무가설이 참일 때 귀무가설을 기각시키지 않을 올바른 결정을 내릴 확률은 <img src="https://latex.codecogs.com/png.latex?(1-0.05)%20=%2095%5C%25">가 되며, 이에 따라 두 가설 모두 “동시에” 올바르게 판단할 확률은 <img src="https://latex.codecogs.com/png.latex?(1-0.05)%5E2%20=%2090.25%5C%25">가 된다. 이를 뒤집어서 말하면, 귀무가설이 참인데 귀무가설을 기각시키는 잘못된 판단을 내릴 확률<sup>7</sup>은<img src="https://latex.codecogs.com/png.latex?(1-0.9025)%20=%209.75%5C%25"> 씩이나 된다.</li>
</ul></li>
<li><p>즉, 유의수준 5%로 여러 개의 가설검정을 수행하면 1종 오류 <img src="https://latex.codecogs.com/png.latex?%5Calpha"> 값이 매우 커지는 문제가 발생한다. 이에 따라, 다수의 검정을 동시에 수행할 경우 전체오류율 <img src="https://latex.codecogs.com/png.latex?%5Calpha">를 유지한채로 가설 검정을 수행할 필요가 있다. 이러한 방법론을 통칭하여 FWER(family-wise error rate)을 조절하는 방법이라고 하며, 대표적으로는 본페로니 교정(bonferroni correction)을 예로 들 수 있다.</p></li>
<li><p>단, 가설의 수가 매우 많아질 경우에 FWER를 조절하더라도 지나치게 보수적인 검정을 수행하게 되는 문제가 있어, FDR(false discovery rate)을 조절하는 방법론이 필요로 된다. 여기서는 p-value에 기반한 새로운 값인 q-value 라는 것이 등장하게 된다.</p></li>
</ul></li>
</ul>
<section id="통계학의-이런-부분들로부터-도움을-받았습니다-1" class="level4">
<h4 class="anchored" data-anchor-id="통계학의-이런-부분들로부터-도움을-받았습니다-1">통계학의 이런 부분들로부터 도움을 받았습니다:</h4>
<ul>
<li><p><a href="https://be-favorite.tistory.com/category/%EC%8B%A4%ED%97%98%EC%84%A4%EA%B3%84?page=2">Design of Experiment</a></p></li>
<li><p><a href="https://minerva.it.manchester.ac.uk/~saralees/statbook2.pdf">Mathematical Statistics</a></p>
<ul>
<li><p><a href="https://be-favorite.tistory.com/5">Random variables</a></p></li>
<li><p>Sampling Distribution and Limiting Distribution</p></li>
<li><p>Convergence in Distribution</p></li>
<li><p><a href="https://statisticsplaybook.tistory.com/67">Central Limit Theorem</a></p></li>
<li><p><a href="https://be-favorite.tistory.com/21">Statistical Hypothesis Test</a></p></li>
<li><p><a href="https://be-favorite.tistory.com/22">Power Function</a></p></li>
<li><p>Power Analysis</p></li>
<li><p>Nonparametric Method</p></li>
</ul></li>
<li><p><a href="https://be-favorite.tistory.com/20">Multiple Testing</a> - <a href="https://be-favorite.tistory.com/25">FWER</a>, <a href="https://be-favorite.tistory.com/26">FDR</a></p></li>
</ul>
</section>
</section>
<section id="회귀적-모델링" class="level3">
<h3 class="anchored" data-anchor-id="회귀적-모델링">회귀적 모델링</h3>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?Y">가 연속형 변수인 일반적인 선형회귀분석에서는 <img src="https://latex.codecogs.com/png.latex?Y"> 자체의 분포가 아닌 <img src="https://latex.codecogs.com/png.latex?Y%7CX"> ( <img src="https://latex.codecogs.com/png.latex?Y"> given <img src="https://latex.codecogs.com/png.latex?X">)의 분포가 정규분포를 따라야 한다.</p>
<ul>
<li><p>그래서, 보통 회귀선을 적합하고 남은 잔차(residuals)가 정규분포를 따르는지 잔차분석을 통해 체크한다. 이러한 이유에서 잔차분석은 “회귀분석의 꽃”이라고 불리기도 한다. 실제 문제에서 회귀계수에 관한 추정이 중요한 분석 목적 중 하나 일때는 꼭 잔차분석을 디테일하게 수행해야해야만 한다. 사실, 실제 문제에서 이러한 분석 목적을 갖고 수행하는 잔차분석은 매우 지루하고 어려운 작업이다.</p></li>
<li><p>독립변수(<img src="https://latex.codecogs.com/png.latex?X">)들이 정규성을 따르는지 확인하는 행위는 불필요하다. 풀고자 하는 문제에 선형회귀모형이 필요로 되고 모형 적합에 큰 문제가 없는 데이터라면, 바로 모형을 적합한 뒤에 이를 Baseline model로 잡고 잔차분석을 수행하며 모형을 개선해나가면 된다.</p></li>
</ul></li>
<li><p>“예측”이 목적이라면, 회귀모형에서 굳이 다중공선성(multicolinearlity)을 체킹할 필요는 없다.</p>
<ul>
<li><p>먼저 다중공선성이란, 독립변수들 간의 강한 상관으로 회귀계수 추정량의 표준오차가 크게 발산하여 회귀계수 추정량을 신뢰할 수 없는 문제를 말한다.</p>
<ul>
<li>참고로 다중공선성은 각 독립변수를 나머지 독립변수들의 선형 결합으로 회귀를 수행하여 결정계수 <img src="https://latex.codecogs.com/png.latex?R%5E2">를 통해 분산팽창요인(VIF)을 계산하여 체킹할 수 있다.</li>
</ul></li>
<li><p>통계학과 학부생들은 회귀계수의 추정량을 잘 추정해내기 위한 관점을 바탕으로 선형회귀분석을 배우기 때문에 다중공선성이라는 단어에 매우 민감하다. 회귀계수의 추정에 큰 문제를 일으키는 놈이라고 들었기 때문이다. 그래서, 이 문제를 예측 모델링에도 가져오게 된다.</p></li>
<li><p>회귀계수 추정에 관여하는 <img src="https://latex.codecogs.com/png.latex?X">의 design matrix<sup>8</sup>에서 다중공선성의 존재가 그대로 모델에 반영이 되기 때문에, 다중공선성이 있는 상황에도 예측값 <img src="https://latex.codecogs.com/png.latex?%5Chat%7BY%7D">의 추정 자체에는 별다른 문제를 일으키지 않는다. 다만, 회귀계수 각각의 추정값에 대해서는 큰 문제를 일으킨다. 이러한 이유에서 Y와 X간의 relationship에 관한 평가, X가 Y에 미치는 영향 등에 관한 추론적 목적을 갖는 상황에서 보통 필요로 되는 회귀모형에서 다중공선성의 존재는 매우 치명적인 것이다.</p>
<ul>
<li>사실 실제 데이터를 바탕으로 좋은 회귀모형을 적합하는 일은 매우 어렵다. 잔차분석이 회귀분석의 꽃이라 불리우는 이유도 여기에 있다.</li>
</ul></li>
<li><p>그러나, 앞서 말했듯이 예측이 주 목적인 상황에 회귀모형을 가져다 쓰며 다중공선성에 매몰될 필요는 없다. 그리고, 개인적으로는 예측이 분석 목적인 상황에서는 딱히 회귀모형을 가져다 쓸 필요성을 느끼지 못한다. <img src="https://latex.codecogs.com/png.latex?n%20%5Crightarrow%20p"> , <img src="https://latex.codecogs.com/png.latex?n%20%3C%20p"> 와 같은 고차원 자료에 대한 모델링이 필요한 경우를 제외하면 말이다.</p>
<ul>
<li><p>고차원 자료분석의 공부에는 The University of IOWA의 Patrick Breheny 교수님의 자료를 추천한다: <a href="https://myweb.uiowa.edu/pbreheny/7600/s16/index.html">▶️ 자료 보러가기</a></p>
<ul>
<li><p>가설검정에서 발생하는 고차원문제, 고전적인 회귀분석의 문제점, 고차원 자료에 관한 예측을 수행할 때 나타나는 문제들을 해결하는 방법들에 대해 배울 수 있다. 앞서 이야기한 다중공선성이 존재하는 상황에도 예측값 <img src="https://latex.codecogs.com/png.latex?%5Chat%7BY%7D"> 자체의 추정에는 별다른 문제를 일으키지 않는다는 부분도 해당 강의 자료 중 고전적인 회귀분석이 갖는 문제점을 통해 이해할 수 있었다. 아울러, 범주형 변수(Categorical variables)를 더미변수화 하여 모델에 반영하는 것 외에, 해당 변수가 갖는 본질적인 특성을 반영하여 모델링에 사용할 수 있는 방법에 대해서도 배울 수 있다.</p></li>
<li><p>고차원 자료의 예측 모델링은 Penalty term을 개선해나가며 정의되는 다양한 형태의 Penalized regression을 통해 이루어진다. 이는 연속형 자료뿐만이 아닌 Binary outcome에 사용되는 logistic regression, Survival outcome에 사용되는 Cox regression으로도 자연스러운 확장이 가능하다.</p></li>
<li><p>Penalty term이 고도화됨에 따라 고차원 자료의 예측에 사용되는 모형은 갈수록 경량화되고 예측 성능은 이전과 비슷한 수준 내지는 조금 더 뛰어난 퍼포먼스를 보이게 된다.</p></li>
</ul></li>
</ul></li>
<li><p>(번외) Computer Science나 산업공학과 계열에서 지도학습 기법의 모델들에 관한 공부를 시작할 때 맨처음 접하게 되는 모델 또한 선형회귀모형이다. 그러나, 이 쪽에서는 선형회귀모형을 완벽히 예측 모델링의 관점에서 설명한다. 그래서, 다중공선성, 잔차분석에 관한 것들에 대한 것은 일체 언급되지 않는다. 여기서 선형회귀모형을 소개한 뒤에 다음으로 소개되는 것은 보통 Penalized regression(e.g.&nbsp;Lasso, Ridge)인데, 이쪽 관점에서 Penalized regression의 모티베이션은 regularization<sup>9</sup>에 해당한다. 추론(회귀계수의 점 추정, 구간 추정)을 중시하는 관점에서 회귀모형의 이론을 전개하는 통계학에서 Penalized regression의 모티베이션은 다중공선성에 해당한다.</p></li>
</ul></li>
<li><p>(번외) 확률분포에 기반한 통계적 모델과 머신러닝을 두부자르듯이 둘로 나눠보기란 매우 어렵다. 서로의 부족함을 채워주는 관계로 보는 것이 더 적절해 보인다.</p>
<ul>
<li><p>그 자체로 필요없는 행위이긴 하나, 종종 통계학을 전공하여 전통적인 회귀분석을 시작으로 확률분포를 가정한 모델들에 대해 공부를 하다가 Statistical Learning이라는 개념을 접하고 머신러닝 관점에서 자주 설명하곤 하는 모델들을 공부하기 시작하면 둘을 완벽히 나눌 순 없을까에 관한 생각을 흔히 하곤 한다.</p></li>
<li><p>앞서 이야기 했듯이 회귀분석이라는 개념은 전통적인 통계학의 영역에 속하지만, 머신러닝의 관점에서도 설명이 가능하다. 이처럼 문제를 바라보는 관점에 따라 각 모델은 통계학 관점에서 설명 될수도, 머신러닝 관점에서 설명될 수도 있다. 굳이 따져보자면, 전통적인 통계학은 추론(inference)에 머신러닝은 예측(prediction)에 가치를 더 두고 있는 듯 하다.<sup>10</sup></p></li>
<li><p>궁극적으로 내가 하고 싶은 말은 개인적으로 통계학과 머신러닝의 차이는 그저 문제를 바라보는 관점의 차이라고 생각하고, 자꾸 둘을 나눠서 정의하고 공부하려는 습관은 오히려 공부의 확장성과 이해에 방해가 될 수 있다는 것이다.</p></li>
</ul></li>
</ul>
<section id="통계학의-이런-부분들로부터-도움을-받았습니다-2" class="level4">
<h4 class="anchored" data-anchor-id="통계학의-이런-부분들로부터-도움을-받았습니다-2">통계학의 이런 부분들로부터 도움을 받았습니다:</h4>
<ul>
<li><p>Regression Analysis</p>
<ul>
<li><a href="https://sadbhavnapublications.org/research-enrichment-material/2-Statistical-Books/Regression-Analysis-by-Example.pdf">Regression Analysis by Example</a> (명작)</li>
</ul></li>
<li><p><a href="https://be-favorite.tistory.com/category/%EA%B3%A0%EC%B0%A8%EC%9B%90%20%EC%9E%90%EB%A3%8C%EB%B6%84%EC%84%9D?page=2">High-Dimensional Data Analysis</a></p></li>
<li><p>Statistical Learning</p>
<ul>
<li><p><a href="https://www.statlearning.com/">Introduction to Statistical Learning</a> (명작 I)</p></li>
<li><p><a href="https://hastie.su.domains/Papers/ESLII.pdf">The Elements of Statistics Learning</a> (명작 II. 난이도 높음)</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="시간-순서로-관측된-자료의-모델링" class="level3">
<h3 class="anchored" data-anchor-id="시간-순서로-관측된-자료의-모델링">시간 순서로 관측된 자료의 모델링</h3>
<ul>
<li><p>소인수 분해, 고윳값 분해를 통해 1보다 큰 자연수와 행렬이 갖는 고유한 특성을 파악할 수 있듯이, 시간 순서대로 관측된 시계열 자료 또한 추세-순환 요소(trend-cycle component), 계절 요소(seasonal component), 나머지 성분(remainder)으로 나누어 보면 해당 자료가 갖는 본질적인 특징을 파악할 수 있다.</p>
<ul>
<li><p>시계열 분해는 모델링 단계에서 큰 도움이 된다.</p>
<ul>
<li><p>추세-순환 요소, 계절 요소 외에 나머지 성분의 패턴이 랜덤하지 않고 일정한 패턴을 보인다면, 해당 자료의 모델링에는 남은 변동을 설명할 수 있을만한 다른 시계열 자료<sup>11</sup>가 필요로 됨을 뜻한다. 즉, 자기 자신의 과거 패턴만으로는 설명이 부족한 자료라 할 수 있다.</p></li>
<li><p>시계열 자료의 관측 형태(e.g.&nbsp;Daily, Weekly, Monthly)에 따라 여러가지 윈도우의 계절성을 가질 수 있는데, 시계열 분해를 통해 해당 자료가 갖는 계절성에 관해 상세한 파악이 가능하다.</p></li>
</ul></li>
</ul></li>
<li><p>시계열의 ACF, PACF까지 살펴보면 더 많은 도움이 된다.</p>
<ul>
<li><p>ACF와 PACF는 기본적으로 시계열에 자기상관(Autocorrelation)이 있는지 체크해주는 통계량에 해당한다. 여기서, 자기상관은 시계열 자료가 갖는 잠재적인 서열적 상관성을 의미한다.</p></li>
<li><p>예를 들어, 하루 전의 값이 다음 날의 값에 얼마나 영향을 미치는 지와 같이 말이다. ACF와 PACF를 통해 파악된 시계열의 성질에 따라 AR(Auto-regressive) term을 모델에 넣어주면 예측 퍼포먼스 개선에 도움이 될 수 있다.</p></li>
</ul></li>
<li><p>푸리에 급수(fourier series)는 긴 기간의 계절성을 갖는 자료의 계절 패턴에 관한 표현에 많은 도움이 된다.</p></li>
<li><p>시간 영역에 관한 함수로 표현되는 시계열 자료를 주파수(frequency) 영역으로 바꿔서 나타내보면 시계열 자료가 갖는 또다른 본질적인 특성을 찾아낼 수도 있다.</p>
<ul>
<li><p>이와 관련한 이론으로 Fast Fourier Transfrom, Discrete Wavelet Transform 등이 있다.</p></li>
<li><p>시계열 자료의 예측 모델링에서 일종의 Feature engineering 기법으로 종종 이용이 된다.</p></li>
</ul></li>
<li><p>시계열 자료의 예측은 기본적으로 단기 예측에서만 유효하다. 장기 예측을 위해서는 과거의 패턴이 미래에도 긴 시간 유지된다는 암묵적으로 강한 가정이 필요한데, 실제로 이 가정이 충족되기란 매우 어렵다.</p></li>
<li><p>문제 상황에 따라 때로는 수십년간 쌓인 엄청난 양의 시계열 자료보다 더 적은 양의 최근 몇년 자료만을 모델 학습에 사용하는 것이 더 나은 퍼포먼스를 보일 수 있다.</p></li>
<li><p>ARCH, GARCH를 포함한 ARIMA 계열의 모델이 형태가 꽤 간단하여 만만해 보이나, Feature engineering에 큰 공을 들이지 않은 Neural Net 기반 모델보다 더 뛰어난 퍼포먼스를 보일때가 많다.</p></li>
<li><p>시계열 자료에 관한 예측 모델링 이전에 본질적으로 예측 가능성이 존재하는 시계열 자료인지에 관한 고민이 선행되어야 한다.</p>
<ul>
<li><p>시계열의 예측 가능성을 판단하는 사항은 크게 4가지가 있다<span class="citation" data-cites="hyndman2021">(Hyndman and Athanasopoulos 2021)</span>:</p>
<ul>
<li><p>시계열의 예측에 기여하는 요인들을 얼마나 잘 이해하고 있는가</p></li>
<li><p>얼마나 많은 양의 데이터를 이용할 수 있는가</p></li>
<li><p>미래는 과거와 얼마나 비슷한가</p></li>
<li><p>예측이라는 행위 자체가 우리가 예측 하려는 것에 영향을 미치는가</p></li>
</ul></li>
<li><p>가령, 국내 주거용 전기 수요의 단기 예측은 꽤 정확하게 수행이 가능할 것이다. 위 4가지 사항을 만족시키는 자료이기 때문이다.</p>
<ul>
<li><p>전기 수요는 기온에 상당한 영향을 받으며, 휴일, 전반적인 경기에 약간의 영향을 받는다.</p></li>
<li><p>수십년 간 쌓인 국내 전기 수요 자료와 기상 환경에 관한 자료를 이용할 수 있다.</p></li>
<li><p>몇 주 후 수준의 단기 예측 에서는 전기 수요의 형태가 과거와 비슷하다는 가정이 가능하다.</p></li>
<li><p>국내 전기 사용료는 수요에 민감하여 급박하게 변화하지 않는다. 즉, 전기 수요의 예측이 주거용 전기 사용 고객들의 행동에 영향을 미치진 않는다.</p></li>
</ul></li>
<li><p>반대로, 통화 환율은 예측이 불가능한 시계열 자료에 해당한다. 위 사항들 중 2번째 사항만 만족한다.</p>
<ul>
<li><p>환율에 영향을 미치는 요인들에 대한 이해에 한계가 있다. 예측할 수 없는 수많은 것들이 환율에 영향을 미칠 수 있다.</p></li>
<li><p>미래 환율의 변화 형태가 과거와 비슷할 것이라 가정하는 것은 매우 어렵다. 경제 또는 정치에 중대한 위기가 발생할 경우 환율은 과거의 패턴과는 상당히 다르게 움직일 것이다.</p></li>
<li><p>무엇보다 환율의 예측은 그 자체로 시장의 사람들에게 직접적 영향을 미친다. 예를 들어, 환율을 꽤 정확하게 예측할 수 있는 모형이 개발되었다고 가정했을 때, 환율이 오를 것이라 예측하면 시장은 즉시 그것에 반응할 것이다.<sup>12</sup></p></li>
</ul></li>
</ul></li>
<li><p>여러가지 시계열에 관한 모델링<sup>13</sup>에 앞서 허구적 회귀(spurious regression)에 관한 개념을 알아둘 필요가 있다.</p>
<ul>
<li><p>허구적 회귀란, 실제로는 서로 독립적인 아무 관련이 없는 비정상 시계열 변수 간에 선형회귀모형의 적합 결과가 통계적으로 유의하게 나타나는 경우를 말한다.</p></li>
<li><p>서로 독립인 두 비정상(non-stationary) 시계열이 모두 강한 계절성과 추세를 갖는 경우 이들 간의 선형회귀 결과는 매우 유의하게 나타날 수 있다.</p></li>
<li><p>이러한 결과는 아무런 의미를 갖지 못하고 이를 허구적이라 표현한다: <a href="https://www.datasciencecentral.com/spurious-correlations-15-examples/">▶️ 허구적 상관에 관한 15가지 예제 확인하러 가기</a></p></li>
</ul></li>
</ul>
<section id="통계학의-이런-부분들로부터-도움을-받았습니다-3" class="level4">
<h4 class="anchored" data-anchor-id="통계학의-이런-부분들로부터-도움을-받았습니다-3">통계학의 이런 부분들로부터 도움을 받았습니다:</h4>
<ul>
<li><p>Time Series Data Analysis</p>
<ul>
<li><p>Time Series Decomposition</p></li>
<li><p>ARIMA model (Including ARCH, GARCH)</p></li>
<li><p>Spurious Regression</p></li>
<li><p>Spectral Analysis (STFT, FFT, DWT)</p></li>
<li><p>Time Series Forecasting</p>
<ul>
<li><a href="https://otexts.com/fpp3/">FPP3</a></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="알아두면-재밌는-것들" class="level3">
<h3 class="anchored" data-anchor-id="알아두면-재밌는-것들">알아두면 재밌는 것들</h3>
<ul>
<li><p>통계학을 이해하는 데에 가장 중요한 첫 걸음은 확률변수(random variable)는 분포(distribution)을 갖는다는 점을 이해하는 것이다.</p>
<ul>
<li><p>통계량(statistics)은 확률변수의 선형결합으로 표현할 수 있고, 따라서 통계량 또한 분포를 갖는다.</p></li>
<li><p>이 부분을 이해하면 통계학의 이론 전개를 위해 구분되어 표기되는 표본평균 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BX%7D">와 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D">가 어떻게 다르고, 왜 이렇게 표기가 되어야만 하는지 이해할 수 있을 것이다. 전자는 분포를 갖는 통계량을 의미하며, 후자는 표본으로부터 관측한 실현값으로 상수를 의미한다. 확률변수는 분포를 갖는다는 개념을 이해하고 있으면 이 개념을 받아들이기는 어렵지 않을 것이다. 이러한 사실 외에도 확률변수가 분포를 갖는다는 개념을 이해하면 통계학 전반에 대한 이해에 정말 많은 도움이 될 것이다.</p></li>
</ul></li>
<li><p>확률(Probability)과 가능도(Likelihood)는 다르다.</p>
<ul>
<li><p>확률은 모수(<img src="https://latex.codecogs.com/png.latex?%5Ctheta">, parameter)<sup>14</sup>가 주어졌을때 데이터(<img src="https://latex.codecogs.com/png.latex?X">)가 관측될 가능성을 나타낸다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%7B%5Crm%7BProbability%7D%7D%20=%20Pr(X%7C%5Ctheta)%0A"></p></li>
<li><p>가능도는 데이터(<img src="https://latex.codecogs.com/png.latex?X">)가 주어졌을 때 특정 모수가 관측될 가능성으로, 모수에 관한 함수에 해당하며 기호 <img src="https://latex.codecogs.com/png.latex?L">로 나타낸다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%7B%5Crm%7BLikelihood%7D%7D%20=%20f(X%7C%5Ctheta)%20=%20L(%5Ctheta%7CX)%0A"></p>
<ul>
<li><p>단, 여기서 주어진 데이터는 우리가 사전에 알고 있는 모수적 모형(e.g.&nbsp;정규분포)으로부터 주어진 확률표본(random sample)<sup>15</sup>이여야 한다.</p></li>
<li><p>이는 우리가 중심극한정리에 기대게 되는 또 하나의 이유가 된다.</p></li>
</ul></li>
<li><p>예제를 통해 확률과 가능도의 차이를 알아보자. 통계고등학교의 학생들의 키(X)는 평균이 <img src="https://latex.codecogs.com/png.latex?%5Cmu">이고 분산이 100인 정규분포<sup>16</sup>를 따른다고 하자. 여기서 확률과 가능도 각각은 다음과 같이 정의될 수 있다.</p>
<ul>
<li><p>확률 개념의 설명을 위해 통계고등학교 학생들의 키에 관한 모평균 <img src="https://latex.codecogs.com/png.latex?%5Cmu"> 또한 170으로 알려져있다고 하자.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%7B%5Crm%7BProbability%7D%7D%20=%20Pr(X%20%3Ex%7C%5Cmu%20=%20170,%20%5Csigma%5E2%20=%20100)%0A"></p>
<ul>
<li><p>즉, 위 식은 통계고등학교 학생들의 키의 평균이 170(모평균)이고 분산이 100(모분산)일 때 학생들의 키 값들이(데이터) 관측될 가능성을 나타낸 것에 해당하며, 이러한 예를 두고 우리는 “확률”이라고 표현한다.</p></li>
<li><p>위 식에 따라 다음과 같이 통계고등학교 학생들의 키가 170보다 클 확률을 구할 수 있다:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%7B%5Crm%7BProbability%7D%7D%20=%20Pr(X%20%3E170%7C%5Cmu%20=%20170,%20%5Csigma%5E2%20=%20100)%0A"></p></li>
</ul></li>
<li><p>가능도 개념의 설명을 위해 통계고등학교의 전교생 중 30명을 확률표본으로 추출하여 관측한 상황이라고 해보자.</p>
<ul>
<li><p>앞서 우리에게 알려진 모집단의 정보는 모분산밖에 없는 상황인데, 통계고등학교 학생들의 평균키를 추정해야하는 상황이다.</p></li>
<li><p>우리가 사전에 알고있는 모수적 모형(정규분포)를 따르는 확률표본 학생 30명의 키를 바탕으로 가능도함수를 이용해 우리가 관심있는 모수값에 관한 관측 가능성을 나타낼 수 있다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%7B%5Crm%7BLikelihood%7D%7D%20=%20L(%5Cmu%7Cx_1,%20x_2,%20%5Ccdots,%20x_%7B30%7D)%0A"></p>
<ul>
<li><p>즉, 30명의 키를 관측했을 때(데이터가 주어졌을때) 우리가 관심있는 모수인 모평균(통계고등학교 학생들 키의 평균값)이 관측될 가능성을 나타낸 것에 해당하며, 우리는 이러한 예를 두고 “가능도”라고 표현한다.</p></li>
<li><p>여기서 주어진 데이터가 관측될 확률을 최대로 해주는 모수를 추정할 수 있고, 우리는 이러한 추정 방법을 최대가능도추정(Maximum Likelihood Estimation)이라고 표현하며, 이렇게 추정된 추정량을 MLE라고 일컫는다.</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>(번외) 베이지안은 앞서 살펴본 Likelihood와 사전확률(prior)의 곱에 비례하는 모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">의 사후분포(posterior)를 추정하는 영역이다. 이에 따라 베이지안의 모수 추정에는 훨씬 더 많은 계산량이 필요로 된다. 그러나, 상황에 따라 베이지안 추정이 Likelihood만으로 모수 추정을 수행하는 Frequentist 관점의 추정보다 계산량에 비례하여 충분히 더 나은 퍼포먼스와 효율을 보이지 않는 경우도 많다. 즉, Likelihood만을 이용한 추정보다 베이지안이 더 뛰어난 추정법이라 생각하여 무지성으로 모든 문제에 베이지안 추정을 활용하고자 하는 사고는 피하는 것이 좋다는 말이다. 도메인 지식 또는 사전 연구에 의한 Prior의 정의, 풀고자하는 문제의 Context에 따라 베이지안 관점의 추정 또한 적절히 맞춰 활용될 필요가 있다. 딥러닝을 바라보는 관점에 있어서 종종 등장하는 다음의 밈과 같은 맥락에 해당하는 이야기이다.</p>
<p><img src="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/fig5.jpg" class="img-fluid" width="500"></p></li>
</ul></li>
<li><p>좋은 추정량이 되기 위해서는 불편성(unbiasedness), 일치성(consistency), 유효성(efficieny)을 만족해야한다.</p>
<ul>
<li><p>추정량이라는 단어를 처음 드는 사람을 위해 잠깐 설명을 해보자면, 특정 통계량이 모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">의 추정에 사용 될 때 이를 추정량(estimator)라고 한다. 실무에서 흔히 추정하게 되는 두 모수 모평균 <img src="https://latex.codecogs.com/png.latex?%5Cmu">, 모비율 <img src="https://latex.codecogs.com/png.latex?p"> 의 추정에는 표본평균 <img src="https://latex.codecogs.com/png.latex?%5Cbar%7BX%7D">, 표본비율 <img src="https://latex.codecogs.com/png.latex?%5Chat%7Bp%7D">을 추정량으로 사용한다. 예를 들어, 평균 매출과 같은 것들에 관한 추론은 모평균에 관한 추정, CTR, CVR과 같은 비율 지표들에 관한 추론은 모비율에 관한 추정을 나타낸다.</p></li>
<li><p>일치성은 추정량으로써 반드시 가져야하는 성질로, 이 성질이 만족하지 않으면 통계적 성질을 갖기 힘들다. 즉, 우리가 모평균과 모비율의 추정에 사용하는 표본평균과 표본비율은 기본적으로 이 성질을 만족하는 추정량에 해당한다.</p></li>
<li><p>불편성은 추정량의 기댓값 <img src="https://latex.codecogs.com/png.latex?E(%5Chat%7B%5Ctheta%7D)">이 모수가 되어야함을 나타내며, 여기서 기댓값이란 분포의 중심 위치로 추정량<sup>17</sup>이 갖는 분포의 중심위치가 모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">와 동일함을 의미한다. 불편성을 만족하는 추정량이 항상 더 좋은 추정량은 아니며, 편의추정량(biased estimator)이라도 그 편의가 크지 않고 분산이 불편추정량에 비해 현저히 작다면 편의추정량이 해당 모수를 추정하는 더 좋은 추정량으로 볼 수도 있다.</p></li>
<li><p>유효성은 절대적 정의가 아닌 상대적 정의로, 분산이 더 작은 추정량이 더 유효하다고 표현한다.</p></li>
</ul></li>
<li><p>우리가 <img src="https://latex.codecogs.com/png.latex?n">개의 확률표본을 가지고 있다고 할 때, 모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">에 관한 추정은 <img src="https://latex.codecogs.com/png.latex?n">개의 표본 대신 <img src="https://latex.codecogs.com/png.latex?%5Csum%20X_i">이 가지고 있는 모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">의 정보만으로도 동일한 추론이 가능하다.</p>
<ul>
<li><p>충분통계량(sufficient statistics)에 관한 개념으로, 충분통계량은 <img src="https://latex.codecogs.com/png.latex?n">개의 확률표본이 가지고 있는 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">의 정보력과 동일한 정보력을 가진 통계량을 말한다. 정보력은 가지되 가능한 단순한 형태를 취하는 것이 바람직 할 것이다.</p></li>
<li><p>별 것 아닌 사실처럼 보이지만, 내용을 곱씹어보면 모수에 관한 추정을 <img src="https://latex.codecogs.com/png.latex?n">개의 통계량까지 필요없이 통계량의 합의 형태만으로 동일한 추정을 할 수 있다는 놀라운 이야기다. 참고로 저 합을 확률표본의 수로 나누면 표본평균, 표본비율과 동일한 형태가 되는데, 이는 곧 표본평균과 표본비율이 갖는 정보량이 <img src="https://latex.codecogs.com/png.latex?n">개의 확률표본이 갖는 정보량과 같다는 놀라운 사실을 나타낸다. 아울러, 이 사실 또한 우리가 중심극한정리에 기대게 되는 또 하나의 이유가 된다. 이와 관련한 R.A. Fisher 경의 유명한 일화를 교수님으로부터 들었는데 잘 기억이 나질 않는다.😂</p></li>
</ul></li>
<li><p>MLE는 기본적으로 불변성(invariance property)<sup>18</sup>을 가지며, 표본만 많이 확보하면 앞서 소개한 추정량이 가질 수 있는 좋은 성질들을 모두 가질 수 있다.</p>
<ul>
<li><p>이는 다른 추정량은 갖지 못하는 MLE의 매우 특별한 성질이며, 동시에 ML 추정이 언제나 사랑받는 이유에 해당한다.</p></li>
<li><p>최대가능도추정량의 극한분포를 살펴보면 Sample size <img src="https://latex.codecogs.com/png.latex?N">이 충분히 크면, MLE는 근사적으로 불편추정량이 되고 최소 분산을 갖게 됨을 확인할 수 있다. 즉, MLE는 <img src="https://latex.codecogs.com/png.latex?N">이 크기만 하면 UMVUE(Uniformly Minimum Variance Unbiased Estimator)가 된다는 말이다.</p></li>
</ul></li>
</ul>
<section id="통계학의-이런-부분들로부터-도움을-받았습니다-4" class="level4">
<h4 class="anchored" data-anchor-id="통계학의-이런-부분들로부터-도움을-받았습니다-4">통계학의 이런 부분들로부터 도움을 받았습니다:</h4>
<ul>
<li><p><a href="https://minerva.it.manchester.ac.uk/~saralees/statbook2.pdf">Mathematical Statistics</a>의 전반</p>
<ul>
<li><p><strong>이처럼 데이터에 기초한 추정에서 우리가 당연하게 생각하고 사용하는 것들은 사실 수리통계학에서 엄밀하게 증명된 것들에 해당한다.</strong></p></li>
<li><p><strong>즉, 수리통계학이라는 존재는 데이터에 기초한 가설의 설정과 그에 관한 추정과 검증을 매일같이 반복하는 우리에겐 너무나도 든든한 존재라는 것이다.</strong></p></li>
<li><p>p.s. DA/DS라는 도메인의 모든 부분이 통계학으로서 설명된다는 취지로 하는 말은 결코 아니며, 알다시피 DA/DS에서 반복적으로 이루어지는 작업들 중 통계학 외에 선형대수, 정보 이론, 최적화 이론에 기초하고 있는 것들 또한 많다. 아울러, 현재 산업 전반에서 DA/DS가 차지하고 있는 인기와 위치에는 엔지니어링이라는 영역의 기여도 상당히 큰 부분을 차지하고 있다.</p></li>
<li><p>p.s. 혹시 통계학을 전공하고 있는 학부생임에도 수리통계학 공부가 하기 싫고 재미가 없다면, 이 부분에 흥미를 조금 돋궈줄만한 글을 과거 슬기로운 통계생활 블로그에 기고했던 적이 있다. 속는 셈치고 읽어보길 바란다: <a href="https://statisticsplaybook.tistory.com/31">▶️ 글 읽어보러 가기</a></p></li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>통계학이라는 학문이 DA/DS에서 갖는 가치는 무엇이라고 생각하시나요? 저는 통계학이 Data Analytics, Data Science라는 영역을 꼰대스럽게 바라보게 해준다고 생각합니다. 좀 더 풀어서 말해보면, 우리는 매일같이 데이터를 기반으로 가설을 세우고 이를 검증하는 일을 하게 되는데, 통계학은 이때 내리게 되는 의사결정 하나하나를 이성적이고 냉정하게 내릴 수 있도록 도와주는 역할을 한다고 생각합니다. 데이터 전처리, 지표 설계 및 해석, 모델링, 추정량과 분석 결과에 관한 해석 등 가설 검증에서 하게되는 여러 모든 작업들에서 말이죠.</p>
<p>그리고, 통계학 이야기와는 별개로 현업에서 일을 하면서 늘 이런 생각을 하곤 합니다. 실무에서 분석 배경 및 문제 상황에 관한 Context를 이해하고 주어진 데이터로 제 나름대로의 방법론을 설계하여 문제를 풀고 있으면, 과연 이게 최적의 방법인지에 대해서요. 나보다 한 수, 두 수 위에 사람도 과연 이렇게 문제를 풀 것인가에 대해서 말이죠. 이 부분에 대한 확신을 위해, 그리고 주어진 상황과 문제, 데이터에 맞게 최적의 결과를 뽑아내기 위해 우리는 끊임없이 공부를 하게 되는 것이 아닌가 생각해봅니다.</p>
<p>오늘 쓴 글은 사실 제가 예전부터 써보고 싶은 주제의 글이었습니다. 그런데, 막상 본 주제로 글쓰기를 시작하니 너무 어렵고 부담이 되더군요. 그래서, 자연스럽게 방어적인 글쓰기를 하게 되어 자극적인 글 제목에 비해 글의 내용이 너무 싱겁지 않았을지 조금 걱정이 되기도 합니다.😂 여담이긴 하지만, PAP에 기고했던 지난 글은 초고부터 교정까지 5-6시간 정도면 됐는데, 이번 글은 Introduction에 관한 초고를 쓰고 교정하는 데에만 그정도 시간이 소요된 것 같습니다. “통계학이 중요한 이유”에 관해 이야기한 글이라기 보다는, 현업에 있으면서 소중하다고 느낀 통계학에서 배운 포인트들을 나열함으로써 “통계학을 배워두면 이렇게 쓸모가 있어요.” 정도를 이야기하는 글로 받아주셨으면 합니다.</p>
<p>아직 제 수준에 건드려서는 안되는 주제로 글을 쓰고 있는게 아닌가 하는 생각이 들어, 주제를 바꿔볼까 생각했지만.. 이런 자극적인 주제로 학계, 산업계 다양한 곳에 계신 재야의 통계학 고수분들께 날카로운 피드백을 받는 것 또한 제게 많은 도움이 될 것 같아서 꾸역꾸역 글을 마무리했습니다. 여러분들이 생각하시는 통계학이라는 학문이 DA/DS에서 갖는 가치는 무엇이라고 생각하시나요?</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-chen2016" class="csl-entry">
Chen, Tianqi, and Carlos Guestrin. 2016. <span>“XGBoost: A Scalable Tree Boosting System.”</span> <em>Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>, August, 785–94. <a href="https://doi.org/10.1145/2939672.2939785">https://doi.org/10.1145/2939672.2939785</a>.
</div>
<div id="ref-goodfellow2016" class="csl-entry">
Goodfellow, Ian, Yoshua Bengio, and Aaron Courville. 2016. <em>Deep Learning</em>. MIT Press.
</div>
<div id="ref-hyndman2021" class="csl-entry">
Hyndman, Rob J, and George Athanasopoulos. 2021. <em>Forecasting: Principles and Practice (3rd Ed)</em>. OTexts: Melbourne, Australia. <a href="https://otexts.com/fpp3/">https://otexts.com/fpp3/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>Data Analytics/Data Science↩︎</p></li>
<li id="fn2"><p>학습 알고리즘, Bias-Variance Trade-Off, Validation, MLE, Bayesian Statiscis, SGD 등↩︎</p></li>
<li id="fn3"><p>임상 시험 영역↩︎</p></li>
<li id="fn4"><p>온라인 서비스의 영역↩︎</p></li>
<li id="fn5"><p>설계한 실험들로 확인할 수 있는 바들을 최대한 뽑아 먹을 수 있는↩︎</p></li>
<li id="fn6"><p>Central Limit Theorem↩︎</p></li>
<li id="fn7"><p>즉, 통계학에서 말하는 1종 오류 <img src="https://latex.codecogs.com/png.latex?%5Calpha">↩︎</p></li>
<li id="fn8"><p>데이터셋을 묘사하는 방법중 하나라고 생각하면된다. 행은 관측치를 나타내고, 열은 feature를 나타낸다.↩︎</p></li>
<li id="fn9"><p>학습알고리즘(학십시킨 머신러닝 모형)의 training error가 아닌 generalization error를 줄일 목적으로, 해당 학습알고리즘에 어떤 수정(modification)을 가하는 모든 행위를 통칭한 것을 말한다. 여기서, generalization error란, 이전에 관측하지 않은 unobserved data(e.g.&nbsp;test data)에도 좋은 성능을 보여주는 능력을 말한다.↩︎</p></li>
<li id="fn10"><p>예측 모델의 연구에 집중하는 통계학의 영역도 있다↩︎</p></li>
<li id="fn11"><p>이를 회귀자(regressor)라고 표현하기도 한다.↩︎</p></li>
<li id="fn12"><p>이를 <a href="https://namu.wiki/w/%ED%9A%A8%EC%9C%A8%EC%A0%81%20%EC%8B%9C%EC%9E%A5%20%EA%B0%80%EC%84%A4">효율적 시장 가설(efficient market hypothesis)</a>라 일컫는다.↩︎</p></li>
<li id="fn13"><p>예를 들면, 특정 시계열을 다른 시계열들의 선형 결합으로 모델링하는 시계열 회귀모형과 같은 접근↩︎</p></li>
<li id="fn14"><p>모집단의 특성값. 흔히 우리는 모집단이 갖는 특정 값에 관한 평균, 비율 등에 관심이 있다.↩︎</p></li>
<li id="fn15"><p>여기서 확률표본 <img src="https://latex.codecogs.com/png.latex?X_1,%20X_2,%20%5Ccdots,%20X_n">을 구성하는 각 표본점(sample points)들은 상호 독립적(indendent)이고, 동일한 모집단으로 추출된 동일한 분포를 갖는다. 흔히 통계학에서 i.i.d.(independent and identically distibuted)라고 표현한다. 즉, 확률표본이랑 i.i.d. 가정을 만족하는 표본을 말한다.↩︎</p></li>
<li id="fn16"><p>정규분포는 평균과 분산 2가지 모수로 이루어져있는데, 편의상 분산은 알려진 상수로 가정↩︎</p></li>
<li id="fn17"><p>추정량은 통계량에 해당하고, 통계량은 확률변수들의 선형결합에 해당한다. 이에 따라 추정량 또한 분포를 갖는다.↩︎</p></li>
<li id="fn18"><p>모수 <img src="https://latex.codecogs.com/png.latex?%5Ctheta">에 대한 최대가능도추정량이 <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Ctheta%7D">이면, <img src="https://latex.codecogs.com/png.latex?h(%5Ctheta)"> 에 관한 최대가능도추정량은 <img src="https://latex.codecogs.com/png.latex?h(%5Chat%7B%5Ctheta%7D)">이 된다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {통계학, 그게 왜 중요한데?},
  date = {2023-05-01},
  url = {https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“통계학, 그게 왜 중요한데?”</span> May 1, 2023. <a href="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/">https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/</a>.
</div></div></section></div> ]]></description>
  <category>Column</category>
  <guid>https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/index.html</guid>
  <pubDate>Sun, 30 Apr 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-05-01-what-statistics-has-taught-me/preview.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>월간 회고록: 3월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-04-17-monthly-memory-202303/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-04-17-monthly-memory-202303/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>지난 월간 회고록들은 경어체로 작성했는데, 이제부터는 평어체로 무심한듯?.. 편하게 작성해보려고 한다. 사실 다른 기술적인 주제의 글들도 이제는 그냥 평어체로 작성해볼까 한다. 회사 기술 블로그나 플랫폼에 기고하는 글도 아니고, 그냥 개인적으로 운영하는 블로그에 글을 쓰는데 굳이 경어체까지 쓸 필요가 있을까 싶다. 부담없이 빠르게 글을 쓰기에는 평어체 + (구어체, 문어체 혼용) 조합이 최고이기 때문에. 말하는 걸 보니 이미 어느정도 결론을 지어놓은 듯 하다.😂 그럼 이제 본론으로 들어가서 지난 3월을 돌아보자.</p>
<section id="일" class="level2">
<h2 class="anchored" data-anchor-id="일">일</h2>
<section id="사내-뉴스룸-인터뷰" class="level3">
<h3 class="anchored" data-anchor-id="사내-뉴스룸-인터뷰">사내 뉴스룸 인터뷰</h3>
<p>3월 23일 Corporate Comms 팀으로부터 사내 뉴스룸 인터뷰 요청을 받았다. 블로그에 글을 포스팅하고 난 뒤에 링크드인에 홍보를 하곤 했는데, 거기서 내 글을 봐주시고 개인 블로그에 쓴 글들을 좋게 봐주신 듯 했다. 아직 저연차이기 때문에 다른 분들께 도움이 될만한 이야기를 할 수 있을까 싶어 인터뷰에 응해도 될지 망설여졌다. 뭐, 결론적으로는 팀원분들께 의견을 조금 여쭤보고 용기를 얻어 인터뷰에 응하기로 했지만.😂</p>
<p>며칠 뒤 무려 11개의 질문이 담긴 인터뷰 질문지를 받았다. 질문들을 쭉 한번 읽어보자마자 답변에 꽤 많은 시간이 걸리겠음을 직감했다. 정답이 없는 꽤 어려운 질문들도 있었고, 내 과거를 돌아봐야하는 질문들도 있었다. 답변 초고 작성, 퇴고 및 교정까지 대략 6-7시간 정도를 쓴 듯 하다. 퇴고 및 교정에 너무 집중하다보니 의도치 않은 야근을 하게되기도 했고. 뭐 이정도는 내가 원해서 응한 인터뷰여서 의도치 않은 야근이었지만 기분 좋은?..야근이었다. 그리고, 내 개인 블로그도 아닌 회사 뉴스룸에 남는 글이 될 것이기 때문에 답변에 더더욱 신경쓸 필요가 있었다.</p>
<p>아무튼, 이번 뉴스룸 인터뷰는 내게 좋은 경험이었다:</p>
<ul>
<li><p>왜 좋은 경험이었다고 생각하고 있는가?</p>
<ul>
<li><p>뉴스룸에 들어가는 인터뷰의 특성 상 우리 업무를 잘 모르는 사람들이 대상 독자일 수 있다. 그래서, 최대한 알기 쉽게 설명하려고 노력했다. Data Analytics/Science 쪽에 사전 지식이 없는 사람들을 대상으로 우리 팀에 대해, 그리고 내가 맡은 업무에 대해 쉽게 설명하는 연습을 해볼 수 있었다.</p></li>
<li><p>학창 시절 데이터 분석 업무에 관한 비전, G마켓에서 입사하기 전에 했던 업무, G마켓 AI Product 팀에서 근무를 시작하게 된 계기 등과 같은 질문에 답변을 하며, 과거를 깊게 회고해볼 수 있었다. 갈림길에 선 순간들에서 왜 그런 결정을 했는지에 대해 돌아보는 것은 언제나 즐겁다. 이러한 질문들에 답변하는게 누군가는 따분한 일일 수도 있는데, 나는 왜 즐거운지에 대해 생각을 해봤다. 첫째는 인생의 갈림길에서 고심 끝에 선택한 것들이 스택된 결과인 현재의 내 상황이 그렇게 썩.. 나쁘진 않다고 생각하고 있어서 일 것이고, 둘째는 각각의 결정에 개인적으로 납득이 가는 합당한 이유가 있었기 때문일 것이다.</p></li>
<li><p>나와 같은 저연차에 사내에서 이런 인터뷰 기회 갖는 경우는 많지 않다고 보는데, 거기다 내 블로그를 좋게 봐주셔서 인터뷰를 요청하셨다고 하니 더 기분이 좋았다.</p></li>
<li><p>(번외) 인터뷰지에 받은 질문들이 어렵기도 했고 꽤 구체적이었는데, 아마 그 이유는 내 블로그의 회고 글이나 칼럼들을 쭉 훑어봐 주셔서 그런 것 같다. 사진 촬영하는 날 담당자 분과 이런저런 이야기도 나누었는데, 내 블로그에 글들이 질문지를 만드실 때 많은 도움이 되셨다고 했다. 아무래도 잘 모르는 분야에 있는 실무자에게 그 사람의 배경과 해당 분야의 사전 지식에 대한 정보가 없는 채로 여러 질문을 던져야하니, 주기적으로 인터뷰이(interviewee)를 선정하고 인터뷰어(interviewer)로서 좋은 질문지를 만드는 일도 정말 만만치 않은 일이라는 생각이 들었다.</p></li>
</ul></li>
</ul>
<p>결론적으로 뉴스룸에 최종적으로 올라간 질문은 9개이다. 빠진 질답은 하루 일과, 업무 루틴에 관한 것과 내 개인적 목표에 관한 부분인데, 내가 다른 질문들에 꽤 답변을 길게해서 충분히 빠질만 했던 것 같다.😅</p>
<p><a href="https://news.gmarket.com/index.php/blog-detail/?pid=758">▶️ 인터뷰 보러가기</a></p>
</section>
</section>
<section id="개인" class="level2">
<h2 class="anchored" data-anchor-id="개인">개인</h2>
<section id="pap-퍼블리셔-3기" class="level3">
<h3 class="anchored" data-anchor-id="pap-퍼블리셔-3기">PAP 퍼블리셔 3기</h3>
<p>지난 3월부터 <a href="https://www.linkedin.com/company/playinpap/">PAP - Product Analytics Playground</a> 3기 퍼블리셔로 활동하게 됐다. 1월 회고록에서 밝혔듯이, 글또 8기로도 활동하고 있는데 PAP도 전부터 눈여겨 보던 커뮤니티라 퍼블리셔 모집 공고가 나오자마자 지원해봐야겠다는 생각을 했다. 개인적인 에너지에 부하가 걸리진 않을까 잠깐 생각도 해봤는데, 두 커뮤니티 모두 글을 써야하는 커뮤니티이니 크게 다를 것은 없을 거라 생각했다. 같은 업계 사람들과 이야기를 나눌 기회가 있다는 것은 덤이고.</p>
<p>3월 7일 자정이 가까워 오는 시간에 퍼블리셔에 선정됐다는 메일을 받았는데, 또 그걸 못참고 메일을 보냈었다.😂</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-17-monthly-memory-202303/fig1.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
<p>꼭 붙었으면 하는 마음에 많이 급했나보다..😅 퍼블리셔 선정 논의가 다소 길어지셔서 메일 안내가 늦어지셨다고 한다. 금전적인 이득이 없음에도 업무 외에 개인적으로 시간을 내서 이런 커뮤니티를 운영한다는게, 아무리 생각해도 정말 대단한 것 같다. 이런 커뮤니티는 널리 알려야 한다. 앞서 PAP도 글 쓰는 커뮤니티라고 했는데 그렇게 단순한 목적으로 운영되고 있는 커뮤니티는 아니다. 내가 이런 말을 하는 이유는 PAP의 비전을 읽어보면 쉽게 이해된다:</p>
<ul>
<li><p>데이터 드리븐 프로덕트 개발 문화와 의사결정 문화를 각자의 자리에서 이끄는 미래를 지향함</p>
<ul>
<li><p>데이터 기반 의사결정과 임팩트 증대에 수반되는 도구/기술/문화/조직 구조를 이야기하는 공간</p></li>
<li><p>데이터 수집의 중요성, 데이터 기반 의사결정하는 것의 효용, 데이터를 바라볼 때 주의할 점들, 플랫폼을 통해 자동화할 수 있는 영역 등에 대해 직군과 관계없이 많은 사람들이 비슷한 단계에 있음</p></li>
</ul></li>
</ul>
<p>아름다운 비전이다. 팀 워크샵에서 팀의 비전을 만드는 시간을 가져보며 조직의 비전을 설정하는 것이 얼마나 어려운 일인지 알게 되었기에, 이렇게 잘 만들어진 PAP의 비전을 보며 감탄할 수 밖에 없었다.</p>
<p>합격 메일을 받고 다음날 초대받은 PAP 슬랙에 들어가 자기소개를 한 것으로 기억한다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-17-monthly-memory-202303/fig2.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
<p>자기소개 전체를 캡쳐하진 않았는데, 또 투머치토커 특성이 발동되서 주저리주저리 많이도 적었다. PAP 2기 퍼블리셔는 30분 정도였고, 3기는 더 적은 인원인 17명만 선발이 되었다. 올라온 자기소개들을 쭉 보는데 정말 대단한 분들이 많았다. 어떤 글을 기고해야할지 급 부담이 됐다. (내가 생각하기에) 대단한 분들이 퍼블리셔에 포진되어 있는 것도 그렇지만, 6개월간 활동하며 2주마다 글을 써야하는 글또와 달리 PAP는 2달 간 활동하며 3개의 글을 기고해야하기 때문이다. 뭐랄까.. 글의 퀄리티가 굉장히 중요하겠다는 생각을 했다. 거기다 글또는 내 개인 블로그에 기고하고 링크를 제출하지만 PAP는 PAP 블로그에 직접 기고해야하기 때문에, 결코 PAP 블로그의 퀄리티에 누가 되는 글을 작성할 수 없었다.😂 사실 인과추론에 대한 글을 적고 싶었는데, 아직 PAP에 기고할 수준이 확실히 아닌 걸 알기에 익숙한 주제로 글을 써야겠다고 마음을 먹었다.😭 그렇게 첫 번째 글 주제는 시계열이되었다. 다음 글 주제는 아마 통계학과 관련한 글이 되지 않을까 싶다.</p>
<p><a href="https://playinpap.github.io/time-series-analysis-for-customer-interests/">▶️ PAP에 기고한 첫 번째 글 보러가기</a></p>
</section>
<section id="짤막한-생각" class="level3">
<h3 class="anchored" data-anchor-id="짤막한-생각">짤막한 생각</h3>
<p>문득 어떤 계기로 하게된 짤막한 생각들 중에 정리해두고 싶은 것들은 페이스북과 링크드인에 기록을 해두는 편이다. 지난달에는 실무에서 다수의 인원을 리드해야 하는 레벨에 올라있는 사람들이 가지고 있는 공통점을 어느정도 파악하게되어 이 부분에 대해 정리를 했었다:</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid031AdkynEHaXeckBWTMtVQ9MCdS48vip8HZkjjdmKSV2gxgbX8PyM9w2AuppVmbFnel%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="360" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
<p>나도 장기적인 관점에서 누군가를 리드하고 그들의 성장을 도울 수 있는 사람이 되고 싶다는 꿈이 있는데, 이미 그 레벨에 올라가 있는 사람들이 가지고 있는 공통적인 능력들을 하나씩 알아차릴 때마다 자신감이 떨어진다. 해당 레벨에 올라기기 위해 갖추어야 하는 것들을 하나씩 적어보고, 매년 하나씩만 습득한다고 해보면.. 밝은 미래가 기다리고 있을 것이라고 애써 생각해본다.😂</p>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>개인적인 풍파를 잠깐 겪었던 3월이지만, 특별히 회고할 것은 많지 않아서 금방 적겠지 했는데 어느덧 2시간이 지났다. 그럼에도 불구하고, 역시 글을 쓰기 시작하기 전까지 소요되는 시간(e.g.&nbsp;글감 생각하기, 책상에 앉아서 Rstudio 키기 등..😂)이 가장 많다. 책상에 앉아서 Rstudio를 키고 글을 한자 쓰는 데까지 소요되는 시간은 정말 긴데, 그에 반해 막상 글쓰기에 몰입하면 아무리 길어도 4-5시간이면 초고를 완성하기 때문이다.<sup>1</sup> 나와 같은 게으른 완벽주의자들은 항상 기억해야 한다.</p>
<blockquote class="blockquote">
<p>Done is better than perfect.</p>
</blockquote>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>난 글쓰기를 따로 배운적이 없고 재주도 없는 사람이긴 하지만, 처음 글을 써보는 사람들은 이보다 훨씬 더 많은 시간이 걸릴 수 있다. 참고로 난 대학원때부터 블로그에 글을 쓰기 시작했다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {월간 회고록: 3월},
  date = {2023-04-17},
  url = {https://taemobang.com/posts/2023-04-17-monthly-memory-202303/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“월간 회고록: 3월.”</span> April 17, 2023. <a href="https://taemobang.com/posts/2023-04-17-monthly-memory-202303/">https://taemobang.com/posts/2023-04-17-monthly-memory-202303/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2023-04-17-monthly-memory-202303/index.html</guid>
  <pubDate>Sun, 16 Apr 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-04-17-monthly-memory-202303/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>시계열 자료분석을 활용한 고객 관심사의 선제적 반영</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/preview.png" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p>본 글은 PAP 3기 퍼블리셔로 활동하며 작성한 글로 <a href="https://playinpap.github.io/time-series-analysis-for-customer-interests/">PAP 블로그</a>에서도 만나보실 수 있습니다. PAP에서 발행하는 <a href="https://stibee.com/api/v1.0/emails/share/DkcQQgMscRmb0xSNaJRT74vAnMXpm-4=">뉴스레터</a>도 구독해보세요.</p>
</div>
</div>
<p>시계열 자료분석에 관한 이야기하기를 하기 전에, 먼저 해당 방법론이 필요로 됐던 배경과 목적에 대해 설명을 드리려고 해요. 우리는 What보다 Why가 중요한 사람들이니까요.😀 2월말에 <a href="https://moneys.mt.co.kr/news/mwView.php?no=2023022708171969210">보도자료</a>로도 나간 내용이지만, 저희 팀은 요즘 모바일 홈 개인화에 집중하고 있어요. 모바일 홈 개인화는 G마켓 모바일웹/앱의 홈 메인에서 스크롤을 조금 내렸을 때 보이는 슈퍼딜 영역<sup>1</sup>을 개인화하는 프로젝트에요. 여기서 말하는 개인화는 각 고객님들이 남긴 데이터를 바탕으로 관심을 가질만한 상품들을 순차적으로 띄워주는 것을 말해요. 관심 있을만한 상품들을 좋은 가격에 최대한 손쉽게 찾으실 수 있도록 말이죠. 즉, 개인의 관심을 반영한 일종의 모바일 홈 랭킹 시스템을 만드는 것이라고 보면 되어요.</p>
<p>랭킹 시스템을 고도화하여 고객들에게 더 큰 쇼핑 만족도를 드리기 위해 모든 팀원분들이 정말 많은 노력을 기울이고 있는데요. 저는 다음과 같은 부분을 생각해봤어요:</p>
<ul>
<li>당장 관심을 가질만한 상품을 띄워주는 것도 중요하지만, 추후에 맞이할 특정 시즌에 구매 의사가 생길만한 상품들까지 고려하여 랭킹 시스템을 구성한다면 고객들의 쇼핑 만족도를 더욱 높여줄 수 있지 않을까?</li>
</ul>
<p>이 부분을 반영하기 위해서는 매년 특정 시기에 반복적으로 관심이 많아지는 상품을 정의하고, 그 “특정 시기”는 언제 시작하고 끝나는지도 알아야 했어요. 그리소, 이 문제를 해결하기 위해서는 시계열적인 접근이 필요했죠.</p>
<p>이만하면 시계열 자료분석<sup>2</sup>이 필요했던 문제의 배경과 목적이 충분히 이해가 되셨을까요? 이제 방법론 얘기를 해보겠습니다. 본 문제를 해결하는 데에 사용한 방법론은 크게 3가지 입니다:</p>
<ul>
<li><p>시계열 분해(Time Series Decomposition)</p></li>
<li><p>이상점 탐지 및 대치(Outlier Detection and Imputation)</p></li>
<li><p>변화점 탐지(Change Points Detection)</p></li>
</ul>
<p>이제 이 방법론들이 무엇이고, 왜 필요했는지에 대해 본격적으로 이야기해보겠습니다.</p>
<aside>
본 포스팅에서 소개하는 방법론들의 설명에는 <span class="citation" data-cites="hyndman2021">(Hyndman and Athanasopoulos 2021)</span>을 참고하였습니다.
</aside>
<section id="시계열-분해" class="level2">
<h2 class="anchored" data-anchor-id="시계열-분해">시계열 분해</h2>
<p>시계열 분해는 시계열을 몇 가지 요소로 분해해서 보는 것을 말합니다. 실제로 관측되는 시계열 자료들은 정말 다양한 패턴<sup>3</sup>으로 나타나기 때문에, 시계열 분해는 해당 시계열이 갖는 본질적인 특성을 이해<sup>4</sup>하는 데에 정말 많은 도움이 됩니다. 고윳값 분해(eigenvalue decomposition)를 통해 행렬이 갖는 본질적인 특성을 이해할 수 있는 것 처럼 말이죠.</p>
<p>시계열 분해를 수행하면 시계열을 3가지 요소로 분해할 수 있습니다:</p>
<ul>
<li><p>추세-순환 성분(trend-cycle<sup>5</sup> component): 추세는 긴 기간 동안 나타나는 상승이나 하락을 의미하며, 순환(cyclic)은 고정된 주기로 나타나지 않는 자료의 상승이나 하락을 의미합니다. 이러한 변동은 보통 경제 상황, 비즈니스 주기에 의해 발생합니다.</p></li>
<li><p>계절 성분(seasonal component): 계절적 요소에 의해 영향을 받는 것을 나타냅니다. 계절 성분을 순환 성분과 혼동하는 경우가 있는데, 계절 성분은 항상 특정 시기에 알려진, 고정된 기간에 나타나는 성분을 말합니다.</p></li>
<li><p>나머지 성분(remainder component): 앞서 소개한 성분들로 설명되지 않는 나머지 변동을 나타냅니다. 본 변동이 큰 경우 해당 시계열 자체만을 모델링에 고려하는 것이 아닌, 다른 자료까지 추가적으로 고려하여 해당 변동을 설명해낼 필요가 있습니다.</p></li>
</ul>
<p>여기서 모델링 쪽에 식견이 있는 분들은 어느정도 힌트를 얻으셨겠지만, 이렇게 시계열 분해를 통해 얻게된 본질적 특성에 관한 이해는 모델링 단계에서 정말 많은 도움을 줍니다. 시계열을 분해하는 방법<sup>6</sup>은 다양합니다. 그 중 실무에서 활용한 STL decomposition에 대해 간략하게 소개하겠습니다.</p>
<section id="stl-decomposition" class="level3">
<h3 class="anchored" data-anchor-id="stl-decomposition">STL decomposition</h3>
<p>STL(Seasonal and Trend decomposition using Loess<sup>7</sup>)은 Cleveland<span class="citation" data-cites="cleveland90">(Cleveland et al. 1990)</span>가 1990년에 제안한 방법론으로, 다재다능하고 로버스트한 시계열 분해 방법론입니다. STL이 이동평균을 활용한 고전적인 시계열 분해 방법론, SEATS 방법론, X-11 방법론에 비해 갖는 몇가지 이점은 다음과 같습니다:</p>
<ul>
<li><p>월별, 분기별 계절성 뿐만이 아닌 여러 유형의 계절성을 다룰 수 있음</p></li>
<li><p>시간에 따라 변화하는 계절 요소 반영 가능</p></li>
<li><p>추세-순환 성분의 평활도(smotheness)<sup>8</sup> 조절 가능</p></li>
<li><p>추세-순환 성분과 계절 성분이 영향을 받지 않도록, 이상점에 로버스트한 분해 가능</p></li>
</ul>
<p>여러가지 시계열 분해 방법론 중 STL decomposition을 활용한 이유에는 2가지가 있습니다. 앞서 소개한 이점 중 이상점에 로버스트한 분해가 가능하다는 부분이 첫번째 이유였고, 두 번째는 주어진 문제<sup>9</sup> 해결을 위해 각 시계열 자료가 갖는 추세 강도와 계절성의 강도를 정량적으로 측정할 필요가 있었기 때문입니다.</p>
<p>STL decomposition을 통해 얻은 성분들을 활용하면 추세 강도, 계절성의 강도를 측정할 수 있습니다. 수식을 쓰지 않으려고 했는데 추세 강도와 계절성 강도를 측정하는 통계량을 소개하기 위해 편의상 간단한 수식 몇개만 적겠습니다. 시계열 <img src="https://latex.codecogs.com/png.latex?y_t">의 가법적(additive) 분해<sup>10</sup>는 보통 수식으로 다음과 같이 나타냅니다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ay_t%20=%20T_t%20+%20S_t%20+%20R_t%0A"></p>
<p>여기서는 <img src="https://latex.codecogs.com/png.latex?T_t">는 평활된 추세 성분, <img src="https://latex.codecogs.com/png.latex?S_t">는 계절 성분, <img src="https://latex.codecogs.com/png.latex?R_t">는 나머지 성분을 의미합니다. 요 세 성분들은 우리가 앞서 소개했던 STL decomposition을 통해 얻을 수 있습니다. 아래 그림 1에서 trend는 <img src="https://latex.codecogs.com/png.latex?T_t">, season_year는 연도별(yearly) 계절성을 나타내는 <img src="https://latex.codecogs.com/png.latex?S_t">, remainder는 <img src="https://latex.codecogs.com/png.latex?R_t">를 나타냅니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig1.png" class="img-fluid figure-img" alt="STL decomposition에 의해 가법적으로 분해된 시계열 자료(R에서 제공하는 1939-2019년 미국 월별 고용률 자료에서 1990년을 시작점으로 뽑아낸 자료)" width="800"></p>
<p></p><figcaption class="figure-caption">그림 1. R의 fpp3 패키지에서 제공하는 1939-2019년 미국 월별 고용률 자료(us_emplyment)에서 1990년을 시작점으로 뽑아낸 자료를 STL decomposition을 활용해 가법적으로 분해한 그림</figcaption><p></p>
</figure>
</div>
<p>이제 추세와 계절성의 정량적 측정에 이 성분들이 어떻게 이용되는지 설명드려보죠. 먼저, 설명의 편의상 계절성이 제거된 시계열 자료가 있다고 생각해볼게요. 만약 해당 자료의 추세가 강할 경우 추세에 의한 변동이 나머지 성분에 의한 변동보다 훨씬 클겁니다. 즉, 추세 성분과 나머지 성분을 합한 값의 분산 <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BVar%7D%7D(T_t%20+%20R_t)">는 나머지 성분이 갖는 분산 <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BVar%7D%7D(R_t)">에 비해 상대적으로 크겠죠. 반대로 추세가 존재하지 않거나 아주 약한 수준을 띠는 시계열의 경우 <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BVar%7D%7D(T_t%20+%20R_t)">과 <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BVar%7D%7D(R_t)"> 간에는 별다른 차이가 없을 겁니다. 그러므로, 우리는 추세 강도를 나타내는 통계량 <img src="https://latex.codecogs.com/png.latex?F_T">를 다음과 같이 정의해볼 수 있습니다.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AF_T%20=%20%7B%5Crm%7Bmax%7D%7D%20(0,%201-%5Cfrac%7B%7B%5Crm%7BVar%7D%7D(R_t)%7D%7B%7B%5Crm%7BVar%7D%7D(T_t%20+%20R_t)%7D)%0A"></p>
<p>즉, 위 통계량은 추세가 강할수록 분모가 커져서 1에 가까운 값을, 반대로 추세가 약할수록 분모와 분자간 차이가 없어져서 0에 가까운 값을 가지게 됩니다. 계절성의 강도를 나타내는 통계량 <img src="https://latex.codecogs.com/png.latex?F_S"> 또한 위와 같은 로직으로 정의됩니다:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AF_S%20=%20%7B%5Crm%7Bmax%7D%7D%20(0,%201-%5Cfrac%7B%7B%5Crm%7BVar%7D%7D(R_t)%7D%7B%7B%5Crm%7BVar%7D%7D(S_t%20+%20R_t)%7D)%0A"></p>
<p>위 2가지 통계량을 통해 우리는 시계열의 추세, 계절성의 강도를 정량적으로 평가할 수 있게 됩니다. 물론, 추세가 “강하다”, 계절성이 “강하다”에 관한 주관적 판가름은 각 문제 상황에 맞는 정성적인 평가가 뒤따라야 하겠지만요.</p>
</section>
</section>
<section id="이상점-탐지-및-대치" class="level2">
<h2 class="anchored" data-anchor-id="이상점-탐지-및-대치">이상점 탐지 및 대치</h2>
<p>앞서 STL decomposition은 이상점에 로버스트한 방법론이라고 소개를 드렸습니다. 그러나, 추세 강도와 계절성의 강도를 측정하는 데에 있었서는 사전에 이상점에 대한 처리가 꼭 필요로 됩니다. 그 이유는 STL decomposition에서 이상점에 대해 로버스트하게 분해를 수행하기 위해, 이상점을 나머지 성분으로 간주하기 때문입니다. 이러한 이유로 극단적인 이상점을 갖는 자료의 경우 나머지 성분의 변동이 매우 커져서, 추세와 계절성이 자명하게 큰 시계열임에도 추세 강도 통계량과 계절 강도 통계량은 매우 작게 계산이 됩니다. 다음과 같은 시계열의 형태가 하나의 예가 되겠죠.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig2.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">그림 2. R의 fpp3 패키지에서 제공하는 지역별로 나뉜 분기별 호주 여행 수요 자료(tourism) 중 호주 남부에 위치한 Adelaide Hills 지역의 분기별 여행 횟수를 나타낸 그림</figcaption><p></p>
</figure>
</div>
<p>실제로 위 자료를 분해해보면 다음과 같은 패턴을 띱니다:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig3.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">그림 3. 위 자료에 대해 이 STL decomposition으로 이상점에 로버스트하도록 가법적으로 분해한 결과</figcaption><p></p>
</figure>
</div>
<p>추세와 계절성이 잘 추정되었다고 한들, 이상점이 remainder 부분으로 빠져있기 때문에 추세가 자명한 자료 임에도 추세 강도 통계량의 값은 매우 작게 추정이 될겁니다. 실제로 추정을 수행해보면 상승 추세가 자명함에도 <img src="https://latex.codecogs.com/png.latex?F_t">는 0.488에 불과한 값으로 추정이 됩니다.</p>
<p>이러한 이상점을 효과적으로 탐지하기 위해 사용할 수 있는 아주 간단한 통계적 방법론을 소개해드리겠습니다. 통계학 전공자들은 상자 그림(Box plot)을 참 좋아합니다. 연속형 자료가 갖는 분포와 분위수, 이상점까지 한 눈에 쉽게 확인할 수 있는 아주 좋은 그림이기 때문이죠. 앞서 소개한 호주 남부에 위치한 Adelaide Hills 지역의 분기별 여행 횟수를 가지고 상자 그림을 그려볼게요.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig4.png" class="img-fluid figure-img" width="400"></p>
<p></p><figcaption class="figure-caption">그림 4. Adelaide Hills 지역의 분기별 여행 횟수에 관한 상자 그림</figcaption><p></p>
</figure>
</div>
<p>그림 4에서처럼 상자 그림에서 점으로 찍히는 데이터포인트는 이상점으로 간주하는데요. 상자 그림을 그리는 로직을 활용하면, 이상점을 탐지하는 간단한 방법론을 설계할 수 있습니다. 방법론의 설계를 위해 먼저 상자 그림을 그리는 로직을 이해해야겠죠?</p>
<p>먼저, 그림 4에서 상자의 윗변과 아랫변은 각각 여행 횟수의 첫 번째 분위수(<img src="https://latex.codecogs.com/png.latex?Q_3">, 25%에 해당하는 값)와 세 번째 분위수(<img src="https://latex.codecogs.com/png.latex?Q_3">, 75%에 해당하는 값)로 그려집니다. 상자 안에 진한 실선은 중위수(<img src="https://latex.codecogs.com/png.latex?Q_2">, 50%에 해당하는값)에 해당하고요. 그리고, 상자의 세로변 길이 즉, <img src="https://latex.codecogs.com/png.latex?Q_3%20-%20Q_1">에 해당하는 값을 우리는 IQR(Interquartile range)이라고 표현합니다. 마지막으로 상자 위아래로 뻗은 직선을 보고 우리는 상자 수염(Box-whisker)이라 표현합니다. 요 상자 수염은 상자의 윗변, 아랫변과 IQR을 활용해 그려집니다. 그림에서 위로 뻗은 상자 수염의 끝 점은 보통 <img src="https://latex.codecogs.com/png.latex?Q_3%20+%201.5%5Ctimes%7B%5Crm%7BIQR%7D%7D"> 내에 최댓값으로, 아래로 뻗은 상자 수염의 끝 점은 <img src="https://latex.codecogs.com/png.latex?Q_1%20-%201.5%5Ctimes%7B%5Crm%7BIQR%7D%7D"> 내에 최솟값으로 정의됩니다. 요 상자 수염을 벗어나는 데이터포인트는 이상점으로 간주되어 그림 상에서 점으로 표시됩니다.</p>
<p>보시다시피 그림 4에서는 5개의 점이 표시되어 있으나, 그림 2와 3에서 파악할 수 있듯이 여행 횟수가 80이 넘는 데이터포인트만 이상점으로 간주하는게 자연스러워 보이죠. 이를 위해서는 상자 수염을 그릴때 IQR에 곱해지는 값을 키워서 보수적으로 이상점을 탐지해주면 됩니다. 해당 값을 1.5에서 3정도로 키우면 우리가 원하는 수준으로 이상점을 탐지할 수 있습니다:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig5.png" class="img-fluid figure-img" width="400"></p>
<p></p><figcaption class="figure-caption">그림 5. 이상점을 보수적으로 간주한 상자그림</figcaption><p></p>
</figure>
</div>
<p>사실, 위와 같이 하나의 시계열에 대해 이상점을 탐지하는 경우 그림을 보고 간단하게 여행 횟수가 80이 넘는 경우 NA 처리 내지는 이상점을 나타내는 컬럼을 추가해 1로 레이블링을 해주면 되겠지만, 수많은 시계열에 대해 이상점을 탐지해야하는 경우 그림 하나하나를 일일이 확인하기란 어렵습니다. 이럴 때에는 방금 우리가 상자 그림을 그리는 로직을 바탕으로 설계한 이상점 탐지 방법론을 사용하면 되겠죠. IQR에 곱해지는 값을 본 예에서는 3으로 키웠지만, 때에 따라 추세 변동에 따라 계절 변동이 함께 커지는 경우, 또는 순환 성분이 혼재되어 있는 경우 IQR에 곱해지는 값을 훨씬 더 크게 키워서 보수적으로 이상점을 탐지해내야 할 수도 있습니다. 그렇지 않으면, 간혹 계절 변동에 의해 발생되는 값 혹은 순환성에 의해 발생되는 값들까지 이상점으로 간주하는 경우가 생길 수 있기 때문입니다.</p>
<p>이렇게 이상점에 대해 NA 처리 또는 컬럼으로 레이블링 한 후에 대치는 어떻게 하는게 좋을까요? 예측 모델링을 통해 해당 지점을 보간(interpolation)하는 방법도 있지만, 모델의 퍼포먼스를 세세하게 개선해야할 목적이 있거나 수많은 이상점들이 여기저기 혼재되어 있지 않는 이상, 굳이 그러한 방법론까지 고려할 필요는 없습니다. 이상점에 해당하는 지점 값을 바로 전 또는 후 지점에 해당하는 값으로 대치를 한다든지, 해당 시계열의 평균이나 중위수로 대치를 한다든지와 같이 아주 간단한 방법을 활용할 수도 있어요. 개인적으로는 시계열의 패턴을 그대로 살리는 것을 선호하여 평균이나 중위수로 대치하는 방법 보다는 전자의 방법을 택하긴 합니다.</p>
<p>다음은 그림 5의 이상점을 NA 처리한 뒤에, 바로 전 분기의 여행 횟수를 대치하여 STL decomposition을 수행한 결과에 해당합니다:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig6.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">그림 6. 전 분기의 여행 횟수를 이상점에 대치하여 STL decomposition을 수행한 결과</figcaption><p></p>
</figure>
</div>
<p>분해 결과가 훨씬 자연스러워졌죠? 이렇게 이상점을 탐지하고 대치시킨 자료에서 추세 강도 통계량을 계산해보면 0.488에 불과했던 값이 0.701로 계산이 됩니다.</p>
</section>
<section id="변화점-탐지" class="level2">
<h2 class="anchored" data-anchor-id="변화점-탐지">변화점 탐지</h2>
<p>시계열 변화점 탐지는 시계열의 평균과 분산의 변화 또는 구조적 변화가 일어나는 지점을 찾아내는 방법론을 말합니다. 말로만 들으면 어려울 수 있는데, 다음 그림을 보시면 어떤 방법론인지 직관적으로 쉽게 이해하실 수 있을거에요.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/fig7.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">그림 7. R의 changepoint 패키지를 활용한 시계열 변화점 탐지의 예</figcaption><p></p>
</figure>
</div>
<p>고객들이 관심있을만한 상품을 선제적으로 파악하는데에는 추세 강도를 정량적으로 측정하는 작업도 필요했지만, 끝으로 이러한 변화점 탐지 작업을 통해 추세가 변화하는 지점들까지 파악할 필요가 있었어요. 앞서 말씀드렸듯이 관심이 많아지는 특정 시기가 언제 시작하고 언제 끝나는 지에 관한 정보가 필요했으니까요. 변화점 탐지의 경우 방법론적 디테일보다는 <a href="https://github.com/rkillick/changepoint">R의 changepoint 패키지</a>를 중심으로 실무에서 변화점 탐지를 수행해보며 얻은 노하우에 대해 이야기해보려고 합니다.</p>
<p>해당 패키지는 시계열 자료의 평균, 분산이 크게 변화하는 지점을 탐지할 수 있는 알고리즘을 담고 있는데요. 이진 분할(Binary Segmentation), PELT(Pruned Exact Liner Time) 등의 알고리즘 옵션을 제공하는데, 이진 분할 방법의 경우 변화점의 최대 개수를 조정해줄 수 있습니다. 특정 시계열 자료의 변화점 개수를 도메인 지식을 통해 추정할 수 있다면, 이진 분할 방법은 아주 매력적인 옵션이 될 것입니다.</p>
<p>주어진 알고리즘 옵션을 통해 시계열의 평균 또는 분산 각각의 변화에 따른 변화점을 탐지할 수 있게 되는데, changepoint 패키지에서는 평균과 분산의 변화를 동시에 고려하여 변화점을 탐지할 수도 있습니다. 평균 변화는 <code>cpt.mean()</code> 함수, 분산 변화는 <code>cpt.var()</code>함수로, 평균과 분산이 변화를 동시에 고려하기 위해서는 <code>cpt.meanvar()</code>함수를 사용하시면 되는데요. 추세에 따라 시계열의 분산이 함께 커지는 시계열에 대해서는 평균과 분산의 변화를 동시에 고려할 필요가 있을겁니다. 그렇지 않으면, 분산이 추세와 함께 커지는 부분을 반영하지 못하여 눈으로 보고 정성적으로 판단했을 때는 변화점이라고 판단하기 어려운 지점을 변화점이라고 탐지를 하는 경우가 생기거든요.</p>
<p>해당 패키지에 관한 쉽게 쓰여진 예제 코드는 <span class="citation" data-cites="killick2014">(Killick and Eckley 2014)</span>에서 제공하고 있습니다. 더 깊은 방법론적 디테일이 궁금하신 분들도 참고하시면 좋을겁니다. 그리고, 본 라이브러리와는 조금 다른 접근으로 베이지안 추론을 활용하여 시계열의 변화점을 탐지해볼 수도 있습니다. 이 부분에 관심이 있으신 분들은 R의 <a href="https://github.com/lindeloev/mcp/">{mcp} 패키지</a>를 참고해보시기 바랍니다.</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>현재는 G마켓에서 추천 서비스를 성장시키기 위한 데이터 분석을 수행하고 있지만, 대학원을 졸업할 무렵 그나마 가장 자신있었던 연구 분야는 시계열 자료분석이었고, 이직을 하기 전에 몸을 담았던 첫 직장에서도 추론 관점<sup>11</sup>의 시계열 모델링을 주 업무로 수행했었습니다. 이직한 뒤에는 시계열적 접근이 필요한 문제를 풀 일이 없을 줄 알았는데, 신기하게도 그럴 일이 생기더군요. 분석 중간 중간 난관에 봉착할 때도 있었지만, 가장 익숙한 분야였던터라 난관을 하나씩 해결해나가는게 꽤나 재밌었습니다. 업무에서 풀어냈던 문제라 자세한 분석 과정은 설명드리지는 못했지만, 각 방법론에서 소개한 아이디어, 노하우들이 여러분들이 실무에서 풀어내실 문제에도 도움이 되는 부분이 있었으면 합니다. 마지막으로 이상점 탐지 및 대치, 변화점 탐지에서 말씀드렸던 <a href="https://github.com/be-favorite/Blog/blob/main/posts/2023-04-02-time-series-analysis-for-customer-interests/Example.R">예제 R 코드</a>를 공유드리면서 글을 마칩니다.</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-cleveland90" class="csl-entry">
Cleveland, Robert B., William S. Cleveland, Jean E. McRae, and Irma Terpenning. 1990. <span>“STL: A Seasonal-Trend Decomposition Procedure Based on Loess (with Discussion).”</span> <em>Journal of Official Statistics</em> 6: 373.
</div>
<div id="ref-hyndman2021" class="csl-entry">
Hyndman, Rob J, and George Athanasopoulos. 2021. <em>Forecasting: Principles and Practice (3rd Ed)</em>. OTexts: Melbourne, Australia. <a href="https://otexts.com/fpp3/">https://otexts.com/fpp3/</a>.
</div>
<div id="ref-killick2014" class="csl-entry">
Killick, Rebecca, and Idris A. Eckley. 2014. <span>“Changepoint: An R Package for Changepoint Analysis.”</span> <em>Journal of Statistical Software</em> 58 (June): 1–19. <a href="https://doi.org/10.18637/jss.v058.i03">https://doi.org/10.18637/jss.v058.i03</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>가격 경쟁력이 있는 선별된 상품들을 판매하는 섹션↩︎</p></li>
<li id="fn2"><p>시간 순서로 관측된 자료들을 다루는 분야↩︎</p></li>
<li id="fn3"><p>추세, 순환성, 계절성↩︎</p></li>
<li id="fn4"><p>시계열이 갖는 본질적 특성을 이해하는 데에 도움이 되는 또다른 방법은 해당 시계열의 ACF와 PACF를 살펴보는 것입니다.↩︎</p></li>
<li id="fn5"><p>간략하게 trend라고 표현하기도 합니다.↩︎</p></li>
<li id="fn6"><p>이동평균(Moving average)을 활용한 방법, X-11 method, SEATS method, STL decomposition↩︎</p></li>
<li id="fn7"><p>국소회귀(Local regression) 방법론으로 비선형 관계를 추정할 수 있는 회귀분석 방법론 중 하나입니다.↩︎</p></li>
<li id="fn8"><p>평활도가 작을수록 추세-순환 성분을 복잡하게 추정↩︎</p></li>
<li id="fn9"><p>추후에 맞이할 특정 시즌에 구매 의사가 생길만한 상품들을 고려하는 것↩︎</p></li>
<li id="fn10"><p>계절 변동이 추세 변동의 크기에 따라 함께 변한다면 승법적인 분해가 필요로 됩니다. 보통 log transformation을 통해 승법적인(multiplicative) 분해가 가능합니다: <img src="https://latex.codecogs.com/png.latex?T_t%20%5Ctimes%20S_t%20%5Ctimes%20R_t">↩︎</p></li>
<li id="fn11"><p>예측 문제가 아닌 <img src="https://latex.codecogs.com/png.latex?X">와 <img src="https://latex.codecogs.com/png.latex?Y"> 간의 Relationship을 추정하는 문제↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {시계열 자료분석을 활용한 고객 관심사의 선제적 반영},
  date = {2023-04-02},
  url = {https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“시계열 자료분석을 활용한 고객 관심사의 선제적
반영.”</span> April 2, 2023. <a href="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/">https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/</a>.
</div></div></section></div> ]]></description>
  <category>Time Series</category>
  <guid>https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/index.html</guid>
  <pubDate>Sat, 01 Apr 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-04-02-time-series-analysis-for-customer-interests/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Quasi Experimental Design</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<aside>
본 포스팅은 Korea Summer Workshop on Causal Inference 2022의 <a href="https://youtu.be/K0huXsARLc4">[Bootcamp 3-1] 디자인 기반의 인과추론 세션</a>을 기반으로 작성되었습니다.
</aside>
<p>오늘은 Potential Outcome Framework 관점의 인과추론 방법론 중 하나인 준실험설계(Quasi-experimental design)에 대해 소개하고자 합니다. Potential Outcome Framework 관점에서 준실험설계는 RCT(Randomized Controlled Trial)가 불가능한 상황에 고려해볼 수 있는 방법론 중 가장 높은 수준의 인과추론을 수행할 수 있는 방법론입니다. Potential Outcome Framework 하에서 인과추론은 결국 이상적인 Counterfactual<sup>1</sup>과 가장 가까운, 비교가능한 Control 그룹을 찾아내는 것이라 할 수 있는데요. 이러한 Control 그룹을 구성하는 가장 효과적인 방법은 무작위 할당(Random assignment)라고 할 수 있겠습니다. 이를 저희는 RCT라고 표현을 하고, RCT는 Potential Outcome Framework 하에서 인과 효과를 추정하는 일종의 Gold Standard<sup>2</sup>이기도 하죠. 온라인 비즈니스모델을 갖는 기업에서 순수한 실험 효과, 처리의 순수한 효과를 보기위해서 수행하는 A/B test도 RCT의 일종이라고 볼 수 있습니다.</p>
<p>이렇게 항상 RCT를 통해 인과적 효과를 추론할 수 있으면 좋겠지만, 상황적, 윤리적 관점에서 바라보았을 때 Context에 따라 RCT가 불가능한 경우는 정말 많이 존재합니다. 이때 우리는 준실험설계를 생각해볼 수 있어요. 준실험설계의 아이디어는 간단합니다. 무작위 할당 없이도 적절한 연구 디자인을 활용한다면, 충분히 비교 가능한 Control 그룹을 구성함으로써 인과추론이 가능해질 것이라는 거죠. 지금은 이 말이 조금 이해가 안되실 수도 있는데요. 준실험설계를 이용해 인과추론을 수행했던 대표적인 사례들을 소개하면서, 이에 대해 자세히 이해해보는 시간을 가져보도록 하겠습니다.</p>
<section id="potential-outcome-framework-관점의-causal-hierarchy" class="level2">
<h2 class="anchored" data-anchor-id="potential-outcome-framework-관점의-causal-hierarchy">Potential Outcome Framework 관점의 Causal Hierarchy</h2>
<p>잠깐 준실험설계의 대표 사례들을 이야기하기 전에 Potential Outcome Framework 관점의 Causal Hierarchy를 훑어보고 가겠습니다. 앞서 준실험설계는 RCT가 불가능한 상황에 가장 높은 수준의 인과추론을 수행할 수 있게끔 해주는 방법론이라고 말씀을 드렸었는데요. 다음의 Causal Hierarchy 그림에서도 이를 확인하실 수 있습니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/fig1.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">Source: 인과추론의 데이터과학</figcaption><p></p>
</figure>
</div>
<p>위 그림은 Potential Oucome Framework 관점의 방법론들 각각이 갖는 인과추론의 수준을 계층적으로 표현한 그림인데요. 순서대로 짤막하게 설명을 하고 넘어가겠습니다.</p>
<ul>
<li><p>메타분석(Meta-Analysis): 여러가지 실험의 결과를 종합한 것</p></li>
<li><p>RCT: 단일 수준에서 가장 높은 수준의 인과추론을 가능하게끔 해줌</p></li>
<li><p>준실험(Quasi-Experitment): 특정 가정하에서 RCT에 가까운 인과추론을 수행할 수 있는 강력한 도구</p></li>
<li><p>도구변수(Instrumental Variable): 내생성(Endogeneity)<sup>3</sup>을 제거하기 위한 도구로, 항상 이러한 도구변수를 찾을 수 있는 것은 아님</p></li>
<li><p>“Desgined” Regression/Matching (based on causal knowledge or theroy): 도구변수를 찾을 수 없는 상황에 마지막으로 고려할 수 있는 방법. 기본적으로 Regression이나 Matching은 인과추론에 한계가 굉장히 많음. 그래서, 특별히 주의를 기울인 단순한 Regression/Matching과 구분하기 위해 “Designed”라는 단어를 앞에 붙여 놓으셨다고 함.</p></li>
<li><p>Regression/Matching (Little causal inference): 잘 디자인 되지 않은 단순한 Regression/Matching의 인과추론 수준은 매우 낮음</p></li>
<li><p>Model-Free Descriptive Statistics (No causal inference): 평균과 같은 기술 통계량들</p></li>
</ul>
<p>여기서 RCT부터 도구변수까지는 Selection on Unobservables Strategies라고 해서, 관측되지 않은 요인에 의한 Selection bias(선택편향)까지 통제할 수 있는 전략에 해당합니다. 그리고, RCT는 무작위 할당을 활용(exploit), 준실험과 도구 변수는 연구 디자인을 활용합니다. 마지막으로, “Designed” Regression/Matching은 Selection on Observables Strategies로 관측된 요인에 의한 Selection bias만을 통제할 수 있는 전략에 해당합니다.</p>
</section>
<section id="사례-i-사회제도가-경제-성장에-인과적인-효과를-미치는가" class="level2">
<h2 class="anchored" data-anchor-id="사례-i-사회제도가-경제-성장에-인과적인-효과를-미치는가">사례 I: 사회제도가 경제 성장에 인과적인 효과를 미치는가?</h2>
<p>사회제도가 경제 성장에 미치는 영향은 경제학에서 굉장히 오래 연구된 주제라고 합니다. 간단해 보이는 가설이지만 데이터로 부터 이를 추론하기란 만만치않습니다. 우선 실험이 불가능한 가설이에요. 즉, RCT로는 확인이 불가능한 가설이란 얘기죠. 그럼, 이제 우리에게 필요한 것은 비교가능한 Control 그룹을 찾는 노력입니다. 우리가 가장 쉽게 떠올릴 수 있는 예로는 우리나라와 북한의 경우가 있습니다. 그러나, 두 국가는 본 문제에 있어서 ceteris paribus<sup>4</sup>를 만족시키기란 매우 어렵습니다. 두 국가 간의 차이에는 사회 제도 뿐아니라 수많은 요소들이 존재하죠.</p>
<p>이 문제를 해결하기 위해서는 사회 제도만 다른, 비교 가능한 쌍둥이 국가 또는 쌍둥이 도시를 가져와서 비교를 수행할 필요가 있습니다. 그 중 대표적인 사례가 미국 애리조나 주와 멕시코에 위치한 서로 같은 이름을 지닌 Nogales라는 쌍둥이 도시를 통해 비교한 사례라 할 수 있습니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/fig2.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">Source: 인과추론의 데이터 과학</figcaption><p></p>
</figure>
</div>
<p>이름이 같은 것에서 알 수 있듯이, 역사적으로 Nogales는 오랫동안 같은 도시 였다가 미국과 멕시코의 국경이 달리되며 절반은 미국의 사회제도 하에, 절반은 멕시코의 사회 제도 안에 남게 된 것 입니다. 즉, 사회제도 외에 인구 구성, 문화, 도시 인프라, 지리적으로나 두 지역은 굉장히 유사할 것이고, 이에 따라 사회제도가 경제 성장에 미칠 수 있는 영향을 보고자할 때 둘은 비교 가능한 그룹이라 할 수 있는 것이죠.</p>
<p>사진 속에서 두 도시의 2019년 1인당 GDP를 비교해보시면 아시겠지만, 미국의 사회제도 속에서 노갈레스는 멕시코의 노갈레스보다 약 6배 이상 부유한 도시가 되었습니다. 이렇게 인구 구성이나 지형, 종교, 문화가 모두 비교가능한 쌍둥이 도시들 간에 경제 성장의 차이를 바탕으로, Potential Outcome Framework 하에서 사회제도가 경제 성장에 미치는 영향에 대해 어느정도 추론을 해볼 수 있겠죠. 이러한 방식으로 자연 상황에서 비교 가능한 Control 그룹을 구성함으로써, 최대한 인과적인 효과를 발라내보자는 것이 바로 준실험설계라고 할 수 있겠습니다.</p>
</section>
<section id="사례-ii-최저임금이-고용률에-영향을-미치는가" class="level2">
<h2 class="anchored" data-anchor-id="사례-ii-최저임금이-고용률에-영향을-미치는가">사례 II: 최저임금이 고용률에 영향을 미치는가?</h2>
<p>두 번째 사례는 2021년 노벨경제학상 수상자인 <a href="https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%EB%B9%84%EB%93%9C_%EC%B9%B4%EB%93%9C">David Card</a> 교수님의 대표적인 연구 사례이기도 합니다. 이 문제 또한 가설만 보면 꽤 간단히 보이지만, 이를 데이터를 통해 추론하기란 꽤나 어렵습니다. 최저임금이 상승될 경우 고용률은 감소할 것 이라는 주관적인 결론을 쉽게 내리는 경향이 있는 가설인 만큼, 데이터를 통한 객관적인 검증이 꼭 필요로 되는 가설이 아닌가 하는 생각도 듭니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/fig3.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">Source: 인과추론의 데이터 과학</figcaption><p></p>
</figure>
</div>
<p>David Card 교수님이 이 가설의 검정을 위해 찾아내신 비교가능한 두 그룹은 펜실베니아와 뉴저지였습니다. 1992년 펜실베니아와 뉴저지의 최저임금을 비교함으로써, 최저임금이 고용률에 미치는 영향을 검증해보고자 하셨죠. 해당 가설에 대한 최초의 실증 분석 시도이기도 했습니다.</p>
<p>당시 펜실베니아와 뉴저지의 최저임금이 비교가능했던 이유는, 1992년 4월 뉴저지의 최저임금이 4.25달러에서 5.05달러로 상승한 데에 있습니다. 반대로, 펜실베니아의 최저 임금은 그대로였고, 두 주는 인접한 지역에 위치했죠. Card 교수님은 두 주를 나누는 경계 주변에 위치한 레스토랑의 고용률을 비교해보셨습니다.</p>
<p>결과는 위 사진의 우측 위 그래프를 보시면 알 수 있듯, 해당 가설에 대해 사람들이 쉽게 내리는 주관적 결론과는 조금 달랐습니다. 두 주 간에 고용률 변화는 거의 없다가, 오히려 뉴저지의 고용률이 더 높아지는 추이를 보였죠. 즉, 최저임금을 올린다고 해서 고용률이 항상 낮아지는 것은 아니라는 것입니다. 우리가 별 생각없이 특정 가설에 대해 내리는 결론은 꽤나 위험할 수도 있다는 것을 상기시켜 주는 대표적인 사례가 아닐까 생각해 봅니다.</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>준실험설계의 아이디어는 결국 Counterfactual을 대신할 수 있는 비교가능한 Control 그룹을 찾자<sup>5</sup>는 것에 있습니다. 단, 연구자가 직접 무작위 할당을 통해 비교가능한 Control 그룹을 구성하는 것이 아닌, 자연 상황에서 비교 가능한 Control 그룹을 찾아보자는 것이고요. 이렇게, 자연적으로 발생한 상황을 마치 실험처럼 활용한다는 점에서 준실험설계는 자연 실험(Natural Experiment)이라 불리기도 합니다. 본 글에서 소개한 대표적인 연구 사례들 또한 이러한 로직으로 Control 그룹을 구성하였고요. 아울러, 이러한 연구 사례들이 시사하는 바는 Potential Outcome Framework 관점에서 준실험설계는 연구자가 무작위 할당을 통해 그룹을 배정하지 않더라도, 현실 상황을 잘 이용하여 비교 가능한 대상을 설정한다면, 충분히 합리적인 인과 관계를 추론할 수 있다는 것입니다.</p>
<p>본 글을 쓰는데에 기반이 된 <span class="citation" data-cites="ingwacuronyideiteogwahag2022b">(인과추론의 데이터과학 2022)</span>에서는 이러한 인과 관계의 추론을 이야기하는 데에 있어서 결코 어떤 복잡한 모형이나 통계적 이론, 데이터의 양에 대한 언급은 일절 하지 않습니다. 단지, 연구 디자인을 잘 활용하여 얼마나 비교 가능한 Control 그룹을 구성할 수 있었는 지에 대해 이야기했죠. 이러한 연구 디자인은 따로 정형화되어 있지 않으며, Context에 따라 매우 다양한 디자인이 존재합니다. 이 부분에 있어서 도메인 지식은 정말 중요한 역량이 될 것으로 보이며, 동시에 자신이 풀고자 하는 실험이 불가능한 인과 추론 문제를 자연 상황에서 어떻게 풀 수 있을지 고민해보는 습관 또한 매우 중요해 보입니다.</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-ingwacuronyideiteogwahag2022b" class="csl-entry">
인과추론의 데이터과학. 2022. <span>“Korea Summer Workshop on Causal Inference 2022 [Bootcamp 3-1] 디자인 기반의 인과추론,”</span> July. <a href="https://www.youtube.com/watch?v=K0huXsARLc4&amp;list=PLKKkeayRo4PV_6-nbBgmUNOSpG1OO49M3&amp;index=8">https://www.youtube.com/watch?v=K0huXsARLc4&amp;list=PLKKkeayRo4PV_6-nbBgmUNOSpG1OO49M3&amp;index=8</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>처리 그룹이 만약 처리를 받았지 않았으면 발생했을 잠재적 결과(Potential outcome)을 말함. Counterfatual이 존재한다면, 우리는 이를 처리 그룹의 결과와 비교함으로써 처리의 순수한 인과 효과를 알 수 있을 것임. 그러나, Counterfactual은 현실에서 관측이 불가능함. 이를 인과추론의 근본적 문제(Fundamental problem of Causal Inference)라고 표현함.↩︎</p></li>
<li id="fn2"><p>산업에 있어서 최적의 표준을 이르는 말↩︎</p></li>
<li id="fn3"><p>계량경제학(Econometrics)에서 주로 사용하는 용어로, 선형 모형에서 설명변수와 오차항의 상관이 0이 아닌 경우를 의미. i.e.&nbsp;<img src="https://latex.codecogs.com/png.latex?cov(x_i,%20e)%20%5Cneq%200">. 인과추론을 위해서는 이러한 내생성을 통제하는 것이 매우 중요하다.↩︎</p></li>
<li id="fn4"><p>Selection bias를 없애기 위한 조건으로, 처리(treatement, 본 문제에서는 사회제도라고 할 수 있음)를 받았다는 사실만 제외하고 나머지 모든 요인이 동일해서 서로 비교 가능하다는 조건을 라틴어로 표현한 단어이다. 즉, 이상적 Counterfactual을 구할 수는 없지만, 만일 ceteris paribus를 만족하는 control 그룹이 있다면 이를 대신할 수 있을 것이다. 이것이 Potential outcome framework 관점의 causal inference problem에 해당한다.↩︎</p></li>
<li id="fn5"><p>RCT는 연구자가 직접 무작위 할당을 통해 비교 가능한 Control 그룹을 구성합니다. 즉, 준실험설계는 비교가능한 Control 그룹을 “찾자”는 것이고, RCT는 비교가능한 Control 그룹을 무작위 할당을 통해 직접 “구성”하자는 것이죠.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {Quasi Experimental Design},
  date = {2023-03-26},
  url = {https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“Quasi Experimental Design.”</span> March 26, 2023.
<a href="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/">https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/</a>.
</div></div></section></div> ]]></description>
  <category>Causal Inference</category>
  <guid>https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/index.html</guid>
  <pubDate>Sat, 25 Mar 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-03-26-Quasi-Experimental-Designs/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>월간 회고록: 2023년 2월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-03-12-monthly-memory-202302/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>지난 2월을 회고해보려고 합니다. 어느덧, 3월 중순이 훌쩍 다가왔네요. 이제까지 써왔던 월간 회고록들에 비해 비교적 빠른 시기에 회고록을 적어보는 듯 합니다. 블로그가 회고록, 칼럼 투성이가 되어가고 있네요. 다음 글은 꼭 기술 주제로 쓴다고 약속하겠습니다. 개인적으로 쓰고 있는 주간 회고들을 둘러보니, 2월에도 참 많은 일들이 있었네요. 늘 그랬듯이, 그 중 함께 공유 드리고 싶은 내용들로 회고록을 채워봅니다. 어쩌다보니 이번 글은 이야기를 들려드리는 어투라기 보다는.. 혼잣말 하는 어투로 채우게 됐네요! 너그러이 이해부탁드립니다.😀</p>
<section id="일" class="level2">
<h2 class="anchored" data-anchor-id="일">일</h2>
<section id="모바일-홈-개인화" class="level3">
<h3 class="anchored" data-anchor-id="모바일-홈-개인화">모바일 홈 개인화</h3>
<p>우리팀<sup>1</sup>에서 요즘 집중하고 있는 부분은 모바일 홈 개인화이다. 얼마전 <a href="https://www.news1.kr/articles/4965255">미디어</a>를 통해 이 소식을 전하기도 하였다:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/images/image-54034097.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">출처: news1.kr</figcaption><p></p>
</figure>
</div>
<p>지난해에 몇달동안 여러 팀이 붙어 꽤나 많은 리소스를 투입했던 프로젝트이기에, 데이터 분석이라는 도구를 통해 해당 도메인의 추천 서비스를 성장시키는데에 도움을 줘야하는 나로서도 막중한 책임감을 가지고 있다. 얼마전 미디어를 통해 이러한 G마켓의 모바일 홈 개인화 소식이 대중들에게 전해졌다는 소식을 듣고, 조금 걱정스러운 마음이 들었다. 10% 고객에게만 배포한 현 단계에서 미디어를 통해 이 소식을 전하는게 맞는가에 관한 생각이 있었기 때문이다.</p>
<p>나 또한 이러한 홍보를 통해 모바일 홈에 관심을 끌게 되어 애초에 홈에 관심이 없던 유저들의 이목까지 끌어낼 수 있지 않을까? 하는 생각을 했던 적이 있다. 그러나, 얼마 지나지 않아 이 부분은 실험설계 관점에서 봤을 때 상당히 위험한 행위일 수 있겠다는 생각을 했다. 가령, 우리가 신약의 효과를 검정하고자 하는 실험을 설계한다고 해보자. 보통 이러한 종류의 실험을 설계할 때에는 기본적으로 Single-Blind Test를 수행하거나, 여기서 한 발 더 나아가 Double-Blind Test까지 수행하는 경우가 있다. 두 셋팅의 근본적 목적은 순수한 처리효과<sup>2</sup>를 보기위함이다. 전자는 피실험자<sup>3</sup> 본인이 어떤 그룹<sup>4</sup>에 속했는지 알려주지 않는 실험을 말하며, 후자는 약을 처방하는 의사조차도 본인이 처방할 약이 신약인지 위약인지 모르는 실험을 말한다. 신약의 순수한 효과를 알아보기 위해 이정도 셋팅까지 한다는 말이다.<sup>5</sup></p>
<p>이 관점에 바라보았을 때, 내가 처음에 무심코 했던 “마케팅과 홍보를 좀 잘하면 홈에 관심없던 고객들까지 유입을 시킬 수 있을거 같은데?”라는 생각은 굉장히 위험하다는 것이다. 이러한 홍보는 결국 모바일 홈 개인화가 우리에게 가져다주는 순수한 효과를 보지 못하게끔 만든다. 그래서, 미디어를 통해 G마켓의 모바일 홈 개인화 소식이 전해졌다는 소식을 들었을 때, 모바일 홈 개인화가 가져다 주는 효과가 과대추정(overestimate)되지 않을까 하는 걱정스런 마음이 들었다. 그러나, 이 부분 또한 얼마지나지 않아 괜한 노파심이라는 생각이 들었다. 냉정하게 생각해봤을 때 G마켓에 관심을 두고 우리 소식을 찾아보는 고객이 몇이나 될까? 지상파 뉴스, CF를 통해 대대적인 홍보를 한 것도 아니고. 애초에 G마켓의 AI 기술에 관심을 가지고 있는 고객들 자체가 극소수일 것이기 때문에 모바일 홈 개인화의 효과가 과대추정될 일은 없을거라고 생각하고있다.😀</p>
<p>다만, 모바일 홈에 내보내고 있는 추천 서비스를 고도화해 나가면서 이에 노출되는 고객 비중들을 차차 늘려가며, 기존의 모바일 홈에 비해 고객들에게 더나은 쇼핑 경험을 제공하고 있다는 판단이 들었을 때는 과감한 홍보 등을 통해 신규 고객들을 유입시키고자 하는 움직임이 필요로 된다고 본다.</p>
</section>
<section id="유저-행태-분석" class="level3">
<h3 class="anchored" data-anchor-id="유저-행태-분석">유저 행태 분석</h3>
<p>개인화 시킨 모바일 홈을 일부 고객에게 배포한 뒤에는, 당연한 얘기겠지만 유저 행태 분석이 필요로 됐다. 서비스 출시 후, 유저 행태 분석이 필수적으로 따라 나와야하는 이유에 대해 생각을 해봤다:</p>
<ul>
<li><p>보수적인 관점</p>
<ul>
<li>개인화는 유저들에게 더 나은 경험해주는 서비스임이 자명하다. 하지만, 새로운 것을 도입할 때에는 보수적인 관점에서 사고를 해볼 필요가 있다.<sup>6</sup> 이 관점에서 우리가 개인화한 홈이 유저들에게 기존의 홈보다 더 나은 쇼핑 경험을 제공하고 있는가에 대한 검증은 꼭 필요로 된다.</li>
</ul></li>
<li><p>서비스 고도화 관점</p>
<ul>
<li>고객들이 남긴 로그에는 그들의 잔심이 남아있다. 그들이 남긴 잔심을 데이터를 뜯어봄으로써 확인할 수 있다면, 이보다 좋은 서비스 고도화 방법은 없다. 단순한 모델 튜닝만으로 극적인 성과 향상을 기대하긴 어렵다. 다들 알겠지만, 도메인 지식과 비즈니스 인사이트가 투영된 Feature engineering은 Parameters tuning에 비해 비약적인 성과 향상을 가져다 준다. 전자의 방법에서 한 발 더 나아가, 유저 행태 분석을 통해 실제 유저들의 흥미를 이끌어 내는 요소, 유저들이 우리 서비스에서 원하는 바를 파악하여 이 부분까지 Feature engineering에 반영한다면 더욱 큰 시너지 효과를 낼 수 있을 것이다. 아울러, 우리는 Output 그 자체가 아닌 특정 Output을 이끌어내는 Input에 관심이 있기 때문에 이 과정에서 자연스레 인과추론이 필요로 될 수도 있다.</li>
</ul></li>
<li><p>유저 행태 분석과는 조금 동떨어진, 선행되면 좋을 것 같은 부분</p>
<ul>
<li><p>유저 행태 분석 전에 좀 더 근본적인 부분에 대해 생각해볼 필요도 있다.</p>
<ul>
<li><p>지금 우리 서비스를 성장시키기 위해 필요한 단 하나의 지표(OMTM, One Metric that Matters)는 무엇인가?</p></li>
<li><p>그 전에, 우리가 성장시키고자 하는 서비스는 현재 어떤 단계에 놓여있는가? 매출을 높이고 싶은 단계에 놓여있는가? 출시한 서비스에 관심을 갖는 유저들을 최대한 모아야하는 단계에 놓어있는가?</p></li>
<li><p>즉, OMTM은 서비스를 성장시키고자 하는 방향에 따라 언제든지 달라질 수 있다.</p></li>
</ul></li>
</ul></li>
</ul>
<p>아무튼, 이번 기회에 (부끄러운 이야기일수도 있지만) 처음으로 유저 행태 분석을 수행해보았다. 1-2주 안에 의미있는 인사이트를 뽑아내어 공유 세션을 가지고 싶었는데, 처음 수행해보는 형태의 분석이여서 그런지 중간중간 분석 방향을 두번 세번정도 엎었다..😭 액셔너블한 분석 결과, 실질적인 비즈니스 인사이트를 가져다줄 수 있는 분석 결과를 가져가려고 노력하다보니, 나 자신이 만족할만한 분석 결과가 좀처럼 나오지 않았다. 그래서, 3주라는 기간이 소요됐다. 그럼에도 불구하고, 소요된 시간에 비해 뽑아낸 인사이트는 굉장히 마음에 안들었다. 이렇게 질질 끌다간 끝이 없을 것 같아 팀 내에 공유 세션을 가졌고, 마침내 팀원들과 인사이트를 나눌 수 있었다. 오랜만에 느껴보는, 긴 기간의 분석 후의 후련함이었다.</p>
<p>3주간 분석을 수행하며 느낀 바는 다음과 같다:</p>
<ul>
<li><p>유저 행태 분석은 정성적인 평가가 필요로 되는 부분이 많은 듯 하다. 그래서, 도메인 지식이 중요하다고들 하는게 아닌가 하는 생각이 들었다. 반대로, 정성적인 평가밖에 할 수 없어 보이는 부분들을 어떻게 정량적으로 평가해볼 수 있을지에 대한 고민도 필요로 되어 보인다. 어찌됐든, 정성적 평가는 주관이 개입하기 마련이기 때문이다. 이러한 이유에서 팀이 필요하고, 집단 지성이 필요로 되는 것이 아닐까?</p></li>
<li><p>앞서 액셔너블한 분석 결과, 실질적 비즈니스 인사이트를 가져다줄 수 있는 결과를 가져가고 싶다고 했었다. 팀내 공유 세션이 끝난 뒤, 요 부분을 핑계삼아 분석 결과 공유가 조금 늦어진 것 같다고 슬랙에 말씀을 드렸다.😂 그랬더니, 선호님(팀장님)이 또 명언을 남겨주셨다.</p>
<blockquote class="blockquote">
<p>인사이트가 꼭 있어야만 한다는 부담은 덜어내셔도 됩니다. 정리해주신 팩트를 보면서 인사이트는 같이 논의해도 돼요. 그게 팀이죠. ’어떤 관점으로 데이터를 정리해봤는데 딱히 뭔가 안보인다’는 것 자체만으로도 충분한 정보이자 인사이트가 됩니다.</p>
</blockquote>
<p>나는 앞으로도 액셔너블한, 비즈니스 인사이트가 있는 분석 결과를 가져가기 위해 노력할테지만, 선호님의 의견은 많은 위로가 됐고 내게 또다른 새로운 관점을 심어주었다. 이런 분이 리딩하시는 팀에서 데이터 분석을 할 수 있다는게 참 행운이 아닐까 하는 생각을 가지고 있다.</p></li>
<li><p>분석의 뎁스가 깊어지다보면, 종종 분석 목적을 잊게 될때가 있다. 다른 말로 하면, 배가 산으로 갈때가 있다. 데이터 분석을 하며 가장 중요한 부분이 이 부분이 아닐까 생각한다. 분석의 스텝바이스텝 Why를 생각해보는 습관, 끊임없이 내게 질문을 던지고 본 분석을 시작했던 배경, 목적과 잘 align되는 방향으로 분석이 진행되고 있는지에 대해 생각해보는 습관. 이 두 가지가 데이터 분석의 다가 아닌가 생각해본다. 방법론은 이러한 고민 속에서 자연스레 뒤따라 나오는 것이고.</p></li>
</ul>
</section>
</section>
<section id="개인" class="level2">
<h2 class="anchored" data-anchor-id="개인">개인</h2>
<section id="데이터-분석가과학자-제-1회-밋업" class="level3">
<h3 class="anchored" data-anchor-id="데이터-분석가과학자-제-1회-밋업">데이터 분석가/과학자 제 1회 밋업</h3>
<p>지난 2월 23일에는 데이터 분석가 &amp; 데이터 과학자 제 1회 밋업에 참가했다. 장소 마련의 한계로, 추첨을 통해 참가 인원을 선발할 수 밖에 없었는데 운이 좋게도 참가할 수 있는 기회를 얻을 수 있었다. 빅쏠에서 데이터 과학자로 근무하고 계신 이진형님이 데이터 분석가 &amp; 데이터 과학자 모임 <a href="https://open.kakao.com/o/gFYaaZ0e">오픈 카톡방</a>을 만드신데에 이어, 이렇게 오프라인 밋업까지 주최를 해주셨다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/fig1.JPG" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
<p>바쁜 와중에 개인적으로 시간을 내서 이러한 모임을 주최하는 것은 정말 어려운 일이다. 이 글을 읽으실 일은 없겠지만, 감사의 마음을 한번 더 표해본다. 우리나라에 개발자 생태계는 온라인에 잘 형성이 되어있는 반면 데이터 분석가/과학자 생태계는 잘 형성이 되어있지 않다는 생각이 들었는데, 이제는 데이터 분석가/과학자 직군의 온라인 생태계도 점차 갖추어져 나가고 있다는 생각이 든다. 이러한 형태의 밋업도 그렇고, <a href="https://playinpap.github.io/">PAP</a>와 같은 커뮤니티에서 뉴스레터까지 발행하며 업계에 미치는 영향력을 점차 키워가고 있는 것들을 보면 말이다. 한편으로는 그러한 생태계 형성이 잘 안되어 있는 부분에 갈증이 있었음에도, 나 스스로는 왜 어떤 모임이나 커뮤니티를 만드는 것에 액션을 취하지 않았을까 하는 생각도 한다. 그래서, 이런 부분에 액션을 옮긴 분들께는 더욱 깊은 존경심과 감사함을 가지고 있다.</p>
<p>이번 밋업에서는 세 분이 발표를 해주셨다. 발표 주제는 다음과 같았다:</p>
<ul>
<li><p>&lt;데이터의 불모지, 옥외광고 데이터 전략팀은 무슨일을 할까?&gt;</p>
<ul>
<li><p>부제: 없는 데이터 만들어 일하는 방법</p></li>
<li><p>발표자: 포커스 미디어 데이터 전략팀 강슬기</p></li>
</ul></li>
<li><p>&lt;채용 데이터 분석하기&gt;</p>
<ul>
<li>발표자: 두들린 한일석</li>
</ul></li>
<li><p>&lt;가입자는 늘어나는데 왜 MAU는 그대로일까?&gt;</p>
<ul>
<li>발표자: 이진형</li>
</ul></li>
</ul>
<p>추천 서비스라는 프로덕트를 성장시키기 위한 데이터 분석을 하고 있는 내가 가장 관심이 가는 주제는 마지막 주제였고, 세 분 모두 발표를 너무 잘해주셔서 정말 재밌게 들었다. 발표가 끝나고, 궁금한 부분들은 질문도 드리면서 적극적으로 참여했다.😂 발표 후 질문은 곧 상대방의 발표를 집중해서 관심있게 들었다는 것의 증거라고 생각하기에, Q&amp;A 시간에 가능하다면 꼭 질문을 드리고자 한다.<sup>7</sup> 발표 자료는 <a href="https://www.notion.so/1-2023-2-23-1afe5af1a0c84ee394b8de9fead496ce">여기</a>서 만나볼 수 있다.</p>
<p>발표가 끝난 뒤에는 각자 자유롭게 네트워킹할 수 있는 시간을 가질 수 있었다. 이러한 유형의 모임은 처음이라.. 굉장히 어색했다. 다행히 많은 분들이 적극적으로 움직여주신 덕분에 여러 사람들과 이야기를 나눠볼 수 있었다. 나는 꽤나 내향적인 사람이지만, 이러한 유형의 모임에는 최대한 적극적으로 참가해보려고 한다. 발표를 들으며 인사이트를 얻는 부분도 있지만, 무엇보다 많은 에너지를 얻어갈 수 있기 때문이다. 나와 비슷한 고민을 하는 사람들이 있구나, 이렇게 열심히 하는 사람들이 있구나 하는 것을 눈으로 보고, 그런 사람들과 이야기를 나누는 것은 내게 정말 많은 에너지를 준다. 당시 밋업을 마치고 돌아오면서도 더 열심히 살아봐야겠다는 생각을 했다.</p>
<p>그리고, 밋업에서 당시 내가 업무에서 몰입하고 있던 유저 행태 분석의 인사이트 추출에도 일정 부분 힌트를 얻을 수 있었다. 밋업을 마치고 집에 도착했을때가 자정을 넘긴 시각이었는데, 여러 인사이트들이 내 머리를 스쳐갔고, 결국 잠을 청하지 못하고 떠오른 인사이트들을 정리하고 새벽 5시쯤 잠에 들었던 기억이 난다.</p>
<p>이건 여담인데, 밋업이 열리는 당일에 선호님<sup>8</sup>도 출근을 하셨다. 혹시나 하는 마음에 밋업에 참가하시냐고 여쭤볼까 하다가 참았는데, 역시나 밋업 장소에서 만나뵐 수 있었다. 내가 먼저 사무실을 떠났는데, 슬랙 DM으로 밋업에 참가하러 간다고 말씀드렸더니 선호님도 참가를 하신다고.. 네트워킹 시간에 너어무 어색해서, 선호님 곁을 잠깐 찾아가기도 했다.😂 아무튼, 이번 밋업은 여러모로 내게 즐거운 경험이었다.</p>
</section>
<section id="통계학" class="level3">
<h3 class="anchored" data-anchor-id="통계학">통계학</h3>
<p>산업계로 이직을 하고, 통계학이 생각보다 Data Science/Analytics 분야에 차지하는 파이는 크지 않음을 느꼈던 때가 있다. 당시 일종의 허탈함이 느껴지기도 했는데, 요즘엔 오히려 내 기본에 깔려있는 통계학이 데이터를 볼때에 알게모르게 정말 많은 도움을 주고 있다는 생각을 한다. 이 생각을 문득 했을때, 바로 이 생각을 정리하고 싶은 마음이 있어 페이스북에 포스팅을 했었다. 본 주제는 페이스북에 남겼던 글로 갈음해본다.</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid0883Dz4bTDaZs2jurDyv7TEoJ7sG11vGY9PeeCoNvMQYAgkoccxFezkZwNyNEj4FQl%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="362" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
</section>
<section id="그로스-해킹" class="level3">
<h3 class="anchored" data-anchor-id="그로스-해킹">그로스 해킹</h3>
<p>양승화님이 쓰신 그로스 해킹 책을 거진 다 읽어간다. 학계에서 산업계로 넘어와 추천 서비스의 고도화를 위해 데이터 분석을 수행하고 있는 내게 정말 많은 도움을 준 책이다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/fig2.jpeg" class="img-fluid figure-img" width="600"></p>
<p></p><figcaption class="figure-caption">출처: yes24</figcaption><p></p>
</figure>
</div>
<p>프로덕트를 성장시키기 위해서는 데이터 분석을 할 때 어떤 방향성을 가지고 해야하는지, 어떤 부분을 조심해야하는지에 대해 많은 부분 힌트를 얻을 수 있었다. 만오천원이 채 안되는 값싼 금액에 저자가 수년간 쌓아올린 노하우들을 들여다볼 수 있다는 것은 정말 말이 안된다고 생각한다.</p>
<p>가장 깊은 인사이트를 받은 부분은 지표 설계와 관련한 부분이다. 우리팀에서 제공하는 추천 서비스를 성장시키기 위해서는 대체 어떤 지표를 OMTM(One Metric That Matters)으로 삼아야 하는가에 관한 고민이 있었기 때문이다. 이 부분에 대해서도 페이스북에다가 생각을 정리했던 적이 있다:</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid032zf7fkepQSobg39r2eHKtShnkFJcEpNurAchrEgu16a8iUJsVomUUZVznMByJ8eCl%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="354" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
<p>특정 서비스의 고도화를 위해 데이터 분석을 수행하고 있는 사람<sup>9</sup>이라면, &lt;그로스 해킹&gt;이라는 책은 한 번쯤 읽어볼 만한 책이라고 생각한다. 책의 뒷장에서는 데이터 분석, 그로스 해킹을 수행할 수 있는 인프라가 갖춰지지 않은 상황에는 어떤 것 부터 시작을 하면 되는지에 대해서도 이야기를 해주는데, 이 부분은 데이터가 흐르는 조직을 만들고자 하는 분들, 데이터 분석가로 채용되어 조직에 들어갔는데 데이터를 활용할 수 있는 환경이 전혀 갖추어져있지 않아 뭐부터 해야할지 고민이 있는 분들께도 많은 도움이 되지 않을까 생각한다.</p>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>여러분들의 2월은 어떠셨습니까? 주간 회고를 종합해서 돌아보니, 2월에도 정말 많은 배움의 순간들이 있었네요. 글을 쓰면서 몇 번의 퇴고를 거치듯, 분석을 진행해나가며 앞단의 분석들을 다시 되돌아보듯, 주 단위, 월 단위, 연 단위로 삶을 회고해 보는 것은 정말 많은 것들을 가져다주는 것 같습니다. 저는 원래 회고록을 쓰던 사람이 아닙니다. 제가 보기에 너무 멋있고 열정적으로 살아가는 분들이 회고록을 쓰는 것을 보며, 그들의 습관을 따라해보고자 회고록을 쓰기 시작했죠.</p>
<p>제 인생의 첫 월간 회고록은 지난해 4월이었어요. 시작할때는 참 귀찮은 일이었으나, 이제는 회고를 하지 않으면 마치 조립되지 않은 퍼즐 조각들이 머리 속에 가득한 느낌까지 듭니다. 매주 일요일 밤에 한주 동안 얻은 인사이트를 정리하는 것으로 회고를 시작해보세요. 문득문득 드는 생각들을 정리하는데에 정말 많은 도움이 되실 겁니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>G마켓에서 제공할 추천 서비스를 만드는 팀이며, 나는 이를 고도화하기 위해 데이터 분석을 수행하고 있다.↩︎</p></li>
<li id="fn2"><p>여기서는 신약의 효과라 할 수 있겠다.↩︎</p></li>
<li id="fn3"><p>실험 참가자(subjects)↩︎</p></li>
<li id="fn4"><p>신약을 투여받는 처리 그룹(treatment group)인지, 위약 또는 기존약을 투여받는 통제 그룹(control group)인지.↩︎</p></li>
<li id="fn5"><p>실험 결과에 영향을 줄 수 있는 일말의 모든 것을 제거하기 위한 목적으로, Triple-blind test라는 것도 존재한다.↩︎</p></li>
<li id="fn6"><p>이러한 이유에서 통계학에서는 2종오류보다 1종오류를 더욱 위험한 오류라고 보며, 1종 오류를 통제하며 가설 검정을 수행한다.↩︎</p></li>
<li id="fn7"><p>이게 맞나?.. 문득, 내 질문이 발표자들에게 어떤 부담이 되진 않았을까 하는 생각이 든다.↩︎</p></li>
<li id="fn8"><p>우리팀(AI Product팀) 팀장님이시다.😀↩︎</p></li>
<li id="fn9"><p>요즘은 이를 프로덕트 데이터 분석가라고 세련되게 표현하는 듯 하다..↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {월간 회고록: 2023년 2월},
  date = {2023-03-12},
  url = {https://taemobang.com/posts/2023-03-12-monthly-memory-202302/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“월간 회고록: 2023년 2월.”</span> March 12, 2023. <a href="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/">https://taemobang.com/posts/2023-03-12-monthly-memory-202302/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2023-03-12-monthly-memory-202302/index.html</guid>
  <pubDate>Sat, 11 Mar 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-03-12-monthly-memory-202302/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>월간 회고록: 2023년 1월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-02-21-monthly-memory-202301/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>새해가 밝은지 얼마 지나지 않은듯 한데, 어느덧 2월도 저물어가고 있네요. 얼른 지난 1월을 회고해보려고 해요. 매주 일요일 적었던 1월의 주간 회고를 돌이켜보니, 1월도 느낀 바가 참 많았던 한 달이었더군요. 산업계로 이직을 하고부터는 매달 새로운 것을 느끼고, 새로운 생각을 하게 되는 것 같아요. 여전히 이 곳은 제게 아주 챌린징한 곳인가 봅니다. 지난 1월의 이야기를 일과 개인적인 부분으로 나눠서 이야기해보겠습니다.</p>
<section id="일" class="level2">
<h2 class="anchored" data-anchor-id="일">일</h2>
<section id="streamlit-캐싱" class="level3">
<h3 class="anchored" data-anchor-id="streamlit-캐싱">Streamlit 캐싱</h3>
<p>이직 후 맨 처음 맡았던 업무는 대시보드 개발이었는데요. <a href="https://www.taemobang.com/posts/2023-02-01-yearly-memory-2022/#shiny-streamlit">연간 회고록</a>에서 말씀드렸듯이, 대시보드 개발은 Streamlit으로 진행하고 있습니다. 1월 첫째 주에 우선적으로 올릴 지표들, 제가 필요로 된다고 생각했던 반응형 그래프 기능들을 다 반영해서 팀 내에 첫 공유를 드렸었습니다. 그 중 앱의 로딩 속도가 조금 느린데, 개선이 가능하냐는 피드백이 있었는데요. 저도 이 부분은 공유 세션을 가지기 전에 생각했던 부분이긴 했습니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/fig1.jpeg" class="img-fluid figure-img"></p>
</figure>
</div>
<p>앱 스크립트를 짤 때 초기에만 1번 Hive를 찔러서 테이블을 가져오는데, 왜 이렇게 앱 로딩 속도가 느릴까? 지나치게 많은 반응형 그래프를 한꺼번에 한 페이지에 로딩을 해서 가져와야하기 때문일까? 이러한 개인적인 추측을 했었죠. 그러나, 원인은 Streamlit이 가진 본질적인 특징에 있었습니다.😀</p>
<p>그렇다면, Streamlit의 어떤 특징 때문에 앱 로딩 속도가 이렇게 느렸던 걸까요? Streamlit은 앱 사용자가 이것저것 눌러보며 앱의 특정 기능을 실행하면, 스크립트를 처음부터 끝까지 다시 실행시키는 로직을 가지고 있어요. Streamlit으로 대시보드 개발을 손쉽게 만들어주는 데에 이 로직이 큰 역할을 한다고 해요. 문제는 스크립트를 재실행시킬 때마다 함수가 반복적으로 다시 실행되고 객체 또한 반복적으로 다시 불러와지기 때문에, 앱 로딩 속도에 큰 영향을 미친다는 점이죠. 아주 가벼운 형태의 앱이면 문제가 되지 않겠지만요.</p>
<p>이러한 본질적인 특징때문에 제가 앱 스크립트에 첫 줄에서 딱 한 번만 Hive를 찔러서 가져와도, 제가 만들어둔 반응형 그래프를 유저가 한 번이라도 클릭을 한다면 다시 이 스크립트를 처음부터 다시 실행시키기 때문에 로딩 속도가 느릴 수 밖에 없었던 것입니다. 이 문제는 새로고침을 해도 물론이었으며, 여러 페이지로 구성한 앱 내에서 다른 페이지로 넘어갈 때에도 문제가 됐습니다.</p>
<p>이는 Streamlit에서 제공하는 캐싱 기능을 통해 아주 손쉽게 해결할 수 있었습니다. 스크립트 초반부에 캐싱 코드 한 줄만 딱 넣어주면, 첫 실행 시 함수 호출 결과와 객체를 저장함으로써 앱 로딩 속도를 대폭 개선해줬죠. 얼마전 <a href="https://discuss.streamlit.io/t/version-1-18-0/37501">Streamlit 1.18.0</a>이 정식 릴리즈되면서, 테스트 중이었던 캐싱 코드도 정식으로 릴리즈되었어요. 관심 있으신 분들은 <a href="https://blog.streamlit.io/introducing-two-new-caching-commands-to-replace-st-cache/">Streamlit의 블로그 포스트</a>와 <a href="https://docs.streamlit.io/library/advanced-features/caching">Documentation</a>을 참고해보시기 바랍니다.</p>
</section>
<section id="시계열-자료분석-부제-세상에-쓸모없는-배움은-없다." class="level3">
<h3 class="anchored" data-anchor-id="시계열-자료분석-부제-세상에-쓸모없는-배움은-없다.">시계열 자료분석 (부제: 세상에 쓸모없는 배움은 없다.)</h3>
<p>여기서는 시계열 자료분석을 수행할 일이 없을 줄 알았는데요. 그럴 일이 생겼습니다!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/fig2.jpeg" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
<p>시계열적으로 접근하는 데이터 분석은 언제나 웰컴이에요. 제게 가장 익숙한 문제의 유형 중 하나이기 때문입니다. 여기서 자세하게 어떤 배경에서 어떤 시계열적 접근이 필요로 됐는지 말씀을 드리진 않겠지만<sup>1</sup>, 여기서 또 한번 느낀 바는 역시나 세상에 쓸모없는 배움은 없다는 것입니다.</p>
<p>여러분들이 지금 배우고 있는 것들이 추후에 업무에서 어떻게 쓰일 지는 아무도 모릅니다. 항상 최선을 다하세요. 그리고, 걱정하지 마세요. 배워두면 좋을 것 같은데? 근데, 좀 우선순위는 아닌거 같은데? 이런 생각이 드는 것들이 많으신가요? 시간이 허락 된다면 주저하지 말고 배워보세요. 주말에 시간을 내서 이틀 정도만 바짝 해보세요. 새로운 도구의 기본적인 것들을 익히는 데에는 생각보다 긴 시간이 걸리지 않습니다.</p>
<p>언젠가는 내가 가지고 있는 것과 시너지 효과를 내줄 수 있는 날이 올겁니다. 제 경우에는 블로그에 글쓰기가 그랬고, Git이 그랬고, Python이 그랬고, SAS가 그랬어요. 이 외에도 더 많은 경우가 있지만 이만 줄이겠습니다. 시간이 없다는 핑계, 우선순위가 아닌 것 같다는 핑계가 머리 속을 지배하고 있을 때는 잡스 형님이 Connecting the dots이라는 주옥같은 명언을 남긴 스탠포드 대학교 명연설을 한 번 보세요. 떨어져 가는 학습 동기를 채워넣어주는 최고의 동영상 중 하나입니다.</p>
<p></p><div id="youtube-frame" style="position: relative; padding-bottom: 56.25%; /* 16:9 */ height: 0;"><iframe width="100%" height="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/J2m-fv_wAsY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p></p>
<p>저는 과거에 주저하기만 하고 결국 우선순위가 아니라는 핑계로 새로운 것에 대한 배움을 미뤄왔던 사람이거든요. 여러분들은 그러지 않으셨으면 합니다. 그래서, 요즘 이렇게 배워야할게 산더미인 듯 해요.😭</p>
</section>
</section>
<section id="개인" class="level2">
<h2 class="anchored" data-anchor-id="개인">개인</h2>
<section id="글또-8기" class="level3">
<h3 class="anchored" data-anchor-id="글또-8기">글또 8기</h3>
<p>지난 1월 말부터 글또<sup>2</sup> 8기에 참가하고 있어요. 글또는 개발자들의 글쓰기 역량을 강화하고 글을 꾸준히 쓸 수 있도록 돕는 커뮤니티인데요. 지난 한해를 회고하면서 글또 다음 기수에는 꼭 참가를 해보고 싶다는 생각을 했었어요. 그 이유에 대해 조금 이야기 해볼게요. 대학원에 진학하며 개인 블로그를 지금까지 꾸준히 운영해오고 있는데요.<sup>3</sup> 그런데, 대학원을 졸업하고 글쓰기에는 조금씩 나태해져 가고 있는 제 자신을 발견할 수 있었어요. 업무, 이직, 새로운 산업에 적응 등을 핑계로 말이죠.</p>
<p>그래서, 새로운 자극이 필요하다고 생각이 들었어요. 넘치는 의욕으로 지난 1차 제출 기간에는 2개의 글을 제출했었어요. 2차 제출 기간의 첫 글은 지금 쓰고있는 이 월간 회고록이 될 듯합니다. 1차 기간에 제출했던 2개의 글도 기술적인 주제의 글은 아니여서, 다음 글은 꼭 기술적인 주제로 써보겠습니다. 블로그를 회고록, 칼럼이 지배해가고 있는데, 이제 기술적인 글을 쓸 때가 되지 않았나 생각하고 있습니다. 아무튼, 글또 8기에 계획된 12번의 글 제출 기간 동안 꾸준하게 글을 써내려가는 모습을 이 블로그를 통해 보여드리겠습니다.😀</p>
</section>
<section id="커피챗" class="level3">
<h3 class="anchored" data-anchor-id="커피챗">커피챗</h3>
<p>1월 둘째주 토요일에 제가 선망하고 있었던 R 고수.. 진환님과 만남의 시간을 가질 수 있었어요. 만남의 계기는 진환님의 블로그를 보다가 보내게 된 메일 한통이었어요. 전부터 한번 쯤 꼭 만나뵙고 이야기를 나눠보고 싶었어요. 그래서, 메일을 몇 통 주고받다가 제가 마지막에 불쑥 만나볼 수 있냐고 이야기를 드렸어요. 이런 제안을 드리는 것은 처음이라, 썼다 지웠다를 한 10번 정도 반복한 것 같습니다.😂</p>
<p>다행이 제 제안을 좋게 봐주셨고, 오프라인에서 만나 이야기를 나누면서 정말 시간 가는 줄 모르고 대화를 나눴어요. 그리고, 여기에 자세한 이야기는 적지 않겠지만, 세상이 참 좁다는 것을 한 번 더 느꼈습니다. 기억에 남는 이야기 중 하나를 해보자면, 수면 시간과 관련된 이야기였는데요. 하루에 보통 수면 시간을 얼마나 가져가시는 지 만나서 꼭 여쭤보고 싶었어요.</p>
<p>제가 받은 대답은 충격이었습니다..</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/fig3.jpeg" class="img-fluid figure-img"></p>
</figure>
</div>
<p>7-8시간씩 주무신다고 합니다. 저랑 수면 시간이 비슷한데.. <a href="https://jhk0530.medium.com/">진환님</a> 블로그를 들여다보면, 왜 진환님의 하루는 30시간 같죠? 깨어있을 때의 시간이 중요함을 다시 한 번 느꼈습니다. 진환님과의 만남도 제겐 정말 좋은 자극제였습니다. 이런 분들은 평소에 어떤 생각을 하시고, 어떻게 지내시는지 참 궁금했거든요. 다음에 다시 뵐 수 있는 기회가 있었으면 하네요.😀</p>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>여러분들의 1월은 어떠셨나요? 저는 여전히 배워야할 게 산더미인 요즘입니다. 그래서, 2023년에는 저를 최대한 바쁘게 만들어보고 있습니다. 퇴근하고 운동을 갔다가, 저녁 식사 후 필요한 공부를 하는 생활이 무의식의 습관으로 자리 잡게되는 한 해가 되길 바라며 글을 마칩니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>대외비에 문제가 안되는 선에서, 추후 별도의 글로 정리해보겠습니다.↩︎</p></li>
<li id="fn2"><p>글쓰는 또라이가 세상을 바꾼다!↩︎</p></li>
<li id="fn3"><p>네이버 블로그, <a href="https://be-favorite.tistory.com">티스토리</a>, Rmarkdown 기반 Distill 블로그를 거쳐 지금은 이렇게 Quarto 기반 블로그에 정착을 했습니다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {월간 회고록: 2023년 1월},
  date = {2023-02-21},
  url = {https://taemobang.com/posts/2023-02-21-monthly-memory-202301/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“월간 회고록: 2023년 1월.”</span> February 21, 2023.
<a href="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/">https://taemobang.com/posts/2023-02-21-monthly-memory-202301/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2023-02-21-monthly-memory-202301/index.html</guid>
  <pubDate>Mon, 20 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-02-21-monthly-memory-202301/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>면접을 앞두고 분석 경험을 회고하는 나만의 방식</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-02-07-da-my-view/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-02-07-da-my-view/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>Data Analyst/Scientist 포지션에 서류, SQL 테스트, 코딩 테스트 등은 패스한 뒤, 1차 면접<sup>1</sup>을 앞두고 있는 상황이라고 가정해보겠습니다. 이때 가장 먼저 신경써야할 부분은 무엇인지 한 번 고민을 해보자고요. 우선, 자기소개서, 포트폴리오를 포함한 이력서에 언급한 것들을 다시 되돌아 보는 것이 가장 먼저겠죠? 이것들이 담고있는 내용들 중 가장 중요한 것은 이제까지 해왔던 분석 경험<sup>2</sup>들을 천천히 회고해보는 것이라고 생각합니다.</p>
<p>무엇을 어떻게 회고해야 면접에서 좋은 점수를 받을 수 있을까요? 업계에 몸을 담은지 오래되지 않은 사람의 개인적인 의견이니 가볍게 들어주시면 될 듯합니다.🤗 혹시, 이 글을 읽는 분들 중 시니어 분들이 계시다면 함께 의견 나눠주시면 좋을 것 같습니다. 지금부터 소개드릴 저만의 회고 방식은 “데이터 분석을 대하는 저만의 자세”로도 치환할 수 있을 듯 합니다.</p>
<section id="회고-방식" class="level1">
<h1>회고 방식</h1>
<p>분석 경험을 회고할 때에 제가 가장 많이 신경쓰는 부분은 Why와 How입니다. What은 크게 중요치 않습니다. 분석 경험에 관하여 이거 해봤다, 저거 해봤다 식의 나열하는 정도의 단순한 대답은 면접관에게 점수를 따기 어렵습니다. 내가 어떤 사람인지 디테일하게 드러낼 수 없을 뿐더러, 이런 식의 대답은 재미도 없죠.😀 다음과 같이 Why와 How를 중심으로 회고해볼 것을 제안합니다.</p>
<section id="why" class="level2">
<h2 class="anchored" data-anchor-id="why">Why</h2>
<section id="방법론" class="level3">
<h3 class="anchored" data-anchor-id="방법론">방법론</h3>
<p>풀고자 하는 문제와 주어진 데이터 관점에서 항상 어떤 방법론을 사용할 지 깊게 고민한 흔적을 드러낼 수 있어야 합니다. 여기에 한 가지 더 얹자면, 모형의 계산량 대비 효율에 관한 고민까지 했었던 사람이라면 더 좋은 점수를 딸 수 있을 것이라 생각합니다.</p>
</section>
<section id="전반적인-분석-과정" class="level3">
<h3 class="anchored" data-anchor-id="전반적인-분석-과정">전반적인 분석 과정</h3>
<p>문제 해결을 위해 분석의 각 단계에서 그러한 결정을 한 본인만의 명확한 이유, 고민한 흔적들이 있어야합니다.</p>
</section>
</section>
<section id="how" class="level2">
<h2 class="anchored" data-anchor-id="how">How</h2>
<section id="챌린징" class="level3">
<h3 class="anchored" data-anchor-id="챌린징">챌린징</h3>
<p>분석 과정 중 챌린징한 상황을 마주했을때, 이를 해결하기 위해 어떤 노력들을 해봤는가에 대해서 생각해보세요. 아무리 풀기 쉬워 보이는 문제라도 어떤 데이터를 마주하느냐, 또는 어떤 세부적인 사항들을 고려해야하는가에 따라서 얼마든지 챌린징한 상황을 마주할 수 있습니다. 그리고, 현업에서 우리는 상대방을 설득할 수 있을만한 합당안 근거로 이 상황들을 해결해나가야 합니다.</p>
</section>
<section id="계산량-계산속도" class="level3">
<h3 class="anchored" data-anchor-id="계산량-계산속도">계산량, 계산속도</h3>
<p>우리에게 주어져있는 시간, 리소스, 하드웨어, 소프트웨어는 한정적입니다. 모델 적합 또는 수많은 반복 작업이 필요할 때에, 여기에 드는 계산량 및 계산 속도를 개선하기 위해 어떤 노력을 해봤는지 회고해보세요.</p>
</section>
<section id="시각화" class="level3">
<h3 class="anchored" data-anchor-id="시각화">시각화</h3>
<p>사람들은 텍스트가 아닌 그림을 기억합니다. 그래서, 분석 과정 곳곳에 인사이트를 주기 위해 잘 설계된 시각화 그림을 제공하는 것은 정말 중요합니다. 그림에 들어간 색이 너무 많을때, 이를 줄이기 위한 고민을 해보셨나요? 전달하고 싶은 부분만을 명확하게 전달하기 위해, 시각화를 끊임없이 개선해본 경험이 있으신가요? 얼마나 많은 고민을 녹여내어 어떤 시각화를 수행해오셨나요? 이런 것들에 대한 회고를 해보세요. 남들이 다 하는 수준의 가벼운 시각화 코드를 가져와서, Copy &amp; Paste로 따라하는 데에만 그치지 마셨으면 합니다.</p>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>오늘은 면접을 앞두고 분석 경험을 회고하는 제 방식에 대해 공유드려봤습니다. 부제는 데이터 분석을 대하는 저의 자세가 되겠습니다.😀 분석 과정에 있어서 앞서 소개한 측면들에 관한 고민을 하는 습관을 가지고 있지 않다면, 위 질문에 대답하기란 꽤 어려울 수도 있습니다. What은 크게 중요치 않다고 했는데요. 저는 글의 서두에서 당신이 서류는 통과, 기타 테스트는 통과한 1차 면접을 앞두고 있는 사람이라 가정했습니다. 즉, What은 이미 통과되었다고 볼 수 있겠죠. 면접에서 Why와 How를 잘 설명하고, 내가 풀어본 문제가 지원한 회사가 풀고자 하는 What과 어느정도 align이 된다면? 그 면접의 합격은 따놓은 당상입니다.</p>
<p>자, 이러한 로직을 2차 면접<sup>3</sup>으로 확장해볼까요? 1차 면접에서 보고자하는 결이 “내가 이 사람을 데리고 일을 할 수 있을까”라면, 2차 면접에서 보고자 하는 결은 당신의 포텐셜에 가깝습니다. 내가 이제까지 해온 분석 경험을 내가 이제까지 해온 인생 경험들로 치환해보세요. 그리고, 지금의 나로 성장하기까지 해왔던 수많은 선택들을 회고해보세요. 거기서 다시 Why와 How를 중심으로 깊게 고민해보세요. 그럼, 2차 면접도 어렵지 않으실 겁니다. 면접과 관련한 팁들은 <a href="https://www.taemobang.com/posts/2023-01-01-move-to-another-company/">2022년 이직 로그</a>에서도 이야기를 했었는데, 관심있으신 분들은 참고해보세요.</p>
<p>이제 글을 마무리 하고자 합니다. 사실, 회고 방식에서 소개한 측면 외에 분석 과정에서 자신에게 끊임없이 던져보아야 할 가장 중요한 질문이 있습니다. 이에 대해 얘기해보면서 글을 마칩니다.</p>
<ul>
<li>나는 이 문제를 왜 풀고 있는가?
<ul>
<li>분석이 길어지다 보면, 때로는 본질적으로 어떤 문제를 풀었어야했는지 종종 잊을때가 있습니다. 분석 스텝바이스텝에서 이 부분을 끊임없이 상기시키세요.</li>
<li>위 질문은 “이 문제를 풀어서 실질적으로 어떤 유의미한 것을 얻을 수 있는가?”에 대한 질문으로 치환될 수 있습니다. 이 문제를 풀음으로써 궁극적으로 얻고자 하는 바가 무엇인지에 대해서도 끊임없이 상기시키세요. 분석 퀄리티를 높여나가는 데에 큰 도움이 되실겁니다.</li>
</ul></li>
</ul>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>기술 면접↩︎</p></li>
<li id="fn2"><p>모델링까지 포함한 넓은 범주로 이해해주세요.↩︎</p></li>
<li id="fn3"><p>임원 면접↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {면접을 앞두고 분석 경험을 회고하는 나만의 방식},
  date = {2023-02-07},
  url = {https://taemobang.com/posts/2023-02-07-da-my-view/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“면접을 앞두고 분석 경험을 회고하는 나만의
방식.”</span> February 7, 2023. <a href="https://taemobang.com/posts/2023-02-07-da-my-view/">https://taemobang.com/posts/2023-02-07-da-my-view/</a>.
</div></div></section></div> ]]></description>
  <category>Column</category>
  <guid>https://taemobang.com/posts/2023-02-07-da-my-view/index.html</guid>
  <pubDate>Mon, 06 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-02-07-da-my-view/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>연간 회고록: 2022년</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-02-01-yearly-memory-2022/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>지난 한 해가 지나간지 얼마 채 되지도 않은 것 같은데, 어느덧 2월에 들어섰네요. 역시 시간은 우리를 기다려주지 않습니다. 이제서야 연간 회고록을 쓰는 저도 참..😂 연간 회고록은 커리어와 개인적인 부분을 나눠서 진행해보려고 해요. 이번 한 해는 제게 참 많은 변화가 있었어요. 기존에 가지고 있던 생각에도 변화가 참 많았습니다. 그 중심에는 학계에서 산업계로의 이직이 큰 몫을 한 것 같아요. 한 해 동안 느꼈던 바들을 한 번 잘 풀어서 써보겠습니다.</p>
<section id="커리어" class="level1">
<h1>커리어</h1>
<p>지난 1월에 포스팅했던 <a href="https://www.taemobang.com/posts/2023-01-01-move-to-another-company/">이직로그</a>에서 말씀드렸듯이, 저는 작년 2월에 이직을 결심했고 9월부터는 G마켓의 Data Scientist 포지션에서 업무를 하게되었습니다. 눈 깜짝할 사이에 5달이라는 시간이 흘렀군요. 업무 적응은 아직 현재 진행형인 듯 합니다. 여전히 눈을 감고.. 코끼리 다리는 만지는 듯한.. 이른바 군맹무상의 상태인 듯 해요. 언제쯤 이 코끼리를 멀리서 크게 바라볼 수 있을까요?😭</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig1.jpg" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">현재 나의 상태..</figcaption><p></p>
</figure>
</div>
<p>5달 동안 정말 많이 배웠습니다. 기존에 가지고 있었던 생각의 변화도 많았고, 새로운 도구를 배우기도 했고요. 기억에 남는 키워드들을 가지고 논해보겠습니다. 마지막은 5개월 동안 겪은 우리팀의 분위기에 대해 적어볼게요.</p>
<section id="generalist-specialist" class="level2">
<h2 class="anchored" data-anchor-id="generalist-specialist">Generalist? Specialist?</h2>
<p>지금은 이 둘을 굳이 분간하고 싶지 않습니다. 그러나, 과거에 저는 <a href="https://www.taemobang.com/posts/2022-09-12-statistics-playbook-1/">이 글</a>에서도 넌지시 밝혔듯이 Data Science 업계에서 살아남기 위해서는 Specialist가 되어야하지 않나 하는 생각을 가지고 있었어요. 그래서, 대학원 때도 100점짜리 하나를 가지고 나가기 위해 노력을 했고 이론적 측면에서는 시계열 자료분석, 소프트웨어 측면에서는 R이 그것에 해당했습니다. 이 둘에 대한 수준을 절대적인 기준의 높은 경지까지 끌어올렸다는 의미라기 보다는, 자신있다고 말할 수 있는 영역들을 만들어냈다고 봐주시면 감사할 것 같습니다. 대학원을 졸업하고 병원 연구센터에서 시계열 자료를 모델링하며 연구에 몰두할때만해도 이 생각에는 딱히 변화가 없었죠. 코끼리 다리를 만지는 듯한.. 느낌도 없었고, 업무 적응에 딱히 긴 시간이 걸리지도 않았으니까요.</p>
<p>그러나, G마켓으로 이직하면서 이 생각에는 많은 변화가 찾아왔습니다. 일단, 제가 모르는게 너무 많다는 생각을 했어요. 1년반정도 재직을 했던 첫 직장에서는 느껴보지 못한 어려움과 감정을 느꼈습니다. 당시 느꼈던 감정이 잘 녹아있는 페이스북 포스팅입니다.</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid0nLDeuxEGHJvG4Ya9hLRVAo277o4wmhA64iFMkUfvF9cT5G7B3M5hPdQrNY75ZMtTl%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="370" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
<p>100점짜리 하나를 가지고 나가기 위해 노력했기에, 그 외에 영역에는 모르는 부분이 참 많았어요. 이때부터 조금씩 생각을 했습니다. 아.. 100점짜리 하나를 만들어 나가는 것 보다는 80점짜리를 3개 이상 만드는게 더 좋은 결정이었을 수도 있겠구나.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig2.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">T자형 인재 (출처: EliceAcademy)</figcaption><p></p>
</figure>
</div>
<p>Specialist를 지향해왔던 저는 100점짜리 하나를 만들어서 나가야 한다는 생각에 아래로 뾰족한 ’전문 분야에 대한 깊은지식’만을 갖추는 데에 매몰되어있었습니다. 현 사회에서 요구하는 인재의 유형이라 할 수 있는 T자형 인재와는 거리가 꽤 멀었죠. 그리고, 이로 인한 어려움은 산업계로 이직을 하면서 피부로 느낄 수 있었습니다. 이러한 생각을 할때 즈음 신수정 님이 쓰신 &lt;일의 격&gt;에 이런 구절이 쓰여져 있더군요.</p>
<blockquote class="blockquote">
<p>100점짜리 하나 보다는 80점 짜리를 3개 이상 만들어봐라.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig3.jpeg" class="img-fluid figure-img" width="600"></p>
<p></p><figcaption class="figure-caption">신수정 &lt;일의 격&gt; (출처: yes24)</figcaption><p></p>
</figure>
</div>
<p>제 무릎을 탁 치게되는 구절이었습니다. 여기서 2가지 일화를 더 겪으면서 제가 학부생, 대학원생 때 지향했던 바가 조금 잘못되었구나를 확신했어요. 첫 번째는 이직한지 한 달이 되던 무렵 선호님<sup>1</sup>과 저녁을 먹으면서 우연히 Generalist, Specialist에 대해 이야기를 나누면서 였고, 두 번째는 지난 12월에 팀 워크샵에서 실장님이 T자형 인재를 가지고 한 시간 정도 본인의 이런저런 의견을 이야기 해주시는 것을 들으면서 였어요. 일의 격의 구절, 선호님의 논지, 실장님의 논지는 크게 봤을 때 같은 이야기를 하고 있는 것 처럼 들렸어요. 이쪽 업계에서는 100점짜리 하나가 있는게 유리하다고 생각을 해왔던 제 생각과는 정반대의 결을 가진 생각으로 말이죠. 100점짜리 하나를 만들어야 한다는 생각이 어쩌면 저한테는 꽤 편했던 핑계<sup>2</sup>였던 것 같아요. 이제는 이런 생각을 버리고, 80점 짜리를 3개 이상 만들기 위해 이것 저것 재지않고 새로운 것을 배우려고 노력하고 있어요. 사회에 나온지 얼마 안된 시기에 이러한 생각의 전환을 이루어 낸 게, 참 행운이라고 생각하고 있어요.</p>
</section>
<section id="r-python" class="level2">
<h2 class="anchored" data-anchor-id="r-python">R? Python?</h2>
<p>자, 지겹고 무의미한 논쟁을 한번 꺼내 볼까요? 제가 가장 사랑하는 언어는 여전히 R이지만, 산업계에서 R이 차지하고 있는 파이를 직접 마주하고 나니 많은 생각을 하게 됐어요. R vs Python, 최근에는 Julia 까지 데싸 업계에서는 여전히 가장 감질맛 나는 떡밥이 아닌가 생각합니다</p>
<center><iframe src="https://www.linkedin.com/embed/feed/update/urn:li:ugcPost:6847186429878108160" width="504" height="585" frameborder="0" allowfullscreen=""></iframe></center>
<p>R과 Python을 비교하는 글은 언제나 꾸준히 올라왔습니다. 링크드인에도 이 떡밥은 종종 풀렸습니다. 해외에서도 뜨거운 주제였죠. 논쟁의 마무리에서 정답과 같은 중론은 “What’s your job?” 이었습니다. 당신이 풀고자 하는 문제가 무엇인지에 따라 두 언어를 선택하면 된다는 이야기죠. 이러한 중론에 저는 100% 동의했습니다. 예컨데, 딥러닝을 포함한 머신러닝을 위시한 예측 모델링에 꿈이 있는 사람이라면, Python을 택하여 공부하는게 아무래도 취업 시장에서 유리한 포지션을 가져갈 수 있겠죠? 저도 학부생, 대학원생 때 이 떡밥에 관심이 많았던 사람이라, 과거에 슬기로운 통계생활 블로그에 이와 관련한 주제로 <a href="https://statisticsplaybook.tistory.com/39">글</a>을 쓰기도 했어요. 아래 두 글은 꽤 중립적인 입장에서 두 언어를 비교하고 있다고 생각했던 글들이여서 가져와 봤어요.</p>
<center><iframe src="https://www.linkedin.com/embed/feed/update/urn:li:share:6830097792397053952" width="504" height="422" frameborder="0" allowfullscreen=""></iframe></center>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fsmileoncold%2Fposts%2F2735450846483802&amp;show_text=true&amp;width=500" width="500" height="387" frameborder="0" scrolling="no" allowfullscreen="true"></iframe></center>
<p>이러한 중립적 관점에서 기술된 글과는 반대로, R과 Python을 막론하고 특정 언어를 찬양하며 다른 언어를 깎아내리는 글은 읽을 가치도 없고, 그 자체로 저자의 무지함을 드러내는 글이라 생각합니다. 장단점을 논할 순 있겠지만요.</p>
<p>산업계로 넘어와 조금 바뀐 제 생각은 페이스북에 적었던 아래 두 포스팅으로 갈음합니다. 첫 번째 포스팅을 요약하자면, 우리나라 업계의 Data Scientist로 활약하기를 꿈꾼다면 그냥 마음 편하게 Python을 하는게 낫지않나 하는 얘기에요. 이쪽 업계에 R 사용자가 차지하는 파이는 꽤 작아서 협업 중에 Python 유저로서는 겪지 않을 불편함을 R 유저들은 필연적으로 겪어야만 하거든요.</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid0v1MivKcLoHSMJvreAf6aCu59DpDptAHiaQADqm6gPpjBV7eUwiS55wAfRvNStTh1l%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="370" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
<p>이제 지루한 논쟁에 정답을 내려드리겠습니다.</p>
<blockquote class="blockquote">
<p>둘 다 하세요.</p>
</blockquote>
<p>두 번째 포스팅은 R이 Native인 제가 Python을 다루며 했던 생각입니다. 요약하자면, Pandas는 Pandas 감성으로, tidyverse는 tidyverse 감성으로 다루자는 얘깁니다. 정답이 없는 부분이니, 가볍게 읽어주시면 좋을 듯 합니다.😀</p>
<center><iframe src="https://www.facebook.com/plugins/post.php?href=https%3A%2F%2Fwww.facebook.com%2Fpermalink.php%3Fstory_fbid%3Dpfbid02gzAnntMjXmGvcg57xmoaXFfqYhqqmmwK271bP6t2rqKRApTYsV7dmJQqbXYT8v3Pl%26id%3D100070120780059&amp;show_text=true&amp;width=500" width="500" height="332" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe></center>
</section>
<section id="shiny-streamlit" class="level2">
<h2 class="anchored" data-anchor-id="shiny-streamlit">Shiny? Streamlit?</h2>
<p>예전부터 대시보드를 한 번 개발해보고 싶다는 생각을 쭉 해왔었습니다. G마켓에서 업무를 시작한지 두달이 조금 넘었을 무렵, 팀 내에서 개발하여 서비스하고 있는 추천 기술들의 몇몇 대표적인 성과 지표들을 모니터링할 목적으로 대시보드 개발이 필요로 된다는 이야기를 들었어요.</p>
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig4.png" class="img-fluid"></p>
<p>네, 제가 덮썩 물었습니다. 처음에는 개인적인 욕심으로 <a href="https://shiny.rstudio.com">Shiny</a>를 고려했었어요. 이정도면 R 짝사랑 그만해도 되겠죠? 그런데, 이 대시보드를 제가 평-생 유지보수 할 수 있다는 보장이 없으니, 적절하지 않은 도구였어요. 팀 내에 R 사용자가 없거든요. 사내에도 드물고.😭 여기서 욕심을 좀 더 부려서, 당시 나온지 세달? 네달?이 채 안된 <a href="https://shiny.rstudio.com/py/">Shiny for Python</a>을 팀 내에 분석가 분들께만 먼저 제안해봤어요. 동의해주셨지만, 곰곰이 생각해보니 Python 기반으로 대시보드 개발할건데 굳이 왜 알파 버전에 불과하고 레퍼런스도 별로 없는 Shiny for Python을 쓰려고 하는지 문득 의문이 들었죠. 여기에 또 굳이 <a href="https://quarto.org">Quarto</a>를 엮겠다고.. Python에는 더 좋은 선택지의 대시보드들이 많잖아요.</p>
<p>그래서, <a href="https://streamlit.io">Streamlit</a>과 Plotly의 <a href="https://dash.plotly.com">Dash</a> 둘 중에 깊은 고민을 하기 시작했어요. 우리팀에서 개발할 대시보드의 목적 상 많은 자유도가 필요로 되진 않았어요. 이 측면에서 Streamlit 보다 훨씬 다양한 기능들이 오픈되어 있는 Dash까지 고려할 필요가 있나 생각을 했죠. 그리고, Streamlit이 가볍고 빠르게 빌드할 수 있고, 기본 UI로도 충분히 요즘 감성에 맞게 이뻤기 때문에 더 끌렸어요. 그래서, 팀 내 대시보드 개발은 Streamlit으로 진행하기로 합니다.</p>
<p>Python은 R의 성숙도에 비해 훨씬 딸려서 조금 걱정하긴 했는데 개발하는 내내 재밌었어요. Pandas로 전처리하는 재미도 있었고요. <a href="https://siuba.readthedocs.io/en/latest/">siuba</a>라는 패키지를 이용해서 tidyverse syntax랑 엮어서 pandas dataframe을 핸들링하는 재미도 있었고. 사실, 다 뻥이고요. R로 하면 그~음방 하는데 하는 생각이 머리 속을 떠나지 않았습니다.😂 Python을 조금 다룰 줄 아시고, 대시보드를 개발해보고 싶으시다고요? Streamlit으로 가볍게 시작해보세요. Streamlit에서 공식적으로 제공하는 <a href="https://blog.streamlit.io/30-days-of-streamlit/">30 Days of Steamlit</a>으로 기본적인 기능들을 익히고, 아무 데이터나 가지고 무작정 시작해보세요. 참 쉽고 재밌는 툴입니다. 금방 실력이 느실거에요. 30 Days라 하지만 바짝하면 하루이틀이면 끝냅니다.😀 이것저것 재면 시작을 안하게 되요. 가볍게 시작해서 무식하게 끝내는 사람이 됩시다!</p>
</section>
<section id="우리팀-분위기" class="level2">
<h2 class="anchored" data-anchor-id="우리팀-분위기">우리팀 분위기</h2>
<p>5개월간 겪은 우리팀 분위기는 어땠냐고요?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig5.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
<p>대답은 유느님의 리액션으로 대신해봅니다. 제가 꿈꾸던 조직에 온 것 같아요. 우리팀에서 5개월 간 받은 느낌들을 짤막하게 적어볼게요.</p>
<ul>
<li><p>팀원이 풀지 못하는 일은 곧 나의 일</p>
<ul>
<li>각자 업무로 정말 바쁘시지만, 슬랙에 도움이나 정보를 요청하면 정말 다들 내 일처럼 붙어서 도와주십니다.</li>
</ul></li>
<li><p>새로운 시도가 환영 받는 곳</p>
<ul>
<li>이베이코리아로 시작해 현재 신세계 그룹에 편입된 지마켓이 있기까지 꽤나 이커머스에 역사가 있는 오래된 기업이죠. 그럼에도 불구하고, 우리팀에서 어떤 새로운 시도는 환영받는 분위기 입니다. 현재 전사적인 분위기도 동일하게 형성되어 있다고 생각합니다. 본 포지션에 지원할때 가장 큰 매력을 느꼈던 “인과추론에 대한 관심” 또한 이커머스 업계의 Data Science에서 아직까진 새로운 시도라고 보고 있습니다.</li>
</ul></li>
<li><p>자율성, But 열정! 열정!</p>
<ul>
<li>팀 분위기는 매우 자율적이에요. 다른 말로 자유롭다고 표현할 수도 있겠네요. 이러한 분위기와는 어울리지 않게 정말 다들 각자 맡은 일을 열정적으로 처리하십니다. 월급 받는만큼만 딱 일하는 분들이 아니라, 자신의 만족을 위해 일하는 분들! 항상 팀원 분들께 자극받고 있어요.</li>
</ul></li>
<li><p>수평적인 분위기 그 자체</p></li>
</ul>
<p>저만 이렇게 생각하는 건 아니겠죠? 제가 이 팀에 빌런은 아니겠죠?.. 써놓고 보니 갑자기 살짝 두렵네요.😂 이 글을 읽으실지는 모르시겠지만, 팀에 이런 분위기와 문화를 형성해준 선호님께 다시 한 번 감사의 말씀을 전합니다. 이런 좋은 환경에 부스팅을 받아서 2023년에는 더욱 정진하겠습니다.😀</p>
</section>
</section>
<section id="개인적인" class="level1">
<h1>개인적인</h1>
<p>이제 개인적인 것들을 회고해볼게요.</p>
<section id="목표-달성-여부" class="level2">
<h2 class="anchored" data-anchor-id="목표-달성-여부">목표 달성 여부</h2>
<p>노션에 작성해두었던 2022년의 목표를 모두 달성할 수 있었던 뜻깊은 한해였습니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/images/image-2108718600.png" class="img-fluid figure-img" width="400"></p>
</figure>
</div>
<p>하지만, 여기에 적어 두지않은.. 꼭 습관을 만들자고 다짐’만’ 하던 것들을 적어봅니다. 올해 2월부터 달려갑니다. 제 1월은 어디갔죠?</p>
<ul>
<li><p>책 읽기</p>
<ul>
<li>2023년엔 작게라도 시작합시다. 한 달에 한 권씩!</li>
</ul></li>
<li><p>영어 공부</p>
<ul>
<li>아침에 일찍일어나서 영어 공부 한다고 다짐만 1년 했습니다. 하루 30분!</li>
</ul></li>
<li><p>부동산, 증시, 경제 뉴스 읽기</p>
<ul>
<li>아.. 이것도 습관을 안들이니 바쁘다는 핑계로 안하게 되네요. 하루 30분!</li>
</ul></li>
</ul>
<p>써놓고 보면 참 별 거 아닌 습관들인데, 당연하게 몸이 움직이도록 습관을 만들기란 참 어려운 것 같습니다. 올해는 꼭 실천하겠습니다. 커리어 방면의 목표는 개인 노션에 비밀리에 작성하고 2023년 회고록에서 나눠보겠습니다. 사실 아직 구체적으로 못정했어요. 몇 시간 날잡아서 고민하는 시간을 만들어야할 것 같습니다.</p>
</section>
<section id="뽀모도로" class="level2">
<h2 class="anchored" data-anchor-id="뽀모도로">뽀모도로</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig6.png" class="img-fluid figure-img" width="800"></p>
</figure>
</div>
<p>현재 사무실 출근, 재택 근무를 혼합한 형태로 근무를 하는데, 아무래도 집에서 근무를 하면 조금 더 딴짓하게 되고 늘어지는 경향이 있더군요. 퇴근 후에 공부할 때는 더 그렇고요. 이를 지켜만 보고 있을 순 없었습니다. 그래서, 다시 뽀모도로 라는 방법으로 시간 관리를 하기 시작했습니다. 뽀모도로 방법을 요약해볼게요.</p>
<ul>
<li><p>1 뽀모도로: 25분</p></li>
<li><p>쉬는시간: 5분</p>
<ul>
<li>단, 4 뽀모도로 후 쉬는 시간은 15분</li>
</ul></li>
</ul>
<p>뽀모도로 중에 당신은 결코 자리에서 일어날 수도 휴대폰을 만지작 거릴 수도 없습니다. 25분만은 업무, 공부에만 집중하세요. 휴대폰이 울린다고요? 아이폰을 쓰신다면 업무 모드를 켜서, 메시지나 전화들을 블락시킬 수 있답니다. 아, 그리고 뽀모도로 간에 만약에 초집중을 하고 있다면 쉬는 시간을 가져가지 않고 바로 뽀모도로를 다시 활성화시키곤 합니다. 근데, 너무 귀찮을 것 같죠? 저걸 어떻게 하나하나 다 체킹하나요. 맥 사용자라면 다음의 앱을 사용해보세요.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/images/image-228434368.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
<p>저는 유료 기능까지 결제해서 사용하고 있어요. 만원 조금 넘는 금액에 평생 무료입니다. 유료 기능을 사용하면, 다양한 태깅을 사용할 수 있고 일간, 주간 보고서도 작성해줘요. 만족스럽게 쓰고있습니다. 뽀모도로는 워낙 유명한 시간 관리법이라 이외에도 다양한 앱이 있습니다. 윈도우에도 검색해보시면 이와 비슷한 프로그램들이 많아요. 집중력이 자주 흐트려지는 분들은 뽀모도로 시간관리법을 도입해보세요. 만족스러운 결과를 얻으실 수 있을겁니다.</p>
</section>
<section id="운동" class="level2">
<h2 class="anchored" data-anchor-id="운동">운동</h2>
<p>기술 블로그에는 참 안 어울리는 주제인데요. 군대를 전역하고 쭉 맨몸운동을 하다가, 4학년 1학기 영국에 교환학생을 갔을때 쇠질에 재미를 붙여서 지금까지 헬스장을 쭉 다니고 있습니다. 한 2년 전부터는 2분할에서 3분할로 넘어와서, 지금도 여전히 3일 분할을 하고있습니다. 이 놈의 운동은 여전히 어렵네요. 운동 얘기를 꺼낸 이유는 올해부터는 조금 칼식단을 지켜보려고 해서입니다. 사실, 지금까지 운동을 해오며 칼 식단을 해본 적이 없습니다. 공부, 운동에 식단까지 할 자신이 없었거든요. 올해는 좀 제가 짜둔 칼식단을 최대한 지키면서, 체지방을 좀 깎아보려고 합니다. 시작한지 한 일주일 정도 된 것 같아요. 매일 아침 공복에 몸무게를 재고 있는데, 아직까진 순조롭습니다. 언젠가 정체기가 오겠죠? 최대한 근손실을 막기 위해<sup>3</sup>, 한 달에 1키로 씩 덜어내는게 목표입니다. 체지방 13% 정도까지 달려가보겠습니다. 이 부분도 2023년 회고록에서 인바디 인증을 약속드리겠습니다.😀</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/fig7.jpeg" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">2020년 여름</figcaption><p></p>
</figure>
</div>
<p>혹시, 이 글을 읽는 분들 중에 근비대(근육 키우기)를 목적으로 웨이트, 쇠질을 시작하고 싶은데 뭐부터 해야할 지 모르겠는 분들을 위해서 몇 자 덧 붙여봅니다. 먼저, 저는 경험이 아예 없는 분들이 바로 PT로 시작하는 것은 조금 조심하셨으면 합니다. 피트니스 업계에는 워낙 사짜들이 많아서요. 이게 이렇게 하는게 맞는 방법인지도 모른채로, 큰 돈 주고 잘못 배울수도 있습니다. 예를 들어, 근비대가 목적이면 벤치는 가슴으로 밀어야하는데 온 몸의 협응근을 동원하는 리프팅식으로 배운다든지요. 이 부분은 초보자라면 결코 캐치할 수 없습니다. 혼자 들어봤을때보다 쉽게 잘 들리니까 좋은 거라고 생각할 수 밖에 없겠죠?</p>
<p>조금 조심스러운 부분인데, 유튜브 채널 딱 3개만 권하겠습니다.<sup>4</sup> 근비대가 목적이신 분들은 강경원, 설기관, 김성환 딱 이 3개 채널만 보고 운동하시면 됩니다. 채널이 3개여서 너무 많다고요? 강경원만 보세요. 거기서 시키는 대로만 하세요. 강경원 채널 들어가서 ‘초보자’ 검색해보면 쫙 나옵니다. 거기서 말하는 것들 달달 외워서 시키는 대로만 딱 3달만 해보세요. 몸에 정말 큰 변화가 찾아오실 겁니다. 3달 해봐도 정말 모르겠다. 혼자 운동하는게 너무 힘들고, 누군가에게 배우고싶다. 그때 PT를 받으십시오. 아니면, 정말 이 부위는 자극이 먹는지 모르겠다. 원포인트 레슨도 좋습니다. 아니면 짤막하게 3-5회 도요. 그럼, 아무것도 모를 때 받는 PT와는 정말 다를 겁니다. 우선, 내 몸에 자극이 오는지 안오는지를 캐치할 수 있으니까요. 그때쯤이면 궁금한게 많아져서, PT 선생님께 이것저것 질문하며 뽑아먹을 것도 많을겁니다.😀 몇 자 덧 붙인다 해놓고 두 문단이나 적었네요. 이만 줄이겠습니다.</p>
</section>
</section>
<section id="맺음말" class="level1">
<h1>맺음말</h1>
<p>여러분들의 2022년은 어떠셨나요? 저는 아쉬운 부분도 많지만, 가장 큰 목표였던 ’이직’을 이뤄내어 원하는 포지션에서 성장하며 일하고 있다는 느낌을 받아서 꽤나 만족감이 큰 한 해였던 것 같습니다. 올 한해는 2022년에 습관으로 만들어내지 못한 것들을 꼭 습관화하겠습니다. 그리고, 아직 이커머스 업계의 Data Scientist/Analyst라 하기엔 부족한 점이 많은 것 같습니다. 2023년이 저물어갈 무렵에는, 누군가의 온보딩을 도와줄 수 있는 수준으로 성장해있었으면 합니다. 더 많이 노력하고 꾸준히 정진하겠습니다. 긴 회고록 읽어주셔서 감사합니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>팀장님. 저희는 님자 호칭을 써서.. 처음엔 힘들었으니 이제는 님자 호칭이 더 편하네요!↩︎</p></li>
<li id="fn2"><p>다른 새로운 것을 배우지 않아도 되는 핑계↩︎</p></li>
<li id="fn3"><p>손실될 근육이 있는지는 미지수입니다😂↩︎</p></li>
<li id="fn4"><p>유튜브도 워낙에 사짜가 많습니다. 조심하세요.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {연간 회고록: 2022년},
  date = {2023-02-01},
  url = {https://taemobang.com/posts/2023-02-01-yearly-memory-2022/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“연간 회고록: 2022년.”</span> February 1, 2023. <a href="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/">https://taemobang.com/posts/2023-02-01-yearly-memory-2022/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2023-02-01-yearly-memory-2022/index.html</guid>
  <pubDate>Tue, 31 Jan 2023 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-02-01-yearly-memory-2022/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>2022년 이직 로그</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2023-01-01-move-to-another-company/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://notioly.com"><img src="https://taemobang.com/posts/2023-01-01-move-to-another-company/preview.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">The illustration by Mary Amato</figcaption><p></p>
</figure>
</div>
<p>이직을 결심하고 생각보다 빠른 시기에 결실을 맺을 수 있었습니다. 작년 2월 즈음 이직을 결심하고, 8월 4일 G마켓 Data Scientist 포지션에 최종 합격 통보를 받을 수 있었는데요. 이직을 결심한 구체적인 이유, 나만의 지원 기준 등을 담은 이직 로그와 G마켓으로의 이직 여정에 대해 적어보려고 합니다.</p>
<section id="이직-로그" class="level1">
<h1>이직 로그</h1>
<section id="이직을-결심한-이유" class="level2">
<h2 class="anchored" data-anchor-id="이직을-결심한-이유">이직을 결심한 이유</h2>
<p>첫 번째로 이제 더이상 이 곳<sup>1</sup>에서는 성장할 수 없을 것 같다는 확신이 있었기 때문입니다. 연구원 각자 독립적으로 연구 과제를 맡아 업무를 하다보니, 제가 수행 중인 연구에서 데이터 분석 및 모델링을 하고 고민하는 지점이 있을 때 함께 이야기를 나눌 수 있는 사람이 없었습니다. 훌륭한 멘토의 존재까지 바란 것은 아닙니다. 그러나, 마주한 문제에 대해 함께 이야기하고 해결책을 나눠보는 상대 조차 없다는 것은 제게 깊은 갈증이었습니다.</p>
<p>두 번째 이유는 센터 내부적으로 제가 완전히 무지한 연구 분야로의 연구 전문성을 키우고자 하는 계획있었기 때문입니다. 그래서, 2023년에도 이 곳에 머물러 있을 경우, 내가 기여할 수 있는 바는 더 적어질 것이고 이에 따라 개인의 성장 또한 정체될 것이라 생각했습니다. 과연 이 일이 내가 하고 싶은 일이 맞는지에 관한 고민도 생길 것은 분명했고요.</p>
<p>제 애정이 깃들어있는 첫 직장에 대해 안좋은 뉘앙스의 이야기만 한 것 같아서 몇 가지 장점을 짤막하게 덧 붙여 써봅니다. 학계 내에서 제공받을 수 있는 임금 수준에서 최고 수준의 대우를 받을 수 있는 곳입니다. 분위기 또한 자유롭고 수평적이라, 자신이 맡고 있는 과제만 잘 처리하면 되는 근무 환경을 갖추고 있습니다. 첫 직장에 감사한 부분도 한 가지 말씀드리고 싶은게 있습니다. 석사를 갓 졸업하고 현업에 첫 발은 내딛은 제게 연구 과제를 단독으로 맡겨주셨는데요. 어떤 사람에게는 막중한 업무 부담으로 다가왔을 수도 있겠지만, 제가 당시에 가장 잘 할 자신이 있는 연구 분야<sup>2</sup>였기 때문에 그 부담감을 조금이나마 즐길 수 있었던 것 같습니다. 그 덕택에 1년반이라는 시간동안 많은 성장을 이룰 수 있었습니다.</p>
</section>
<section id="지원-기준" class="level2">
<h2 class="anchored" data-anchor-id="지원-기준">지원 기준</h2>
<p>학계보다 비교적 빠르게 변화하는 환경인 산업계에서 일을 해보고 싶었습니다. 조금 더 구체적으로 말해보자면, 산업계에서 유의미한 지표 설계, A/B 테스트 결과를 바탕으로 한 통계적 가설검정과 인과추론 등을 수행해보고 싶었습니다. 그래서, 제조업 기반의 회사는 최대한 피하고 온라인 서비스를 바탕으로 비즈니스를 하는 기업으로 가고 싶다는 막연한 생각을 가지고 있었어요. 온라인 서비스가 비즈니스 모델인 기업이 전사 차원에서 데이터 기반 의사 결정 문화가 조금 더 잘 확립되어 있지 않을까 하는 생각도 가지고 있었고요. 저는 당시 산업계에 몸을 담은 적도, 여러 분야의 기업들에서 일을 해본 적도 없으므로 온전히 제 개인적인 추정이었음을 말씀드립니다.</p>
<p>마지막으로 가지고 있었던 또 하나의 지원 기준은 채용 공고의 디테일이었습니다. 채용 공고에 쓰여진 지원 자격, 세부 직무 내용에 관한 디테일이 곧 그 조직에서 해당 포지션을 얼마나 필요로 하고 있는 지를 나타내 준다고 생각합니다. 다시 말하면, 그 포지션의 필요성에 대해 얼마나 고민했는 지를 나타내준다고 봐요. 그래서, 늘 채용 공고는 꼼꼼하게 읽어봤습니다. 잘 쓰여진 채용 공고는 더 많은 지원자들, 더 수준 높은 지원자들의 어플라이를 이끌어 낼 수 있다고 생각합니다.😀</p>
<p>앞서 말씀 드린 정도의 지원 기준은 꽤 불확실하다고 생각하시는 분들도 있을 것 같습니다. 이미 눈치 채신 분들도 있으시겠지만, 저는 가고 싶은 기업이나 세부 분야를 특정해 본 적이 없었던 사람입니다. 이를 특정하지 못했던 이유를 요즘 들어 생각해봤어요. 곰곰이 생각해보니 학부생때 부터 Data Science/Analysis를 일로 삼고싶다는 생각만 했지, Data Science/Analysis라는 도구를 활용해서 어떤 문제를 해결하고 싶은 건지에 관한 고민은 결코 깊게 해본 적이 없더군요. 분야를 막론한 수많은 기업들이 왜 Data Science/Analysis에 관심을 두고 있고 이를 통해 구체적으로 어떤 Business problem을 풀고자 하는 지, 구체적인 성공 사례는 어떤 것들이 있는 지에 관한 관심 또한 없었죠. 그래서, 자연스레 가고 싶은 기업, 특정 산업 분야를 정하지 못하지 않았나 생각합니다.</p>
<p>이 부분을 정하고 차근차근 준비를 해나가야 채용 시장에서 유리한 포지션을 가져갈 수 있다고 생각을 하고 있거든요. 저는 그러한 포지션을 갖춰 나가지 못했던 사람이고요. 그래서, 이직 준비를 하면서도 꽤나 막막했습니다. 제가 가지고 있던 주 무기(e.g.&nbsp;R, 시계열 자료분석)들은 온라인 서비스를 통해 비즈니스를 하고 있는 기업의 Data Scientist/Analyst 포지션에서 요구하는 핵심 역량은 아니었거든요. 데이터 사이언티스트, 데이터 분석가가 되고 싶다는 꿈을 품었던 학부생 때부터, 어떤 문제를 해결하고 싶은 지에 대해 고민하는데에 충분한 시간을 투자했다면 어땠을까 하는 조금의 후회가 남네요.</p>
</section>
<section id="이직-참고-자료" class="level2">
<h2 class="anchored" data-anchor-id="이직-참고-자료">이직 참고 자료</h2>
<section id="이력서" class="level3">
<h3 class="anchored" data-anchor-id="이력서">이력서</h3>
<p>저는 이력서를 노션으로 정리하고 있습니다. 노션으로 to do list, 주간 회고 등을 관리하고 있었기 때문에 익숙한 도구이기도 했고, 마침 이력서를 노션으로 관리하고 있는 개발자 분들도 꽤나 있으시더군요. 이력서와 포트폴리오 제작기는 <a href="https://www.taemobang.com/posts/2022-06-08-monthly-memory-202204/#이력서-포트폴리오-제작기">지난 4월 회고록</a>에 상세하게 적어놨어요. 제 최신 이력서는 <a href="https://taemobang.notion.site/">여기서</a> 만나보실 수 있고요. 꼭 구직 활동을 시작할 때에만 이력서를 정리한다기 보다는 주기적으로 업데이트 해나가시는 것을 권장드립니다.</p>
</section>
<section id="자기소개서" class="level3">
<h3 class="anchored" data-anchor-id="자기소개서">자기소개서</h3>
<p>요즘 자유 양식의 이력서, 자기소개서를 요구하는 곳도 점점 늘어나고 있어 크게 도움이 되실 지는 모르겠지만, 참고했던 자료들을 나열해두겠습니다. 저는 자유 양식의 자기소개서를 작성할 때에도 꽤나 도움을 받았습니다.</p>
<ul>
<li><p><a href="https://youtu.be/PS93IYAAs48">AND (ft.인싸담당자) &lt;마스터 자소서 | EP 03. 입사후포부&gt;</a></p>
<ul>
<li>입사 후 포부 항목가 막막하신 분들께 추천합니다.</li>
</ul></li>
<li><p><a href="https://youtu.be/blGokSb2vso">면접왕 이형 &lt;면접관이 싹 정리해주는 뽑아쓰면되는 지원동기 5가지&gt;</a></p>
<ul>
<li><p>지원 동기에 관한 5가지 고리를 알려줍니다. 자신에게 맞는 고리를 가져다 쓰면 됩니다. 지원 동기는 자유 양식의 자기소개서에서도 매우 중요하다고 생각합니다. 꼭 보셨으면 하는 영상입니다.</p></li>
<li><p>그 외 <a href="https://www.youtube.com/@leebro_interview">면접왕 이형 채널</a>에는 구직자에게 정말 도움이 될만한 영상들이 많습니다. 자기소개서나 면접 준비할 때 가장 추천하고 싶은 채널입니다.</p></li>
</ul></li>
</ul>
</section>
<section id="면접" class="level3">
<h3 class="anchored" data-anchor-id="면접">면접</h3>
<ul>
<li><p>제출한 이력서, 자기소개서, 포트폴리오로부터 예상 질문 정리하고 답변 생각해보기</p></li>
<li><p>다음의 질문 리스트에 관한 답 생각해보기</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2023-01-01-move-to-another-company/fig1.jpeg" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">3가지 키워드로 정리한 경력직 면접 예상 질문 (서현직)</figcaption><p></p>
</figure>
</div></li>
<li><p><a href="https://www.youtube.com/watch?v=DSBJXuDyDOY">AND (ft.인싸담당자) &lt;면접에서 합격하는 1분자기소개, 이 영상 하나로 종결 (5가지 방법 + 예시)&gt;</a></p>
<ul>
<li>모든 면접의 시작은 자기소개입니다. 면접 질문을 미리 예상하고, 답변을 외우는 형태로 면접을 준비하는 것은 개인적으로 권하지 않지만 1분 자기소개 정도는 외울 가치가 있다고 생각합니다. 1분 자기소개로부터 나오는 꼬리 질문들은 자기 페이스대로 면접을 끌고갈 수 있게해주기 때문입니다.</li>
</ul></li>
<li><p>임원 면접(2차면접) 팁</p>
<ul>
<li><p>아래 영상들을 보시면 임원 면접에서 보고자하는 결이 무엇인지 파악하실 수 있을 겁니다. 실무진 면접(1차 면접)에서 보고자 하는 바도 자연스레 아실 수 있을 겁니다.</p></li>
<li><p><a href="https://www.youtube.com/watch?v=DXgI9MjzfgI&amp;list=WL&amp;index=53">AND (ft.인싸담당자) &lt;임원면접에서 합격하는 사람들은 무엇이 다를까? 최종 관문만 넘고 취뽀하자!&gt;</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=BNARRy6B3nw&amp;list=WL&amp;index=54">AND (ft.인싸담당자) &lt;임원면접 가기 전, 시간 없다면 이 영상만이라도! 임원면접 금기사항 3가지!&gt;</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=h6Q_9G5Al9A&amp;list=WL&amp;index=55">AND (ft.인싸담당자) &lt;Jacob도 감탄한 면접만 20번 떨어진 대기업 합격자의 임원면접 꿀팁!! [면접 꿀 TIP]&gt;</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=Y0gg_KdXTaI&amp;list=WL&amp;index=54">드림즈크루 &lt;실무진 면접과 임원 면접은 어떻게 다를까? 차이를 알면 합격이 보여요.&gt;</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=rBa1Rtl-KMU">면접왕 이형 &lt;임원면접관이 뽑을 수 밖에 없는 면접준비방법&gt;</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=QHUTd_zj8nE&amp;list=WL&amp;index=62">취업사이다 &lt;전 삼성 인성 면접관 나상무 선생님이 말해주는 면접관의 합격 결정 그래프 [렛유인 실시간 취업고민상담소 EP.99]&gt;</a>: 강력 추천드립니다.😀</p></li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="g마켓으로의-이직-여정" class="level1">
<h1>G마켓으로의 이직 여정</h1>
<p>7월 5일에 마감이었던 G마켓 Data Scientist 채용 공고를 6월이 끝나갈 무렵 접하고, 어떤 때보다 설레는 마음으로 서류 전형을 준비했던 기억이 아직도 생생합니다. 이 설레는 마음이 진심이 담긴 지원 동기로 이어졌던 것으로 기억하고 있어요. 여기서는 G마켓에 지원하며 각 전형에서 준비했던 것들과 느꼈던 바들을 간략하게 이야기해보고자 합니다.</p>
<section id="서류-전형" class="level2">
<h2 class="anchored" data-anchor-id="서류-전형">서류 전형</h2>
<p>6월 즈음 인과추론에 큰 관심을 가지게 되었는데<sup>3</sup>, 인과추론이라는 키워드를 채용 공고에서 접하고 설레는 마음으로 서류 준비를 했던 기억이 새록새록 납니다. 제가 지원을 했던 당시에는 채용 사이트 리뉴얼 전으로 자사 이력서 양식으로 지원을 했습니다.<sup>4</sup> 지금은 자유 양식으로도 이력서를 받아 주는 것으로 알고 있습니다. 당시 이력서에 포트폴리오 링크를 첨부할 수 있는 란이 있어, 노션 이력서와 포트폴리오 링크, 개인 블로그 링크를 적어냈던 것으로 기억합니다. 그리고, 자기소개서는 최대 1000자의 자유형식이어서 지원 동기와 직무 경험을 정리해서 제출했습니다.</p>
</section>
<section id="차-면접" class="level2">
<h2 class="anchored" data-anchor-id="차-면접">1차 면접</h2>
<p>다대일 면접으로 1시간 동안 진행됐습니다. 본격적인 면접 시작 전에 충분히 편안한 마음을 가질 수 있게끔 아이스브레이킹을 해주셨던 기억이 납니다. 그리고, 가장 기억에 남는 말은 면접관과 구직자 입장이 갑과 을의 관계로 생각하는 경우가 있는데 그렇게 생각하지 않았으면, 그리고 우리와 fit이 잘 맞는지 대화한다고 생각해줬으면 한다고 먼저 말씀을 먼저 해주셨던 것입니다. 그 분이 지금은 제 팀장님이 되셨네요.😀 덕분에 정말 편하게 면접을 진행할 수 있었던 것 같습니다. 그리고, 자기소개와 제 대표 프로젝트를 설명하는 것으로 면접을 시작했습니다. 자세한 질문들은 공개적인 자리라 쓰지 못하는 부분을 양해해주셨으면 합니다.</p>
<p>개인적으로 기술적으로 깊은 디테일<sup>5</sup>, 이런저런 일들을 했다고 나열하는 식의 What에 집중하는 면접 스타일 보다는, 왜 문제 정의를 이렇게 했고, 왜 그 방법론을 사용했으며 그 과정 속에서 어떤 고민을 해서 어떤 결과물을 산출해낼 수 있었는지와 같이 Why와 How에 집중하는 면접을 선호합니다. 1차 면접에서 이와 같이 제가 선호하는 형태의 질문들을 많이 받을 수 있었어요. 그래서, 1시간 동안의 면접임에도 시간 가는 줄 모르고 이야기를 나누었던 기억이 납니다. 면접 준비를 하실 때에는 What을 나열하는 것에 끝나는 것이 아닌, Why와 How를 통해서 내가 어떤 난관에 당면했었는지, 그리고 그 순간에 왜 그런 선택을 했는지에 대해 꼭 돌이켜 보시기 바랍니다.</p>
</section>
<section id="차-면접-1" class="level2">
<h2 class="anchored" data-anchor-id="차-면접-1">2차 면접</h2>
<p>2차 면접은 2대1 면접으로 진행될 예정이었으나, 한 분의 사정으로 인해 1대1로 진행되었습니다. 마찬가지로 1시간 동안 진행을 했고요. 상세하게 본인 소개를 해주셨고, 내가 속하게 될 팀과 어떤 관계에 있고 함께 어떤 일을 하는지 까지 먼저 설명을 해주셨습니다. 이 부분에서 어느정도 긴장을 풀 수 있었던거 같아요. 1차 면접과 마찬가지로 면접자를 본인과 동등한 입장에서 존중해주시는 느낌을 받았습니다. 마찬가지로 자기소개로 시작을 했습니다.</p>
<p>아, 그리고 면접과 관련해서 한 가지 말씀드리고 싶은 바가 있어요. 내가 잘 아는 질문이더라도, ’의도적으로 천천히 대답하기’입니다. 저는 긴장하면 말이 빨라지는 습관이 있습니다. 그래서, 과거 면접에서 경험했던 것들을 보면 이 습관으로 인해 내가 말하고자 하는 바와는 저 멀리.. 머리는 아니라고 말하는데 입은 이미 움직이고 있었던 그런 경험이 있습니다. 그래서, 올해 이직 과정에서 면접을 준비하며 가장 먼저 머릿 속에 넣어놨던 바는 면접관의 질문의 의도와 핵심이 무엇인지 충분히 생각하고 천천히 침착하게 답변하자는 것이었습니다. 전혀 예상하지 못한 질문이 나왔을 때는 당황하지 않고, 조금만 생각할 시간을 달라고 요청하기도 했습니다. 성급한 답변은 면접에서의 본인의 일관성을 깨뜨리는 답변을 야기할 수 있으므로 조심하는게 좋다고 생각합니다.😀 머리는 아니라고하는데 입이 움직이고 있는 상황은 다시 생각해도 끔찍하네요.</p>
<p>2차 면접은 일반적인 임원 면접 스타일과 같았습니다. 실무와 관련한 기술적 질문이 아닌 좀 더 일반적인 형태의 질문을 많이 받았어요. 기본적인 지원동기, 내 가치관과 지금까지 삶을 살아옴에 있어서 했던 선택들(e.g.&nbsp;통계학 전공을 택한 이유, 대학원 진학 이유)에서 왜 그러한 선택을 했는지에 대해 주로 질문을 받았습니다. 재밌었습니다. 과거를 돌이켜보면 제 인생에 있어서 중요한 결정들은 주변의 의견은 딱히 신경을 쓰지 않고, 모두 제가 맞다고 판단되는 방향으로 선택을 해왔습니다. 선택하기 전에는 물론 충분한 시간의 심사숙고의 과정이 있었고요. 그래서, 면접에서 이러한 질문을 받는 것이 두렵지 않고 오히려 즐거웠던 것 같습니다. 제 과거에 했던 생각들, 가치관의 형성 과정들을 면접관님이 집중해서 들어주시고 꼬리 질문을 해주시는게 오히려 감사하기도 했습니다. 자신의 커리어와 관련해서 해왔던 선택들을 돌아보고, 어떤 이유에서 그런 선택들을 해왔는지 되새겨보는 과정을 가지시면 2차 면접(임원 면접)에 많은 도움이 되실겁니다.</p>
<p>여기에 더해서 다음의 2가지 질문에도 답해보시기 바랍니다.</p>
<ul>
<li>“미래에 나는 어떤 사람이 되고 싶은가?”</li>
<li>“커리어에서 궁극적으로 이루고 싶은 바는 무엇인가?”</li>
</ul>
<p>저도 비슷한 유형의 질문을 받았기도 했고, 충분히 2차 면접에서 받을만한 질문이라 생각합니다. 1차 면접이 실무진들이 “당장 이 사람과 일을 함께 할 수 있을까?”를 주로 판단하는 자리라면, 2차 면접은 실무진보다 조금 더 고위급의 인사들이 “이 사람이 가진 포텐셜은 얼마나 될까?”를 중점적으로 판단하는 자리니까요.</p>
</section>
<section id="최종-합격-및-처우-협의" class="level2">
<h2 class="anchored" data-anchor-id="최종-합격-및-처우-협의">최종 합격 및 처우 협의</h2>
<p>2차 면접을 보고 이틀 뒤에 채용 담당자 분의 전화로 최종 합격 통보를 받았습니다. 제가 하고싶은 일을 할 수 있는 포지션으로 가게 됐다는 생각에 너무나도 기뻤습니다. 당시 제 근로 소득을 증빙하는 과정에서 조금 복잡한 부분들이 많이 있어서 증빙할 자료도 많이 필요했었는데, 담당자분께서 이 상황을 이해해주시고 많은 얘기들을 천천히 들어주셨습니다. 그래서, 처음이라 더욱 걱정스러웠던 처우 협의도 원활하게 마무리할 수 있었습니다. 1차 면접부터 최종합격, 처우협의까지의 모든 과정에서 지원자를 진심으로 존중해준다는 느낌을 받을 수 있었습니다.</p>
</section>
</section>
<section id="맺음말" class="level1">
<h1>맺음말</h1>
<p>오늘은 2022년에 겪었던 약 6개월간의 이직 여정에 대해 이야기해보았습니다. 석사 졸업 후 현업 1년차에 이직 준비를 한다는게 누군가 봤을 때는 무리수라고 생각할 수도 있지만, 저는 이직을 결심한 후 곧바로 액션에 옮겼습니다. 빠른 액션을 취하지 않으면, 당시 제가 하고 있던 일이 가장 잘할 자신이 있었던 Comfort zone 내에 존재하고 있는 일이었기에 편안함에 심취하여 오히려 이직 열망이 떨어질 것이라 생각했습니다. 아울러, 제가 이직하고자 하는 곳과는 관련성이 깊은 일을 하고 있었던 상황도 아니었구요.</p>
<p>1년을 바라보고 준비했는데 생각보다 빨리 결실을 맺었습니다. 그것도 제가 당시 가장 잘할 자신이 있었던 일은 아닌, 잘 하고 싶었던 일을 할 수 있는 포지션으로의 이직이었기에 더더욱 뜻깊었습니다. 어느덧 이직한지 4개월입니다. 4개월 동안 정말 깨달은 바도 많고, 성장한 바도 많습니다. 아직 어렵고 힘든 부분이 더 많지만 이직 1년차에는 제가 어떤 일을 하고 있을지, 얼마나 더 성장해있을지 기대가 됩니다. G마켓을 이용하는 “고객분들의 쇼핑 경험을 더 즐겁게” 만드는 데에 일조할 수 있도록, 앞으로도 끊임없이 노력하고 성장할 것입니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>제 첫 직장은 가천대 길병원 인공지능빅데이터융합센터입니다. 이 곳에서 연구원으로 재직하며 주로 시계열 자료분석을 수행했습니다.↩︎</p></li>
<li id="fn2"><p>환경 역학 분야에서의 시계열 추론 모델링. 환경 역학 분야는 처음이었지만, 그래도, 대학원을 졸업할 무렵 제가 가장 자신있었던 연구분야가 곧 시계열 자료분석이었기 때문입니다. 학계로의 취업을 전혀 생각하고 있지 않던 제가 당시 해당 포지션에 지원한 가장 큰 이유이기도 합니다.↩︎</p></li>
<li id="fn3"><p>인과추론에 관심을 가지게 된 자세한 이유는 <a href="https://careerly.co.kr/comments/61331?utm_campaign=self-share">커리어리</a>에서 만나보실 수 있습니다.↩︎</p></li>
<li id="fn4"><p>참고로, 현재는 지마켓 <a href="https://corp.gmarket.com">기업 사이트</a>, <a href="https://careers.gmarket.com">채용 사이트</a> 둘 다 리뉴얼된 상태입니다. 현재 채용은 자유 이력서도 받아주는 것으로 알고 있습니다.😀 관심있으신 분들은 둘러보시기 바랍니다.↩︎</p></li>
<li id="fn5"><p>물론, 기술적인 깊은 디테일을 꼭 설명해야하는 상황도 있겠지만, 이 부분에 지나치게 집중하여 다른 부분에 대해 알아보지 못한채 면접이 끝나는 경우를 말씀드립니다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2023,
  author = {방태모},
  title = {2022년 이직 로그},
  date = {2023-01-01},
  url = {https://taemobang.com/posts/2023-01-01-move-to-another-company/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2023" class="csl-entry quarto-appendix-citeas">
방태모. 2023. <span>“2022년 이직 로그.”</span> January 1, 2023. <a href="https://taemobang.com/posts/2023-01-01-move-to-another-company/">https://taemobang.com/posts/2023-01-01-move-to-another-company/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2023-01-01-move-to-another-company/index.html</guid>
  <pubDate>Sat, 31 Dec 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2023-01-01-move-to-another-company/preview.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>A/B 테스트 용어 사전</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-10-31-abtest-terms/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/ywqa9IZB-dU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-10-31-abtest-terms/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Romain Vignes on Unsplash</figcaption><p></p>
</figure>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
이 글은 시리즈 물의 일부입니다!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="citation" data-cites="kohavi2020">(Kohavi, Tang, and Xu 2020)</span>를 바탕으로 A/B 테스트에 관한 글들을 시리즈로 작성하고자 합니다. 본 시리즈에서는 A/B 테스트 외에 A/A 테스트, A/B/n 테스트와 같은 다양한 형태의 온라인 종합 대조 실험(online controlled experiment)<sup>1</sup>를 소개합니다. 사실, <span class="citation" data-cites="kohavi2020">(Kohavi, Tang, and Xu 2020)</span>에서는 A/B test라는 용어보다는 온라인 종합 대조 실험이라는 일반화된 용어를 대체로 사용하긴 하나, 저는 우리에게 좀 더 익숙한 A/B 테스트라는 용어로 글을 적어보려고 합니다. 물론, 그외 다른 A/A 테스트와 같은 형태의 실험에 대해 설명할 때는 해당 용어를 사용할 예정입니다.</p>
<p><span class="citation" data-cites="kohavi2020">(Kohavi, Tang, and Xu 2020)</span>에서는 온라인 종합 대조 실험이 온라인 서비스에서 갖는 가치, 중요성에 대해서 끊임없이 강조합니다. HiPPO<sup>2</sup>에 의존하는 것이 아닌, 데이터 기반 문화를 구축하기 위해 온라인 종합 대조 실험을 수행하는 것이 얼마나 중요한지 구체적으로 알려주죠.오늘날의 성공한 온라인 서비스 중 A/B 테스트를 하지 않는 곳은 없습니다. 에어비앤비, 아마존, 부킹닷컴, 이베이, 페이스북, 구글, 링크드인, 마이크로소프트, 넷플릭스, 트위터, 우버 등 말하기 입이 아픈 정도입니다. 이 책의 저자들은 아마존, 마이크로소프트, 구글, 링크드인에서 수십 년간 근무하며 여러 규모로 온라인 종합 대조 실험을 수행해왔으며, 이러한 경험을 바탕으로 얻은 교훈들을 책을 통해 전해주고 있습니다.</p>
<p>저와 같은 A/B 테스트 초심자들에게는 단비같은 책이라고 할 수 있을 것 같습니다. 본 책을 공부하며 깨달은 내용들을 본 시리즈 물에서 저만의 언어로 최대한 요약해보고자 합니다. 통계학 전공자라 학부와 석사 때 실험설계를 공부하긴 했지만, 온라인 서비스 영역에서의 실험설계라 할 수 있는 온라인 종합 대조 실험에는 무지한 상태입니다. 잘못 생각하고 있는 부분이 있다면 가감없이 댓글로 지적해주시면 감사하겠습니다.😀 책의 서문에서 강조하는 바를 되새기며 이만 소개를 마칩니다.</p>
<blockquote class="blockquote">
<p>흥미로워 보이거나 다르게 보이는 어떤 수치는 대체로 틀린다 - Twyman</p>
<p>숫자를 얻는 것은 쉽지만, 믿을 수 있는 숫자를 얻는 것은 어렵다.</p>
</blockquote>
</div>
</div>
</div>
<p>A/B test, 더 넓게는 온라인 종합 대조 실험(online controlled experiment)의 이해에 필요한 용어들을 간략하게 정리해보고자 합니다. 용어들은 앞으로 꾸준하게 추가될 예정입니다. 새로운 분야에 대한 공부를 시작할 때, 새롭게 알게 된 용어에 대한 확실한 정의는 매우 중요하니까요.</p>
<section id="ab-테스트" class="level2">
<h2 class="anchored" data-anchor-id="ab-테스트">A/B 테스트</h2>
<p>다 아시겠지만 한 번 정의하고 넘어가려고 합니다. A/B 테스트는 두 개의 변형(variant) A와 B를 사용하는 온라인 종합 대조 실험의 가장 간단한 형태라고 할 수 있습니다. 여기서 대조군에는 기존의 기능, 프로덕트 또는 알고리즘<sup>3</sup>을 부여받은 사용자들이 랜덤하게(randomized) 배치되고, 실험군은 핵심 지표(metrics) 개선을 기대하며 도입하는 새로운 어떤 것을 부여받은 사용자들이 랜덤하게 배치될 겁니다. 온라인 종합 실험에서 랜덤성(Randomization)은 매우 중요합니다. 어떠한 요인도 사용자들을 각 변형에 배정하는 데에 영향을 주도록 허용해서는 안됩니다. 랜덤성은 “확률에 기초한 의도적 선택”을 의미한다는 점을 기억하시기 바랍니다.</p>
</section>
<section id="oec" class="level2">
<h2 class="anchored" data-anchor-id="oec">OEC</h2>
<p>OEC는 전체평가기준으로 Overall Evaluation Criterion의 약자입니다. 실험 목적에 해당하는 계량적인 지표를 의미합니다. 통계학에서는 이를 반응변수(reponse variable), 종속변수(dependent variable)라 칭하기도 하죠. 그외 결과(outcome), 평가(evaluation), 적합도 함수(fitness function)을 동의어로 사용하기도 합니다(Quarto-vonTibadar 2006). OEC는 단기적으로는 실험 기간 동안 측정할 수 있어야하며, 동시에 장기적으로는 전사의 전략적 목표와 맞닿아 있어야 합니다. 예를 들어, 특정 온라인 서비스의 OEC는 사용자별 활동 일 수(active days per user)가 될 수 있습니다. 단순하게 매출과 같은 후행지표를 OEC로 선정해서는 안됩니다. 전사적으로 좋은 OEC가 설정되지 않았다는 것은, 리소스를 낭비하고 있다는 뜻일 수 있습니다.</p>
</section>
<section id="파라미터" class="level2">
<h2 class="anchored" data-anchor-id="파라미터">파라미터</h2>
<p>파라미터(parameter)는 OEC 또는 기타 관심 지표에 영향을 미칠 것으로 간주되는 통제 가능한 실험변수를 뜻합니다. 요인(factors), 변수(variables)라 칭하기도 합니다. 파라미터에는 값이 할당되는데, 이를 수준(level)이라 말하더군요. 통계학에 익숙하신 분들은 범주형 변수를 떠올리시면 될 것 같습니다. 예를 들어, A/B 테스트에서 파라미터는 2개의 수준을 갖는 단일 파라미터에 해당할 것입니다. 온라인 환경에서는 이처럼 여러 개의 수준을 갖는 단일 파라미터 설계를 사용하는 것이 일반적입니다. 여러 파라미터를 사용하는 테스트는 다변수 테스트(MVTs, Mutivariate tests)<sup>4</sup>라 부릅니다. 온라인 환경에서는 글꼴 색상과 크기에 관한 실험을 하며 글꼴 색상과 크기에 관한 최적 조합을 찾고자할 때 사용되곤 합니다.</p>
</section>
<section id="변형군" class="level2">
<h2 class="anchored" data-anchor-id="변형군">변형군</h2>
<p>변형군(variants)를 파라미터라는 용어를 동원하여 정의하자면, 파라미터에 값을 할당하여 테스트 하는 사용자 그룹이라고 할 수 있습니다. 예를 들어, A/B 테스트에서 A와 B는 대조군(control group), 실험군(treatment group)이라 불리는 변형군이 있습니다. 그냥 편하게 실험을 구성하는 각 그룹을 변형군이라고 칭한다고 보시면 될 것 같습니다. 실험군에 대해서만 변형군이라고 칭하는 일부 문헌도 존재한다고 합니다.</p>
</section>
<section id="가드레일-지표" class="level2">
<h2 class="anchored" data-anchor-id="가드레일-지표">가드레일 지표</h2>
<p>가드레일 지표(guardrail metrics)란, 조직이 무엇을 변화시키지 않으려 하는지 식별하기 위해 꼭 필요한 지표라고 할 수 있겠습니다. 이름에 가드레일이 들어가는 이유 또한 이와 맞닿아 있습니다. 예를 들어, 바다 위를 떠다니는 유람선에서 승객들에게 제공하는 음식을 개선하기 위한 실험을 생각해봅시다. 이때, 바다 위를 항해하는 유람선에서 승객들의 안전 지표는 다른 어떤 요인들과 비교해도, 더 중요한 지표라고 할 수 있겠죠. 즉, 승객 안전은 이 실험에서 가드레일 지표라 할 수 있습니다. 승객들의 안전만큼은 결코 변화시키지 않고(낮추지 않고), 실험을 진행하겠다는 말입니다. 이를 위해서는 실험에 대한 OEC에 승객들의 안전에 관한 변수의 가중치를 매우 높여주면 됩니다. 안전에 따라 OEC가 민감하게 변화하도록 말이죠. 이 문제를 온라인 환경으로 가져와보면 소프트웨어 충돌을 생각해볼 수 있습니다. 도입한 기능이 제품의 충돌을 증가시키는 경우 유저들의 경험에는 심각한 영향을 끼칠 것입니다.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
시리즈 더 만나보기
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>[1] <a href="https://www.taemobang.com/posts/2022-10-31-abtest-terms/">A/B 테스트 용어사전</a></p>
</div>
</div>
</div>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-kohavi2020" class="csl-entry">
Kohavi, Ron, Diane Tang, and Ya Xu. 2020. <em>Trustworthy Online Controlled Experiments: A Practical Guide to A/B Testing</em>. Cambridge University Press. <a href="https://experimentguide.com/">https://experimentguide.com/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>온라인 종합 대조 실험의 형태로는 A/B test, A/A test, A/B/n test가 있다.↩︎</p></li>
<li id="fn2"><p>Highest Paid Person’s Opinion. 최고 보수를 받는 자의 의견. 즉, 최고 경영자의 의견.↩︎</p></li>
<li id="fn3"><p>e.g.&nbsp;이커머스 업계의 추천 시스템을 구성하는 알고리즘↩︎</p></li>
<li id="fn4"><p>Multivariate은 다변량인데, 다변수 테스트라고 번역하는게 맞는지 모르겠습니다. 우선 책에 이렇게 번역이 되어있어 다변수 테스트라 남겨둡니다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {A/B 테스트 용어 사전},
  date = {2022-10-31},
  url = {https://taemobang.com/posts/2022-10-31-abtest-terms/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“A/B 테스트 용어 사전.”</span> October 31, 2022. <a href="https://taemobang.com/posts/2022-10-31-abtest-terms/">https://taemobang.com/posts/2022-10-31-abtest-terms/</a>.
</div></div></section></div> ]]></description>
  <category>A/B test</category>
  <guid>https://taemobang.com/posts/2022-10-31-abtest-terms/index.html</guid>
  <pubDate>Sun, 30 Oct 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-10-31-abtest-terms/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>월간 회고록: 2022년 7월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-10-20-monthly-memory-202207/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/t0SlmanfFcg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-10-20-monthly-memory-202207/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Fredy Jacob on Unsplash</figcaption><p></p>
</figure>
</div>
<p>지난 7월에는 길게 적어보고 싶을 정도로 특별했던 일은 없었던 것 같아요. 7월 회고록을 10월 중순이 되어서야 적고있어서 그런걸까요?😂 이런 달에는 3가지 측면으로 회고를 해보려고 해요. 잘했던 점, 성장했던 점, 부족했던 점에 대해서요. 사실, 길게 적고 싶은 특별한 일 하나를 적는 것 보다는 이게 더 본질적인 회고록인 것 같긴하네요. 특별할 것은 없었지만, 그렇다고 또 심심하진 않았던 7월의 회고를 시작해봅시다.</p>
<section id="잘했던-점" class="level2">
<h2 class="anchored" data-anchor-id="잘했던-점">💯 잘했던 점</h2>
<ul>
<li><p>G마켓 Data Scientist 지원</p>
<ul>
<li><p>페이스북 Causal Inference KR 커뮤니티를 운영하고 계신 선호님으로부터, G마켓에서 인과추론에 관심이 있는 Data Scientist를 모집한다는 소식을 접했어요. 아마, 기억을 되새겨보면 7월 3일에 서류를 지원했던 것 같아요. 지금은 저의 팀장님이 되셨네요. 신기합니다. 한창 인과추론에 관심을 가지기 시작한 때라, 퇴근하고 &lt;인과추론의 데이터 과학&gt;에서 주관하여 진행했던 Korea Summer Workshop on Causal Inference 2022에서 올려준 영상들을 보고있던 때였거든요. 부푼마음을 안고 서류를 준비했던 기억이 나네요. 좋게 봐주셔서 이렇게 G마켓에서 일하게 되었습니다.</p></li>
<li><p>서류를 합격하고 얼떨떨한 마음을 가지고 1차면접을 준비했어요. 7월 15일 오후 2시에 Zoom으로 화상면접을 봤습니다. 이직로그는 따로 작성해볼 생각이 자세한 사항을 쓰진 않겠습니다. 1차면접을 복기하며 썼던 글을 보니, 꽤 즐거웠던 면접이었어요. 물론, 긴장도 많이하긴 했지만.</p></li>
<li><p>2차면접도 화상면접이었습니다. 8월 3일 오전 10시에 봤었군요. 2차면접도 시간가는 줄 모르고 이야기하고 나왔던 것 같아요. 지금도 기억나는게, 면접관님이 자신이 누구고 어떤 업무를 하고 있는지 먼저 설명해주시면서 면접을 시작했는데, 이때 자연스럽게 긴장이 풀렸던 것 같습니다. 2차면접도 기분좋게 보고 나왔던 기억이 납니다.</p></li>
<li><p>업무를 병행하며 서류 준비, 면접 준비 하랴 꽤나 고생했던 것 같습니다.</p></li>
<li><p>G마켓 기업 홈페이지가 신설되었어요. 둘러보고 가셔요😀:</p>
<ul>
<li><a href="https://corp.gmarket.com/" class="uri">https://corp.gmarket.com/</a></li>
</ul></li>
</ul></li>
<li><p>퇴근하고 공부하는 습관을 어느정도 들였던 달인 것 같아요. 퇴근하고는 늘 인과추론 공부를 하고, 면접 준비를 하고 그랬던 것 같습니다.</p></li>
<li><p>책 읽기 습관도 들이기 시작했던 7월</p>
<ul>
<li>신수정님이 쓰신 일의 격을 읽기 시작했어요. 페이스북에서 정말 좋은 말들을 많이 전해주시는 어른이라, 한껏 기대에 부풀어 책을 구매했어요. 책은 역시나 저를 실망시키지 않았습니다. 그런데, 아직도 읽고있네요? 매일 꾸준히 책 읽기 습관 들이는게 뭐라고 이렇게 힘들까요? 읽을땐 재밌는데 말이죠.. 책을 집어들기 까지가 9만리입니다..</li>
</ul></li>
</ul>
</section>
<section id="성장했던-점" class="level2">
<h2 class="anchored" data-anchor-id="성장했던-점">🚀 성장했던 점</h2>
<ul>
<li><p>인과추론을 눈꼽만큼 알게됨</p>
<ul>
<li>앞서 말씀드렸듯이, 퇴근하고 인과추론 공부를 했었어요. &lt;인과추론의 데이터 과학&gt;에서 주관하여 진행했던 Korea Summer Workshop on Causal Inference 2022에서 제공하는 영상들로 좀 캐주얼하게 공부를 시작했습니다. 인과추론에 막 관심을 가지기 시작한 단계라, Bootcamp를 먼저 들었는데 정말 재밌었어요. 인과추론이라는 학문의 전체적인 틀에 대해 먼저 설명을 해주시고, 범위를 하나하나 좁혀나가며 설명을 해주십니다. 이런 강의를 무료로 수강할 수 있다는 것은 정말 큰 행운인 것 같습니다. 영상들은 여기서 확인하실 수 있습니다: 🔗 <a href="https://www.youtube.com/playlist?list=PLKKkeayRo4PV_6-nbBgmUNOSpG1OO49M3">영상 보기</a></li>
<li>Bootcamp 외에도 Industry 영역에서의 인과추론에 대한 영상도 하나 봤었어요. 김설기님이 멀티암드밴딧(Multi-Armed Bandit), 톰슨샘플링(Thomson sampling)을 Industry에 적용하셨던 경험에 대해 이야기해주셨는데, 정말 유익했습니다. 따로 내용을 정리해두지 않아서 정확하게 기억은 안나는데, 기존의 A/B testing에 비해 멀티암드밴딧을 사용했을 때 가지는 이점을 이야기해주셨던 것 같아요. 깃허브에 알고리즘도 올려두신 것으로 알고 있는데, 제 업무에 적용해볼 수 있다면 꼭 한 번 시도해보고 싶네요. 어쨌든, 잘 기억이 안나니 다시 한 번 강의를 봐야겠어요.😅 그때그때 공부했던 내용을 기록해두는 것은 참 중요하다는 것을 다시 느낍니다.</li>
</ul></li>
<li><p>본격적인 논문화 작업 시작</p>
<ul>
<li><p>맡고있던 연구과제에 분석이 얼추 다 끝나서 본격적인 논문화 작업을 시작한 달입니다. 제 1년이 들어있는 과제인 만큼, 논문에서 하고자 하는 말을 잘 전달하고 강조하기 위해 어떤 그림을 그려야할 지 고민이 많았습니다.</p></li>
<li><p>분석한 양이 정말 방대하고, 결과로 봐야할 것들도 참 많아서 그림 그리는데에 한 달 내내 시간을 가장 많이 쓴 것 같습니다. 이 과정에서 ggplot2를 다루는 기술이 또 한 걸음 더 성장한 것 같네요.</p></li>
<li><p>분석 과정에서 작게 개발한 알고리즘에 관한 재현가능한 Tutorial을 만들었습니다. 논문에 꼭 넣고싶었거든요. Reproducible tutorial로. 무에서 유를 창조한 알고리즘은 당연히 아니고요. best subset selection과 grid search를 이용한 초모수(Hyperparameter) 튜닝 과정을 결합해서 분석 모형(distributed lag non-linear models)을 최적화 시키는 과정을 개발했다고 보시면 될 것 같습니다.</p></li>
</ul></li>
<li><p>면접이란 무엇인가?</p>
<ul>
<li><p>G마켓 1차 면접, 2차 면접을 준비하며 정말 많은 유튜브 영상을 보고, 얻은 내용들을 다 정리했어요. 1차 면접과 2차 면접 각각에서 본질적으로 보고자하는 바에 대해 어느정도 파악할 수 있었습니다. 나중에 한 번 따로 정리해보려고 합니다.</p></li>
<li><p>그리고, 면접을 준비하며 인생에 순간순간의 길목에서 이제까지 해왔던 선택들을 돌아볼 수 있었어요. 내가 그 당시 왜 그런 결정을 했는지에 대해서 말이죠. 다행히 “그냥” 내린 선택이라든지, 친구따라 강남가는 선택이라든지와 같은 것들은 없었습니다.</p></li>
</ul></li>
</ul>
</section>
<section id="부족했던-점" class="level2">
<h2 class="anchored" data-anchor-id="부족했던-점">👿 부족했던 점</h2>
<ul>
<li><p>주말을 활용하지 않음</p>
<ul>
<li>월간 회고를 이렇게 블로그에 포스팅하고 있지만, 사실 주간 회고도 쓰고있는데요. 주간 회고는 노션에 개인적으로 쓰고 있으며, 이런 주간 회고들이 모여서 월간 회고가 된다고 보시면 될 것 같아요. 주간 회고에는 주말에 했던 작업들을 따로 기록하곤 하는데, 7월에는 주말에 작업한 것들이 없네요? 주말엔 놀고 쉬기 바빴나봐요. 그래서, 이렇게 블로그에 쓸 글들이 쌓여있는 거였군요.😀 면접 준비하랴, 업무 하랴 바쁘다면서.. 주말은 또 쉬고 싶었나 봅니다. 업무 외에 제가 하고싶은 것들을 공부하고 쌓아나가기 위해서는, 주말을 꼭 활용해야하는데 말이죠. 다시 한 번 반성합니다.</li>
</ul></li>
<li><p>책 읽기 습관</p>
<ul>
<li>주간 회고를 들여다보니, 역시 책 읽기 습관을 제대로 못들인 것에 대한 후회가 담겨있군요. 면접 준비와 업무를 병행한다는 핑계로.. 자기전이라도 최소 10-20분 정도는 꼭 책을 읽고 눈을 감으려고 여전히 노력하고있습니다.</li>
</ul></li>
</ul>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>제가 보낸 2022년의 7월은 위와 같았습니다. 여러분들의 7월은 어떠셨나요? 회고라는게 쓰기 전에는 참 귀찮은데, 쓰면서는 참 재밌습니다. 그때 생각과 감정들을 어느정도 다시 떠올릴 수 있어서요. 7월에 가장 반성하는 점은 주말을 활용하지 않았던 점 같아요. 토, 일 1박 2일 여행을 다녀온다고 하더라도, 다녀와서 일요일 저녁 시간은 충분히 활용할 수 있었을 텐데 말이에요. 다시 한번 저는 참 나태한 사람임을 느낍니다. 회고를 통해 이 점을 주기적으로 깨달을 수 있어서 좋아요.😂 주말에 약속이 있더라도 이틀 내내 무너지지는 않기로 다시 한 번 깊게 다짐해봅니다.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {월간 회고록: 2022년 7월},
  date = {2022-10-20},
  url = {https://taemobang.com/posts/2022-10-20-monthly-memory-202207/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“월간 회고록: 2022년 7월.”</span> October 20, 2022.
<a href="https://taemobang.com/posts/2022-10-20-monthly-memory-202207/">https://taemobang.com/posts/2022-10-20-monthly-memory-202207/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2022-10-20-monthly-memory-202207/index.html</guid>
  <pubDate>Wed, 19 Oct 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-10-20-monthly-memory-202207/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>데이터 과학에 관해</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-10-12-about-data-science/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.youtube.com/watch?v=8N9ife7fHKk"><img src="https://taemobang.com/posts/2022-10-12-about-data-science/preview.png" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">그림1. 데이터 과학 (Source: 유튜브 채널 &lt;인과추론의 데이터과학&gt;)</figcaption><p></p>
</figure>
</div>
<p>유튜브 채널 &lt;인과추론의 데이터과학&gt;의 2020년 6월 강의 영상을 지난 7월에 인과추론에 관심을 가지며 우연히 보게되었죠:</p>
<p></p><div id="youtube-frame" style="position: relative; padding-bottom: 56.25%; /* 16:9 */ height: 0;"><iframe width="100%" height="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/8N9ife7fHKk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p></p>
<p>강의 연사는 UNGC의 박지용 교수님입니다. 해당 영상의 38분부터 약 10분 간 위 그림 1을 가지고 데이터 사이언스에 대한 생각과 우리나라 데이터 사이언스 업계에 관한 생각을 풀어내십니다. 너무나도 흥미로웠고 재밌었어요. 제가 오랜 시간 생각하고 고민했던 지점들과 일치하는 부분이 상당히 많아서 였을까요? 그래서, 영상 내용이 참 반갑기도 했습니다. 그래서, 영상에서 인상 깊었던 대목과 그 대목이 인상 깊었던 개인적 이유에 대해 써보려고 해요. 사실, 영상을 보자마자 기록해두고 싶은 맘이 있어 지난 7월 <a href="https://careerly.co.kr/profiles/481629?from=newsfeed&amp;location=gnb">커리어리</a>에 글을 썼었습니다. 좀 더 정제해서 그때 감정을 떠올려 글을 정리해보려고 합니다.</p>
<section id="데이터-과학-붐" class="level2">
<h2 class="anchored" data-anchor-id="데이터-과학-붐">데이터 과학 붐</h2>
<blockquote class="blockquote">
<p>데이터 과학은 최근 몇년간 큰 붐이 일었다. 근데 내가 개인적으로 느끼는 아쉬운 점은 우리나라에서의 데이터 과학에 관한 유행은 한쪽으로(예측 방법론) 치우쳐져있지 않나 하는 개인적 우려를 가지고 있다.</p>
</blockquote>
<p>저 또한 개인적으로 우리나라 데이터 사이언스 업계는 예측 모델링에 상당히 치우쳐 있다고 생각을 했었습니다. 2년 전의 영상인데도 같은 지점을 지적하고 계셨어요. 박지용 교수님이 2020년에 했던 개인적 우려는 2022년에도 여전한 듯 합니다. 올해 초 이직을 결심하며 우리나라 데이터 사이언스 업계의 수십개의 채용 공고를 들여다 보았는데요. “추론”이라는 키워드는 딱 한 번만 볼 수 있었습니다. 물론, 해당 포지션에서 풀고자 하는 문제에 추론은 정말로 필요없었을 수도 있습니다. 그러나, “Data Science를 구성하고 있는 대부분의 세부 분야들이 그렇듯이, 추론”과 “예측” 또한 두부 자르듯이 둘을 완전히 나눠서 볼 수 있는 것은 아닙니다. 그래서인지, 수십개의 채용공고 중에 “추론”이라는 키워드가 들어간 채용 공고는 제게 꽤나 특별하게 느껴졌습니다. 공교롭게도, 현재 저는 그 곳에서 일을 하고 있네요. 당시, 실제로 어떤 철학과 방식으로 인과추론 방법론을 활용해 예측 모델링에 들어갈 feature를 추출해내는지 매우 궁금한 상태로, 설레는 맘을 품고 서류를 지원하던 기억이 납니다.</p>
</section>
<section id="데이터-과학이란" class="level2">
<h2 class="anchored" data-anchor-id="데이터-과학이란">데이터 과학이란?</h2>
<blockquote class="blockquote">
<p>“데이터 과학은 하나의 특정 학문이라기 보다는 굉장히 포괄적이라고 생각을 한다. 특정 현상이나 대상에 대해 데이터를 수집하고 또는 만들어내고, 그 데이터를 가지고 분석을 수행하여 의사결정에 도움이 되는 인사이트를 추출하는 과학적 접근법들을 통칭하는 것이 데이터 과학이라고 생각한다. 그래서, 어떤 특정 학문 분야가 데이터 과학을 한다기 보다는, 데이터 과학의 어떤 철학을 가지고 많은 분야에서 연구를 하고있다고 생각함.”</p>
</blockquote>
<p>저는 “데이터 과학”이라는 것을 하고는 있지만, “데이터 과학”을 모르는 사람들에게 이 영역을 어떻게 정의할 수 있을까에 대한 고민을 가지고 있었습니다. 데이터 과학은 수학, 통계학 등 순수학문의 위에 실용학문이 얹어진 융합학문이라고 생각했었기에 더더욱 정의가 어려웠어요. 사실, 학문이라는 표현 또한 적절할 지는 모르겠습니다. 과연 “데이터 과학”을 학문이라 표현하는 것이 적절할까요? 개인적으로는 “도구”라는 단어가 더욱 적절하다고 생각합니다. 그래서, 박지용 교수님이 위와 같이 정의한 데이터 과학이 제가 생각했던 데이터 과학과 가장 가까웠던 것 같습니다.</p>
<p>데이터 과학과 마찬가지로 “빅데이터”에 대한 정의도 여전히 상당히 모호하다고 생각합니다. 단순히 크기가 큰 데이터? 오죽하면 아래와 같은 유명한 말이 있죠.</p>
<blockquote class="blockquote">
<p>빅데이터는 십대의 섹스와 같다. 다들 그것에 대해 말하지만, 진짜로 어떻게 하는지는 아무도 모르고, 나만 빼고 모두가 하고 있을 거라 생각한다. 그래서 다들 자기도 하고 있다고 주장한다. - 댄 애리얼리 (Big data is like teenage sex: everyone talks about it, nobody really knows how to do it, and everyone thinks everyone else is doing it, so everyone claims they are doing it. - Dan Ariely)</p>
</blockquote>
<p>그래서, 저는 개인적으로 빅데이터라는 단어를 특별하게 의미를 담아 정의하는 것을 그렇게 좋아하지 않습니다. 빅데이터를 정의하는 데에는 단순히 크기가 큰 데이터 정도로 정의하는 것으로 충분하다고 생각하지만, 그 크기에 대한 기준에는 또 주관이 개입하기 마련이니까요. 또 다른 이들은 “빅데이터”라는 단어에 그 이상의 의미를 부여하기도 합니다. 그래서, “빅데이터 공부하기”, “빅데이터 이해하기”라는 말이 존재하는 것이 아닐까요?</p>
</section>
<section id="통계-머신러닝-인과추론" class="level2">
<h2 class="anchored" data-anchor-id="통계-머신러닝-인과추론">통계, 머신러닝, 인과추론</h2>
<blockquote class="blockquote">
<p>“직접적인 데이터 과학 툴로써는 예측을 위한 머신러닝이나 인과추론을 위한 계량 경제학은 사실 각자의 목적을 가지고 독립적인 분야로 발전하고 있다. 그렇다고해서 통계가 중요하지 않은가? 절대 그렇지 않다. 사실 머신러닝이나 계량 경제는 기본적으로 통계에 이론적 바탕을 두고 있다. 그래서, 나는 통계라는 것을 데이터 과학이 떠있는 바다 그 자체라 표현하고 싶다. 그 바다가 없다면 사진 속 쌍끌이 배 자체가 항해를 할 수 없기 때문. 통계가 인과추론을 위해 반드시 필요하다고 생각하진 않으나, 데이터 분석에 관한 깊이 있는 이해를 위해서는 통계학은 필수적이다.”</p>
</blockquote>
<p>학부, 대학원을 통계학으로 전공하며 회귀분석에 관심이 꽤 있었던 제게, 추론(inference)이라는 영역은 항상 예측(prediction)보다 더 매력적으로 다가왔습니다. 그래서, 추론(inference)이라는 영역은 데이터 과학을 이끌어가는 수많은 학문들 중 통계학만의 것이라고 생각했었는데, 계량 경제학이 인과추론을 이끌어가는 학문이였다는 것은 이 영상을 통해 알게되었습니다. 참 흥미로웠어요.😀추론적 관점의 모델링에 대한 관심은 회귀분석이 갖는 가치에 대해 생각해보며 시작되었어요. 제 입으로 말하기도 부끄럽지만, 통계학과 대학원에서 회귀분석 수업을 진행하시는 교수님이 “회귀분석은 구식이다.”라는 충격적인 말을 들은 때가 바로 이 생각의 계기였죠. 저는 결코 그렇지 않을 것이라 생각했기 때문이죠. 회귀분석이 가지는 가치에 대해 고찰하며, 책에서 찾아보기는 어려운 개인적인 궁금증이 생길 때면 지도교수님을 찾아가 질문을 던지기도 했습니다.</p>
<p>통계학에서는 회귀분석을 기본적으로 추론적 관점으로 접근합니다. 그래서, 잔차분석은 회귀분석의 꽃이라 불리기도 해요. 다중공선성에 관한 고민을 하는 이유도 바로 이 추론에 관심이 있기 때문이죠. 머신런이에서 지도학습 기법을 소개할 때에도 회귀분석 기법은 맨처음에 등장합니다. 이때에 회귀분석은 철저하게 예측 모델링 관점에서 소개되죠. 그래서, 다중공선성, 잔차분석에 관한 이야기는 나오지 않어요. 이러한 두 관점의 차이는 Ridge, Lasso와 같은 벌점 회귀(penalized regression) 방법론에 대한 모티베이션에서도 드러납니다. 통계학에서 벌점 회귀 방법론의 근본적 모티베이션은 다중공선성으로 인해 발생하는 회귀계수 추론의 어려움이지만, 머신러닝에서 벌점 회귀 방법론이 갖는 근본적 모티베이션은 Regularization<sup>1</sup>입니다. 다른 말로 하면, 선형 회귀에는 unobserved data set에 관한 성능을 조절할만한 모수가 없다는 것인데요. 과적합(overfitting)이 되는 것을 방지할 수 있는 장치가 없다는 이야기라고도 표현할 수 있겠네요.</p>
<p>물론, 통계학과에서 회귀분석을 가르칠 때 “추론적 모델링 관점”이라는 등의 설명은 따로 하지 않아요. 그러나, 저는 “회귀분석은 구식이다.”라는 충격적인 통계학과 교수님의 워딩을 듣고 회귀분석이 갖는 가치에 대한 고찰을 시작했고, 추론적 모델링의 관점과 예측 모델링의 관점에 따라 같은 방법론도 다른 방식으로 설명되고 이론 전개가 가능하다는 것을 이해할 수 있었습니다. 그래서, 그 충격적인 말을 해준 교수님께 지금은 참 감사한 마음이 듭니다. 물론, 이러한 고찰을 하지 않아도 다음 학기에 지도교수님과 고차원 데이터 분석을 공부하며 고도화된 형태의 벌점 항을 갖는 penalized regression model이 고차원 데이터(n&lt;p)의 예측 모델링에서 갖는 가치를 알게 되긴 했지만요.<sup>2</sup> 이렇게 두 관점에 대한 이해가 어느정도 정립되고 난 뒤에 접한 인과추론 방법론은 내게 무척이나 흥미로울 수 밖에 없었습니다.</p>
<p>예측 방법론, 인과추론 방법론 둘 중 어느 것이 더 중요하다고 이야기 하고싶은 것이 절대 아닙니다. 데이터 과학을 이끌어가고 있는 다양한 세부 분야들이 그렇지만, 이 둘 또한 결코 두부 자르듯이 나눌 수 있는 방법론, 관점도 아니라고 생각합니다. 인과추론이 가지는 가치는 추론 모델링에서만 발휘되지 않습니다. 예측 모델링에서도 인과추론이 갖는 가치는 충분히 존재합니다. 실제로 인공지능, 머신러닝 분야의 최대 학회 중 하나인 NeurIPS에서도 Causal Inference Workshop이 열리고 있죠. 두 방법론과 관점 모두 데이터 과학에서 너무나도 중요합니다. 다만, 우리나라 데이터 과학 업계는 여전히 예측 방법론에 지나치게 치중되어 있다는 점을 이야기하고 싶습니다. 둘은 필히 균형을 맞추어 양립하여 가야한다고 생각합니다. 그래야, 데이터를 기반으로 바보같은 의사결정을 내리는 일을 피할 수 있게 해줄거라고 생각해요 글 문두에서 제시한 그림 속에서 통계라는 바다 위에 떠있는 데이터 과학을 이끌어가는 쌍끌이 배가 곧 인과추론 방법론과 예측 방법론이듯이 말이죠.</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>너무나도 인상깊었던 영상이라 소감이 정말 길었네요.😂이 글에 풀어놓은 제 생각들이 여러분들이 데이터 과학을 바라보는 새로운 관점을 제시하는 계기가 되었으면 합니다. 좋은 영상을 이렇게 무료로 풀어주는 인과추론의 데이터 과학 유튜브 채널 운영진 님들께 정말 감사한 마음을 전합니다. 그리고, 인과추론 분야에 관한 수준 높은 강의를 무료로, 그것도 한국어로 제공해주시는 UNGC 박지용 교수님께도 큰 감사함을 전합니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>학습알고리즘(학십시킨 머신러닝 모형)의 training error가 아닌 generalization error를 줄일 목적으로, 해당 학습알고리즘에 어떤 수정(modification)을 가하는 모든 행위를 통한다. 여기서 generalization error란, 이전에 관측하지 않은 데이터(e.g.&nbsp;test data)에도 좋은 성능을 보여주는 능력을 말한다. 즉, generalization error = test error라고 볼 수도 있다.↩︎</p></li>
<li id="fn2"><p>앞서 통계학에서 회귀분석은 기본적으로 추론 관점에서 이론 전개를 해나간다고 했는데, 고차원 데이터에서 penalized regression의 벌점 항(penalized term)을 고도화 해나가며 이론 전개를 하는 것을 보면, 또 여기서는 예측 모델링 관점에서 모형 개선을 해나갑니다. 모형의 예측 성능은 조금씩 개선을 하면서, 최대한 변수를 줄인 가벼운 모형을 빌딩하도록 하면서요.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {데이터 과학에 관해},
  date = {2022-10-12},
  url = {https://taemobang.com/posts/2022-10-12-data-science/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“데이터 과학에 관해.”</span> October 12, 2022. <a href="https://taemobang.com/posts/2022-10-12-data-science/">https://taemobang.com/posts/2022-10-12-data-science/</a>.
</div></div></section></div> ]]></description>
  <category>Review</category>
  <guid>https://taemobang.com/posts/2022-10-12-about-data-science/index.html</guid>
  <pubDate>Tue, 11 Oct 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-10-12-about-data-science/preview.png" medium="image" type="image/png" height="108" width="144"/>
</item>
<item>
  <title>월간 회고록: 2022년 6월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-10-12-monthly-memory-202206/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/t0SlmanfFcg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-10-12-monthly-memory-202206/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Fredy Jacob on Unsplash</figcaption><p></p>
</figure>
</div>
<p>지난 6월에는 당시 재직 중이던 가천대 길병원 내 교수님들을 대상으로 하는 R 핸즈온 고급통계교육 강의를 맡게되었습니다. 매주 화요일 2시간씩 3주간 총 3회 강의를 진행했어요. 강의 주제는 정해져있었습니다. 첫 번째는 회귀분석과 ARIMA 모형, 두 번째는 생존분석, 세 번째는 매칭이었습니다. 강의 경험이라곤 대학원생 시절 실습 조교를 맡았던 것, 대전 통계교육원에 외부 출강을 하시던 지도교수님을 따라 보조강사를 맡았던 것 뿐이었습니다. 그래고, 스스로 자료를 준비하고 강의를 해보는 경험은 꽤 특별할 것다는 생각을 해서, 설레는 마음으로 준비를 했던 기억이 납니다. 그래서, 이번 6월 회고록에서는 강의 소회에 대해 써보려고 합니다. 그리고, 강의를 준비를 하며 갖게된 뜻밖의 관심이 좋은 결과로 이어질 수 있었던 부분 까지도요. 오늘은 생생한 감정의 전달을 위해 반말로 글을 작성해봤습니다.</p>
<section id="깨달은-점" class="level2">
<h2 class="anchored" data-anchor-id="깨달은-점">깨달은 점</h2>
<ul>
<li><p>누군가를 가르치는 것은 정말 어려운 일임을 다시 한 번 느꼈다.</p></li>
<li><p>짧은 강의 시간에 각 주제에 어떤 내용을 담아야할 지 결정하는 것 또한 매우 어려운 일이다.</p></li>
<li><p>R 초심자들을 대상으로 R 강의를 할 때는 간략한 R 코드 튜토리얼보다는, R과 Rstudio 설치 및 Rstudio 설정 팁을 먼저 전달하는 것이 좋아보인다.</p>
<ul>
<li>일종의 아이스브레이킹 장치가 될 수도 있을 듯 하다. 나 같은 경우 강의 시간이 짧아서 미리 설치를 부탁하였고, Rstudio의 메인 화면 구성과 메인 화면의 각 탭과 세부 탭들이 의미하는 바, 간략한 설정 팁들을 공유해주었다.</li>
<li>특히, SPSS와 같은 툴을 대부분 다뤄왔던 청중들의 특징을 고려해서, Rstudio에서 클릭을 통해 외부파일을 읽는 방법과 패키지를 설치하는 방법을 소개했더니 반응이 꽤 좋았다. 이게 R을 딥하게 배우고자 하는 사람에게 장기적으로 도움이 될 지는 모르겠지만..😅 어차피 자연스레 R이 익숙해지면 손으로 코딩하는 것이 더 편하다고 느낄 것이라 생각했다. 코딩을 하는 사람들이면 알다시피, 키보드에 올려진 두 손 중 하나를 마우스로 옮기는 것은 매우 귀찮은 일이기 때문이다.</li>
</ul></li>
<li><p>물고기를 잡아서 가져다주는 것 보다는, 물고기 잡는 법을 알려주자.</p>
<ul>
<li><p><code>help()</code>를 활용하는 방법에 대해서는 꼭 전달하자. R에서 가장 중요한 것이라고 생각한다.</p></li>
<li><p>또 하나 초심자들에게 유용한 정보는 패키지에 관한 <code>help()</code>도 제공된다는 점이다. <code>help(package = "패키지명")</code>을 해주면 해당 패키지의 일종의 Full name도 알 수 있다. 그리고, 해당 패키지는 어떤 함수들로 구성되어 있는지, 각 함수들의 설명 등을 확인할 수 있다.</p></li>
<li><p>R 코드에 오류가 났을 경우에 대처 방법<sup>1</sup>과 나만의 디버깅 방법<sup>2</sup>을 소개해주었다. 어차피 제한된 시간에 R 실력을 비약적으로 상승시킬 순 없다. 책에서 배운 것들 또는 강의에서 배운 것들을 실무에 적용하다보면, 분명히 예상치 못한 오류에 마주하게 될 것이다. 특히, 초심자라면 더더욱. 이때마다 이 오류를 잡기 위해 삽질을 하게될텐데, 이러한 삽질이 비로소 프로그래밍 실력을 크게 향상시켜준다고 생각한다. 그래서, 내 생각에 짧은 R 강의에서는 R 실력을 키울 수 있는 자신만의 노하우, 실무에서 문제가 발생 했을 때 자신만의 대처 방법, 디버깅 방법 등을 전달하는 것이 꼭 필요하다고 생각한다. 특정 주제를 가지고 긴~여정의 강의 계획이 있는 경우에는 틈틈히 이러한 것들을 전달할 수 있지만, 시간이 얼마 없는 짧은 R 강의에서는 그저 자신이 준비해온 코드들만 읊고 설명하는데에 집중을 할수도 있다. 시간이 좀 부족하다는 생각이 들더라도, 자신만의 대처 방법, 디버깅 방법이나 책에서는 배울 수 없는 자신만의 노하우를 전달하는 데에 시간을 꼭 들이자.</p></li>
<li><p>지금 글을 쓰며 내가 전달한 것들 중 또 하나 생각난 부분이 있다. 자신이 객체나 함수를 만들때 이름을 무엇으로 할 지, 이것에 대한 고민 또한 충분히 하는 것이 좋다는 것이다. 미래의 나를 위해서도, 내 코드를 읽어야 할지도 모르는 누군가를 위해서도. 반복되는 코드들을 작성해야 하는 일이 있을 때 또는 특정 프로젝트에 필요한 정말 긴 코드를 작성해야 할때, 자신만의 일정한 컨벤션을 지켜 변수명을 작성하는 습관은 정말 중요하다. 이러한 사소한 습관은 당신을 더 빨리 퇴근할 수 있게 만들어 줄 것이다.</p></li>
<li><p>여기서 또 하나 추가하라면, R에서는 반복문 사용을 지양하고, 함수형 프로그래밍을 이용해 코딩하는 습관을 꼭 들이라는 것<sup>3</sup>.</p></li>
<li><p>마지막으로 R 코딩 시 매우 안좋은 습관을 하나만 더 이야기 하자면, 반복문 작성 시 빈 객체를 만들어 각 요소에 할당을 하는 것이 아닌, <code>a &lt;- c(a, add)</code>와 같이 벡터를 덮어 씌우는 습관 정도이다.</p></li>
</ul></li>
<li><p>청중들이 갖는 공통적인 특징을 고려한 강의 설계는 듣는 사람들을 기쁘게 한다.</p>
<ul>
<li><p>내 교육을 들으러온 사람들이 R을 배우고자 하는 목적은 의학 연구였으나, 대부분 청중들은 R 초심자<sup>4</sup>에 해당했다. 강의 설계를 최대한 이 특징을 고려해서 했다. R 실력이 어느정도 되는 분들로 구성되어있었다면 더 많은 것들을 전달할 수 있었을 텐데, 조금 아쉬움이 있다. 짧은 강의 시간에 R 코드들을 한 줄 한 줄 이해가도록 설명해줘야 했기에.</p></li>
<li><p>가장 반응이 좋았던 부분은 웹베이스로 클릭을 통해 외부 파일을 읽고 PSM(Propensity score matching), 생존분석을 수행할 수 있는 앱을 소개했던 것이다. 문건웅 교수님이 운영 중인 🔗<a href="http://web-r.org/lesson">웹에서 하는 R 통계</a>에서 제공한다. PSM의 경우 Youtube 영상도 제공 중이다:</p>
<p></p><div id="youtube-frame" style="position: relative; padding-bottom: 56.25%; /* 16:9 */ height: 0;"><iframe width="100%" height="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/MjzX-DLB0jc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p></p>
<p>가장 인상 깊었던 부분은 앱을 통해 수행한 분석 결과를 PPT로도 추출이 가능한데, 그림들이 벡터 그래픽으로 이루어져 있어 그림을 자유롭게 수정할 수 있다는 점이다. 이 부분에서 교수님들로부터 가장 좋은 반응을 이끌어냈던 것 같다. 연구를 수행할 때 투고하고자 하는 학회지에서 요구하는 포맷(e.g.&nbsp;글씨체)을 매번 맞춰서 그림을 다시 그리기란 참 귀찮은 일이기 때문이다. 그리고, 글씨체외에 그려진 그림까지 세세하게 수정이 가능한데, 결과 조작은 결코 해서는 안된다고 당부를 드렸다.😂 초심자들을 위한 좋은 앱을 무료로 제공해주시는 문건웅 교수님께 다시 한 번 감사의 말씀을 전한다.</p></li>
</ul></li>
</ul>
</section>
<section id="부족했던-점" class="level2">
<h2 class="anchored" data-anchor-id="부족했던-점">부족했던 점</h2>
<ul>
<li><p>나는 과연 그들에게 거인이 되어주었는가?</p>
<ul>
<li>연구 쪽에 유명한 격언이 있다. “거인의 어깨위에 서서 더 넓은 세상을 바라보라.” 사람들이 좋은 논문을 찾아서 읽고, 좋은 책을 사서 읽고, 돈을 지불하고 좋은 강의를 들으러 다니는 이유도 여기에 있다고 본다. 그렇다면, 과연 내 강의는 청중들에게 더 많은 시야를 확보해줌으로써 그들이 보던 세상보다 더 넓은 세상을 보여주었다고 할 수 있을까?</li>
<li>사실, 첫 번째 주제는 내가 연구하던 과제와 어느정도 관련이 있기도 했고 평소에 회귀분석, 시계열 자료분석에 관심이 많았기에 어느정도 그 역할을 했을 것이라고 생각한다. 그러나, 생존분석과 매칭은 내가 실무에 나와서 또는 대학원에서 연구까지 수행을 해본 적은 없는 주제에 해당했다. 특히나, 매칭은 내가 이번 강의를 준비하며 처음으로 공부했던 주제이기도 하고.</li>
<li>그래서, 강의를 준비하며 참 고민이 많았다. 청중들이 교육을 듣는 목적은 자신의 연구를 독립적으로 수행하는 데에 조금이라도 도움이 되기 위함인데, 과연 연구 동향, 해당 주제와 관련한 최신 R 라이브러리와 같은 것들을 내가 잘 알려줄 수 있을지? 후자는 잘해냈다고 생각하지만, 전자에 대해서는 아는 바가 거의 없어 이와 관련한 이야기는 드리지 못했다. 강의를 하며 내 자신에게 가장 아쉬운 점이였다.</li>
</ul></li>
<li><p>강의 분량</p>
<ul>
<li>3개의 각 주제마다 2시간의 시간을 부여받았다고 했다. 내 계획은 해당 주제에서 배우는 기술들의 모티베이션, 분석 과정 및 분석 결과 해석에 꼭 필요로 되는 이론적 베이스를 설명한 뒤에 준비해 온 R 코드로 튜토리얼을 보여 준 뒤에 직접 실습해보는 시간을 가지는 것이었다. 그래서, 최대한 이론적 부분은 수식을 최대한 생략한 채로 컴팩트하게 준비했고, 튜토리얼도 초심자가 이해하기 쉽도록 최대한 자세하게 설명하려고 했다.</li>
<li>이러다보니 2시간은 턱없이 부족했고, 직접 실습을 수행할 수 있는 시간은 조금밖에 부여해드리지 못했다. 아무리 코드를 따라친다고 한들, 초심자들에게는 예상치 못한 오류들이 발생할 수 있기 때문이다. 강의 시간에 맞게 분량을 준비하는 것은 참 어렵다고 느꼈다. 그만큼 전달하고 싶은 내용이 많았다는 뜻이기도 하고, 그것들을 쳐내는 것은 무척이나 어려웠다.</li>
</ul></li>
</ul>
</section>
<section id="뜻밖의-관심" class="level2">
<h2 class="anchored" data-anchor-id="뜻밖의-관심">뜻밖의 관심</h2>
<p>마지막으로 짤막하게 하고싶은 이야기가 있다. 앞서 말했듯이, 세 번째 강의 주제인 매칭은 겉으로 종종 듣기만 하다가 처음으로 공부를 해 본 주제였다. 강의를 위해 매칭과 Weighting 방법론 중 하나인 IPTW에 대해 공부를 했다. 이 과정에서 자연스럽게 인과추론(Causal inference)의 모티베이션에 대해 알게되었다. 나는 개인적으로 어떤 기술이나 알고리즘을 공부할 때 꼭 그 기술의 모티베이션, 백그라운드에 대해 찾아보는 편이다. 그래야, 왠지모를 찝찝함이 없어진다. 그렇기 때문에, 매칭과 Weighting에 대해 공부하며, 인과추론에 대해 공부하게 되는 것은 당연한 수순이었다.</p>
<p>인과추론도 사실 처음 들어보는 분야는 아니였다. 그저, 매칭처럼 겉으로 듣기만하고 관심을 가지지 않았을뿐. 그런데, 찾아보니 왠걸? 인과추론의 모티베이션은 내게 너무나도 인상깊었다. 나는 예측 모델링 보다는 추론적 관점의 모델링에 유독 관심이 많았다. 학부, 대학원에서 통계학을 전공하며 전통적인 회귀분석의 모티베이션에 대해 고민했던 적도 있고, 실무에 나와서 시계열 회귀모형에 기반한 모델을 다루며 <img src="https://latex.codecogs.com/png.latex?Y">와 <img src="https://latex.codecogs.com/png.latex?X">간의 relationship을 추정해야 하는 일을 하고있었기 때문이다. 내가 안고있던 고민들은 인과추론이라는 학문이 갖는 모티베이션과 정확하게 일치했다. 그래서, 공부를 해보고 싶다는 마음이 정말 강하게 들었다.</p>
<p>예상치도 못한 뜻밖의 상황에, 이렇게 설레는 마음을 품게되는 새로운 분야를 만날 줄이야. 이때 이후로, 퇴근을 하고 새로운 내 공부 루틴은 올해 우리나라에서 열린 인과추론 서머 워크샵 영상들을 찾아는 것이었다. 그리고, 얼마 뒤 또 하나의 흥미로운 소식을 접했다. G마켓에서 인과추론에 관심이 있는 Data Scientist를 찾고있다는 사실. 올해 초에 이직을 결심했던 나에게, 너무나도 매력적인 포지션이였다. 그리고, 기회라고 생각했다. 서류 지원을 하며 썼던 지원 동기는 그 어떤 때보다 진심이었다. 진심이 닿았을까? 운이 좋게도, 2022년 10월 현재 나는 G마켓에서 일을 하고있다. 그 누가 알았을까? 이 강의를 준비하며 인과추론에 관심을 갖게되고, 이 관심이 성공적인 이직까지 이어질 줄은. 인생에 어떤 기회와 운은 정말 언제 찾아올 지 모르며, 이를 잡는 것 또한 그 사람의 능력이다. 누군가에게는 운이라고 생각되어 지지 않는 그 기회는, 아무도 모르게 지나갈 수 있다. 강의를 부탁받으며, 귀한 기회라 생각하고 진심으로 강의 준비를 해봐야겠다는 다짐을 했던 내게 다시 한 번 고맙다는 말을 전한다.</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>깨달은 점, 부족했던 점에 대해 읊다보니 오랜만에 반말로 글을 쓰게됐습니다. 사실 교육 마지막 날에 강의를 마무리하며, 교수님들께 제 강의가 연구에 조금이라도 도움이 되었으면 한다고, 넌지시 제 강의가 어땠냐고 물어봤었습니다. 답정너죠. 다행히, 반응은 좋았습니다.😂 웃어주시는 분들도 많았고 연구에 도움이 많이 될 것 같다고 말씀해주시는 분들도 있었어요. 아무 반응이 없었다면 그야말로 아찔하네요. 일종의 답정너로 받은 박수이지만, 어떤 교수님께는 좋은 강의 감사하다며, 작은 보답까지 해주셨습니다.😀 강의를 마칠때 받았던 박수, 좋은 말씀들은 지난 3주간 업무까지 병행해가며 강의 준비를 했던 지난 시간들에 대한 큰 보상을 받는 듯한 느낌이었습니다. 다음에 이러한 강의 기회가 있다면 더 완벽하게 준비해봐야 겠다는 다짐도 했습니다. 정말 의미있고 재밌었던 경험이었습니다.</p>
<p>모든 글이 그렇겠지만, 월간 회고를 쓰기 전에는 유독 더 귀찮은 마음이 듭니다. 제 머릿 속에서 느꼈던 감정들을 생생하게 꺼내서 전달하려다 보니 그런 것 같아요. 제 감정들을 전달하기 위해 문장들을 여러번 쓰고 지우는데, 이때 문득 떠오르는 그때의 감정들이 저를 꽤 즐겁게 합니다. 오늘도 행복한 감정으로 이 글을 마무리합니다. 강의 자료들은 제 블로그 우측 상단 리소스 탭의 <a href="https://www.taemobang.com/presentation.html">발표 아카이브</a>에서 만나보실 수 있습니다.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>그래봤자, 간략한 구글링 방법에 대해 소개했을 뿐이다. 그렇지만, 이게 다다. 구글 꺼놓고 코딩하라 하면 제대로 할 수 있는 사람이 한 명은 있을까?↩︎</p></li>
<li id="fn2"><p><code>help()</code>를 자세히 살펴 해당 함수에 대해 파악하고자 할 때, 직관적으로 이해가 잘 안가는 상황이 있을 수 있다. 이때는 함수의 인수 옵션들을 이것저것 입맛 대로 바꿔나가며 일종의 A/B testing을 통해, 함수의 각 인수를 파악하는 것이 더 직관적이고 빠를 수 있다. 디버깅 또한 이런 로직으로 해결을 해보자.↩︎</p></li>
<li id="fn3"><p><code>{purrr}</code>이 꼭 필요로 될 것이다: 🔗<a href="https://purrr.tidyverse.org">Link</a>↩︎</p></li>
<li id="fn4"><p>사전 설문조사를 통해 파악할 수 있었다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {월간 회고록: 2022년 6월},
  date = {2022-10-12},
  url = {https://taemobang.com/posts/2022-10-12-monthly-memory-202206/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“월간 회고록: 2022년 6월.”</span> October 12, 2022.
<a href="https://taemobang.com/posts/2022-10-12-monthly-memory-202206/">https://taemobang.com/posts/2022-10-12-monthly-memory-202206/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2022-10-12-monthly-memory-202206/index.html</guid>
  <pubDate>Tue, 11 Oct 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-10-12-monthly-memory-202206/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>월간 회고록: 2022년 5월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-10-08-monthly-memory-202205/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/t0SlmanfFcg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-10-08-monthly-memory-202205/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Fredy Jacob on Unsplash</figcaption><p></p>
</figure>
</div>
<p>이직 준비하랴, 논문 작업하랴 미루고 미뤘던 월간 회고록들을 이제야 다시 적습니다. 5월 회고록을 작성하고 있는 이 시점은 어느덧 10월이군요. 부끄럽네요. 다행히 글감은 다 정해놨습니다. 하하. 지난 5월은 당시 재직 중인 연구센터에서 맡고 있는 학술연구과제 &lt;빅데이터를 이용한 미세먼지 건강영향평가&gt;에서 다변량 메타분석을 수행하는데에 가장 많은 시간을 할애했습니다. 1년반을 재직했던 직장에서 가장 많은 시간을 할애한 연구과제이기도 합니다. 분석해야할 질환들의 양이 정말 방대했거든요.🤯 대학원을 졸업하고 실무에 나와 처음으로 맡은 프로젝트인데, 데이터 수집, 데이터 마트 구축 부터 분석, 보고서 작성까지.. 정말 많은 양의 일을 혼자 처리했어야 했죠. 중간중간에 여러 난관에 봉착했고, 이 난관들을 하나하나 해결하면서 쾌감을 느끼기도 했습니다. 이번 월간 회고에서는 제가 겪은 크고 작은 난관들에 대해 이야기해보려고 합니다.</p>
<section id="sas를-다시-손에-잡다" class="level2">
<h2 class="anchored" data-anchor-id="sas를-다시-손에-잡다">SAS를 다시 손에 잡다</h2>
<p>본 연구과제는 건강보험공단 빅데이터 맞춤형 연구DB를 기반으로 진행되는데요. 자료의 특성 상 데이터 프라이버시때문에 건강보험공단에서 운영 중인 분석센터에 직접 가야지만 데이터를 열람하고 처리할 수 있습니다. 연구DB 신청 당시 분석 툴에 SAS + R을 선택할 수 있길래 당연히 데이터를 확인하고 처리하는 것도 R로 가능할 것이라 생각 했는데, 구축된 데이터는 SAS 서버 상에 놓여져있더군요. 보통 수십기가가 넘는 데이터를 처리해야하기 때문에, 분석센터의 데스크탑 로컬에 구축된 R로 원 자료를 핸들링하는 것은 어려웠습니다. 그래서, SAS로 원 자료를 랭글링<sup>1</sup>해야만 하는 상황이였습니다.</p>
<p>좀 당황스러웠습니다. 하하.. SAS는 학부생 때 2년정도 배우고 손을 뗀 상태였기 때문이죠. 제가 원하는 데이터 마트를 원활하게 구축하기 위해서는 SAS에서 SQL과 Macro<sup>2</sup>의 적절한 활용이 필요했습니다. 다행히, 학부생때 공부했던 기억이 남아있었죠. 그러나, 약 3년의 시간이 흘렀기에 복습이 필요했고 위키독스의 <a href="https://wikidocs.net/book/2678"><strong>SAS로 하는 기초 데이터 전처리, 핸들링(Data handling)</strong></a> 를 활용해 기본기를 다시 다진 후에 본격적인 랭글링 작업에 들어갔습니다. 분석센터로 출장을 가기 전 데이터 구조를 떠올리며 미리 코드를 작성하고, 현장에서 발생하는 오류가 있다면 디버깅만을 해주는 식으로 효율적으로 작업을 진행해 나갔습니다.</p>
<p>이러한 작업을 반복하다보니 SAS SQL, Macro가 손에 익었고 제가 필요로 하는 데이터 마트를 수월하게 구축하고 추출해낼 수 있었습니다.</p>
</section>
<section id="풀고자-했던-문제" class="level2">
<h2 class="anchored" data-anchor-id="풀고자-했던-문제">풀고자 했던 문제</h2>
<p>본 과제 이름은 &lt;빅데이터를 이용한 미세먼지 건강영향평가&gt;이긴 하나, 6종의 대기오염원(<img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BPM%7D%7D_%7B10%7D">, <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BPM%7D%7D_%7B2.5%7D">, <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BNO%7D%7D_%7B2%7D">, <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BSO%7D%7D_%7B2%7D">, <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BO%7D%7D_%7B3%7D">, <img src="https://latex.codecogs.com/png.latex?%7B%5Crm%7BCO%7D%7D">)에 관해 모두 평가를 실시했어야 했습니다. 말이 거창해서 건강영향평가이지만, 기본적인 로직은 간단합니다. 질병의 일 발생/입원 건수를 <img src="https://latex.codecogs.com/png.latex?Y">로 잡고, 일 대기오염원 농도를 <img src="https://latex.codecogs.com/png.latex?X">로 잡아서 시계열 회귀 모델링을 하는 것이죠. 이를 통해 대기오염원들이 특정 질병의 발생/입원에 미치는 건강영향을 평가하는 것입니다. 여기서, 대기오염원이 미치는 효과는 비선형(non-linear)의 형태를 띤다는 점과 지연 효과(lag effect)<sup>3</sup>를 갖는다는 점까지 모형에서 고려해주어야 했죠. Distributed lag non-linear model<span class="citation" data-cites="gasparrini2010">(Antonio Gasparrini, Armstrong, and Kenward 2010)</span> (이하, DLNM)은 이 둘을 동시에(simultaneously) 모델링 하게끔 해줍니다. 크게 봤을 때는 시계열 회귀모형의 일종이죠. 환경적 요인들로 Outcome을 모델링하는 생태학적 연구분야에서는 DLNM이 최신 시계열 회귀모형이라고 보시면 될 것 같습니다. 본 분야의 모델링 쪽 연구는 <a href="http://www.ag-myresearch.com">Gasparrini</a> 교수가 주도하고 있구요.</p>
<p>대학원에서 가장 많이 시간을 할애했던 연구 분야는 시계열 자료분석이었고, 이때 시계열을 회귀적으로 모델링하는 접근과 Distributed lag model에 대해 공부했던 경험이 있어 DLNM으로의 확장은 크게 어렵지 않았습니다.</p>
</section>
<section id="모형-최적화" class="level2">
<h2 class="anchored" data-anchor-id="모형-최적화">모형 최적화</h2>
<p>DLNM은 <img src="https://latex.codecogs.com/png.latex?X"> 의 비선형 효과와 지연 효과까지 모델링하기 때문에, 튜닝해야하는 초모수(Hyperparameter)가 참 많은데요. 문제는 앞서 말씀드렸다시피 봐야할 질환들이 굉장히 많았다는 것이죠. 신경과 질환 6개, 정신과 질환 3개, 호흡기 질환 8개, 안과 질환 21개 총 38개 질환을 봐야했습니다. 여기서 문제는 2가지가 더 있었어요.</p>
<ul>
<li><p>6종의 대기오염원 각각에 대해 모델링</p>
<ul>
<li>여러개 대기오염원을 고려하는 경우, 다중공선성 이슈로 인해 회귀계수 추정량의 표준오차가 굉장히 커지는 문제가 있었습니다. 이 문제를 겪고 다시 조사했던 선행연구들을 들여다보니 모두 대기오염원 1개씩만 모형에 포함시켜 모델링했더군요.</li>
</ul></li>
<li><p>우리나라 6개 대도시 지역 각각에 대해 모델링</p>
<ul>
<li>지역마다 질환 발생 패턴은 비슷하나, 대기오염원의 농도가 지리적 환경에 따라 다르기 때문에 좀 더 정교한 모델링을 위해서는 각 지역마다 모델링이 필요했습니다.</li>
</ul></li>
</ul>
<p>그럼 제가 최적화해야 했던 모델은 총 몇개였을까요? <img src="https://latex.codecogs.com/png.latex?38%5Ctimes6%5Ctimes6=1,368">개의 모형을 최적화해야 했습니다. 정녕 이것이 혼자 할 수 있는 양이였을까요?.. 참고로, 튜닝해야할 초모수가 하나가 아니라 3가지정도 됐었습니다. 이 사실을 깨닫고 한동안 꽤나 막막했습니다. 선행 연구 사례들을 살펴봐도, 논문 하나에 실리는 대부분의 연구는 일반적으로 특정 하나의 지역 및 질환에 국한하여 수행된 대기오염원 건강영향평가였죠.</p>
<p>아시다시피, <img src="https://latex.codecogs.com/png.latex?Y">와 <img src="https://latex.codecogs.com/png.latex?X">간의 relationship에 관한 모델링이 주 목적인 회귀 모델링에서는 그 과정에서 분석자의 세심한 검토(e.g.&nbsp;잔차분석)가 필요합니다. 그러나, 1,368개의 모형을 최적화해야하는 제게, 모형 하나하나를 세심하게 살펴서 모델링하기란 불가능했습니다. 그래서, 모형에 들어갈 공변량<sup>4</sup>에 대한 variable selection과 모형 최적화를 위해 몇 가지 초모수들을 튜닝하는, 추후에 논문을 평가할 리뷰어들이 납득이 가능한 하나의 획일화된 알고리즘을 만들 필요성을 느꼈습니다. 그 속에는 계산양이 적지않기 때문에 병렬처리 또한 구현을 해야 했고요. 선행연구들을 살펴봤으나 대개 이쪽 연구는 환경역학 쪽 학술지에 게재되서인지, 모델링 과정에 있어서 어떤 식으로 초모수 튜닝을 수행했고, 변수 선택은 어떻게 했고에 대한 것들이 매우 러프하게 기술되어 있었습니다. 그래서, 제가 알고리즘을 직접 짜봐야했죠.</p>
<p>선형회귀분석에서 변수 선택을 할 때 쓰는 일반적인 알고리즘 중 하나인 best subset selection과 초모수 탐색 기법 중 가장 기본이라 할 수 있는 grid search를 결합하여 알고리즘을 만들어냈습니다. 이 알고리즘을 R로 구현하고 병렬처리까지 도입하여 1,368개의 모형에 대한 최적화를 해낼 수 있었습니다.</p>
</section>
<section id="지역별-분석-결과를-하나의-분석-결과로" class="level2">
<h2 class="anchored" data-anchor-id="지역별-분석-결과를-하나의-분석-결과로">지역별 분석 결과를 하나의 분석 결과로</h2>
<p>분석을 완료하고 분석 결과를 요약해서 각 과 교수님들께 송부했으나, 문제가 하나 있었습니다. 6개 대도시 별 결과가 조금 상이한 질환들이 있었는데, 이것들을 어떤 합리적인 근거로 설명을 하느냐 였죠. 그래서, 나왔던 한 가지 해결책이 6개 지역별 분석 결과를 하나의 분석 결과로 요약하는 것이었습니다. 이를 위해서는, Gasparrini 교수가 제안한 다변량 메타분석(mutivariate meta-analysis, <span class="citation" data-cites="gasparrini2012">(A. Gasparrini, Armstrong, and Kenward 2012)</span>) 방법론을 이용해야했습니다. 몇 가지 상황에 사용할 수 있는 여러 다변량 메타분석 방법론을 제시하고 있으니, 관심있으신 분들은 한번 쯤 들여다보셔도 좋을 것 같습니다. 최적화 해둔 모형들에 대해 다변량 메타분석을 수행하며, Reference로 참고할만한 R 코드들이 없어서 Github를 뒤지는데에 꽤 시간을 썼습니다. 그렇게 찾아낸 괜찮은 Reference를 바탕으로 다변량 메타분석을 R 상에서 수행하는 로직을 이해하고, 확장하여 적용할 수 있었습니다. 다변량 메타분석으로 지역별 분석 결과를 요약하는 것을 끝으로, 더이상의 추가적인 모델링은 없었습니다. 분석 결과를 요약하는 시각화를 꾸준하게 개선해나갔고, 동시에 본격적인 논문화 작업을 시작했습니다.</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>이번 5월 회고록에서는 제 첫 직장이였던 곳에서 연구과제를 수행하며 겪었던 난관들에 대해서 이야기해봤는데요. 회고를 하며 그때 겪었던 감정들이 다시 새록새록 떠올랐습니다. 막막해보이는 것들도 충분한 시간을 할애하고 노력하면 결국 해결할 수 있는 것이라는 큰 교훈도 다시 한 번 얻을 수 있었고요. 회고라고 했지만, 어찌보면 나 이만큼 힘들었다고 푸념을 적어 놓은 것 같기도하네요.😂 실무에 계신 분들이든, 학업에 계신 분들이든 다 각자가 겪고 있는 난관이 있을텐데요. 쉽게 포기하는 마음보다는, “이 문제를 어떻게 해결할 수 있을까?”에 충분한 시간을 할애해보시기를 권해봅니다. 오늘도 이러한 난관을 헤쳐나가기 위해 고민하고, 노력하고 계신 분들께 응원의 말씀을 올리며 글을 마칩니다.</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-gasparrini2012" class="csl-entry">
Gasparrini, A., B. Armstrong, and M. G. Kenward. 2012. <span>“Multivariate Meta-Analysis for Non-Linear and Other Multi-Parameter Associations.”</span> <em>Statistics in Medicine</em> 31 (29): 3821–39. <a href="https://doi.org/10.1002/sim.5471">https://doi.org/10.1002/sim.5471</a>.
</div>
<div id="ref-gasparrini2010" class="csl-entry">
Gasparrini, Antonio, Benedict Armstrong, and M. G. Kenward. 2010. <span>“Distributed Lag Non-Linear Models.”</span> <em>Statistics in Medicine</em> 29 (September): 2224–34. <a href="https://doi.org/10.1002/sim.3940">https://doi.org/10.1002/sim.3940</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p><strong>데이터 랭글링</strong>(Data Wrangling) 혹은 데이터 먼징(Data Munging)이라고 불리는 이것은 원자료(raw data)를 보다 쉽게 접근하고 분석할 수 있도록 데이터를 정리하고 통합하는 과정. <a href="https://ko.wikipedia.org/wiki/데이터_랭글링">🔗Source</a>↩︎</p></li>
<li id="fn2"><p>일반적인 프로그래밍 언어의 함수(function)와 같은 기능을 한다고 보시면 됩니다↩︎</p></li>
<li id="fn3"><p>예를 들자면, 5일 전에 마신 고농도의 초미세먼지가 질병 발생에 영향을 미치는 것↩︎</p></li>
<li id="fn4"><p>covariates. 몇 가지 기상요인들을 공변량으로 고려.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {월간 회고록: 2022년 5월},
  date = {2022-10-08},
  url = {https://taemobang.com/posts/2022-10-08-monthly-memory-202205/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“월간 회고록: 2022년 5월.”</span> October 8, 2022.
<a href="https://taemobang.com/posts/2022-10-08-monthly-memory-202205/">https://taemobang.com/posts/2022-10-08-monthly-memory-202205/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2022-10-08-monthly-memory-202205/index.html</guid>
  <pubDate>Fri, 07 Oct 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-10-08-monthly-memory-202205/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>슬기로운 통계생활: #1 통계학 전공자의 대학원 진로 고민</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-09-12-statistics-playbook-1/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/sxQz2VfoFBE?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Christian Erfurt on Unsplash</figcaption><p></p>
</figure>
</div>
<p><a href="https://www.youtube.com/c/statisticsplaybook">유튜브 채널 슬기로운 통계생활</a>에서 운영하는 블로그에 기고했던 <a href="https://statisticsplaybook.tistory.com/search/be-favorite">칼럼들</a>을 최신화하여 다시 적어보려고 합니다. 첫 번째 칼럼 주제는 <strong>대학원에 대한 고민</strong>입니다. 저는 늘 고민과 생각이 많은 사람인데요.😂 때는 제가 통계학과 학부 4학년이던 2018년으로 거슬러 올라갑니다. 4학년 1학기 때는 학내 교환학생 프로그램에 신청하여 한 학기를 영국의 쉐필드대학(The University of Sheffield)에서 보내게 됩니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.sheffield.ac.uk/about"><img src="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/img-1.jpg" class="img-fluid figure-img" width="700"></a></p>
<p></p><figcaption class="figure-caption">The University of Sheffield</figcaption><p></p>
</figure>
</div>
<p>아쉽게도 이 곳에서 통계학 전공 과목을 들을 기회는 없었습니다. 영어와 여러 가지 교양 과목을 수강했고, 시간이 많았던 때라 실컷 놀면서 자연스레 진로에 대한 고민을 다시 한 번 깊게 해보게 되었습니다.</p>
<section id="진로에-대한-고민" class="level2">
<h2 class="anchored" data-anchor-id="진로에-대한-고민">진로에 대한 고민</h2>
<p>당시 저는 통계학 전공을 살려 Data Scientist라 표현되는 직업을 갖고 싶었습니다. 그래서, 다음과 같은 두 가지 선택지에서 고민하기 시작했습니다.</p>
<ol type="1">
<li>취업 준비</li>
<li>통계학 대학원 진학</li>
</ol>
<p>어중이떠중이 기질이 있었던 저는 깊은 고민 끝에 2년이라는 시간을 통계학 대학원에 투자할 용기가 없어, 4학년 1학기를 쉐필드에서 마치고 한국으로 돌아가 취업 준비를 해보기로 결심했습니다. 학부 졸업 요건과 취업에 필요한 기본 요건<sup>1</sup>은 준비가 되어있었고, 무엇보다 마음 속에 지금 상태로 취업 준비를 해봐도 되겠다는 알 수 없는 자신감이 있었습니다. 그 이유는 지금 생각해보면 정말 별것 아닌 것들 때문이었죠. 기본적인 소양에 불과한 평균 평점(3.93/4.5)과 전공 평균 평점(4.1/4.5), 그리고 지금 다시 돌아보면 정말 형편없었던 R 숙련도에 대한 자부심은 제게 “이정도면 취업 준비를 해봐도 되지 않을까?” 하는 근거없는 자신감을 갖게 했죠. 이렇게 취업 준비를 결심하고 채용 공고를 들여다보면서 시간을 보내는 와중에, 계속해서 눈에 밟히던 두 가지 키워드가 있었습니다.</p>
</section>
<section id="호기심을-불러일으킨-두-가지-키워드" class="level2">
<h2 class="anchored" data-anchor-id="호기심을-불러일으킨-두-가지-키워드">호기심을 불러일으킨 두 가지 키워드</h2>
<p>2016년 구글 딥마인드 팀이 개발한 바둑 AI 알파고가 이세돌과의 바둑 대국에서 압도적으로 승리를 거두며, 수십 년에 걸쳐 발전해온 <a href="https://be-favorite.tistory.com/8?category=897337">딥러닝이라는 기술</a>은 마치 최근 개발된 혁신적인 신기술인냥 세상의 주목을 받게 되었습니다. 매스컴의 주목에 따라 뉴스에서 종종 등장하던 두 단어 “머신러닝”과 “딥러닝”은 제게 또다른 호기심을 심어주었습니다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.cyberoro.com/news/news_view.oro?num=521488"><img src="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/img-2.jpg" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">알파고와 대결한 이세돌 9단</figcaption><p></p>
</figure>
</div>
<p>당시 학부 전공 과목으로 데이터마이닝을 수강한 상태였던터라 이러한 호기심 매우 자연스러운 현상이었던 것 같습니다. 그러나, 당시 통계학 학부 4학년에 불과하던 제게 머신러닝, 딥러닝과 같은 키워드는 머릿속에 큰 그림은 커녕 기존에 배웠던 전공 과목<sup>2</sup>들과 자연스러운 비교를 하면서 혼란을 가중시킬 뿐이였죠. 내가 배웠던 것들과 두 키워드는 어떤 관련이 있는지 알고 싶었고, 심지어는 “전자와 후자 중 어떤 것이 더 나은 방법론인가?” 와 같이 지금 생각해보면 참 바보 같은 생각을 했었습니다. 이러한 생각들은 Data Scientist의 꿈이 있었던 사람에게 왠지 모를 두려움과 불안감을 심어주었습니다. 그래서, 이것 저것 찾아보며 두 기술에 대해 이해해보려고 노력했습니다. 이 과정에서 문득 “과연 내가 이 상태로 실무에 나가서 호기심이 있는 기술, 또는 직무에 꼭 필요로 되는 기술이 있을 때 이러한 기술들을 독학하여 실무에 적용할 수 있을까?” 하는 생각을 했습니다. 4학년 2학기 졸업예정자 신분으로서 Data Scientist 직무로의 취업을 성공한다고 한들, 직무를 잘 수행해내며 스스로 발전할 수 있을지에 대한 의구심이 생겼죠. 그래서, 마음속에서는 대학원 진학에 대한 열망이 다시 한 번 피어오르고 있었습니다.</p>
<p>대학원 진학이라는 길이 머릿속을 떠나지 않았습니다. 그래서, 4학년 2학기 딱 한 학기만 학부 졸업 예정자로서 취업 준비를 하며 제가 다니던 본교의 통계학 대학원 진학 준비를 병행해서 해보기로 했습니다. 당연히 취업 준비 결과는 참담했습니다:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/img-3.PNG" class="img-fluid figure-img" width="400"></p>
<p></p><figcaption class="figure-caption">(학부 4학년 2학기) 2018년 하반기 채용 지원 결과</figcaption><p></p>
</figure>
</div>
<p>그때 제 수준을 지금 생각해보면 이러한 결과는 당연했다는 생각이 드네요.😂</p>
</section>
<section id="참담한-취업-실패에서-배운-것들" class="level2">
<h2 class="anchored" data-anchor-id="참담한-취업-실패에서-배운-것들">참담한 취업 실패에서 배운 것들</h2>
<p>취업 준비 결과 실질적으로 손에 쥔 것은 없었지만, <strong>수많은 채용공고를 보고 자기소개서를 쓰며 얻은 것과 배운 것</strong>들은 많았습니다:</p>
<section id="년까지-내가-해온-활동에-대한-정리" class="level3">
<h3 class="anchored" data-anchor-id="년까지-내가-해온-활동에-대한-정리">1 2018년까지 내가 해온 활동에 대한 정리</h3>
<p>대학원 졸업을 앞두고 내가 해온 활동에 대한 정리를 시작했다면, 졸업 논문 작업과 겹쳐 취업 준비에 매우 어려움을 겪었을거라 생각합니다.</p>
</section>
<section id="자기소개서를-쓰는-방식" class="level3">
<h3 class="anchored" data-anchor-id="자기소개서를-쓰는-방식">2 자기소개서를 쓰는 방식</h3>
<p>당시 썼던 자기소개서들을 올해 이직 준비를하며 썼던 자기소개서들과 비교해보면, 과거의 제가 썼던 자기소개서는 정말 형편없었습니다. 그러나, 첫 자기소개서를 대학원을 졸업하던 시기에 쓰기 시작했다면 그야말로 아찔하네요.</p>
</section>
<section id="우리나라-기업에서-data-scientistanalyst-채용시-원하는-구체적인-역량" class="level3">
<h3 class="anchored" data-anchor-id="우리나라-기업에서-data-scientistanalyst-채용시-원하는-구체적인-역량">3 우리나라 기업에서 Data Scientist/Analyst 채용시 원하는 구체적인 역량</h3>
<p>당시 완벽하게 깨우치지는 못했지만 수많은 채용공고를 들여다보니 준비해야할 방향이 조금이나마 보였던 것 같습니다. 취업이나 이직을 준비하시는 분들이 아니더라도 업계의 인재 영입 동향 파악을 위해 틈틈히 채용공고를 들여다보시는 것을 추천드립니다. 이번에 이직 준비를 하서면서도 우리나라 기업에서 낸 수많은 Data Scientist/Analyst 채용 공고를 들여다보았는데, 우리나라의 분석 직군들의 직무들도 점차 세분화 되어 잘 정립되어 가고 있다는 느낌을 받을 수 있었습니다. 물론, 여전히 채용 공고를 아무리 읽어 봐도 무슨 일을 하게 될 지 알 수 없는 그런 공고들도 종종 보였으나, 이건 어느 직무에서든 종종 보이는 성의없게 쓰여진 채용공고이므로 별 의미를 두지 않았습니다. 세분화되어 잘 정립되어 가고 있는 우리나라 분석 직군의 세부 직무들을 자세하게 알아보고 싶은 분들께는 변성윤님이 올려주신 🔗<a href="https://www.youtube.com/watch?v=mzOWMax9Sxc">유튜브 영상</a>을 추천드립니다.</p>
</section>
<section id="석사학위에-대한-필요성" class="level3">
<h3 class="anchored" data-anchor-id="석사학위에-대한-필요성">4 석사학위에 대한 필요성</h3>
<p>제 머릿 속에 대학원 진학이라는 키워드가 계속해서 맴돌았기 때문일지도 모르겠습니다. 2018년 당시 석박사 채용을 통해서만 Data Scientist 직무를 뽑는 경우도 종종있어 지원조차 못하는 기업들이 있었고<sup>3</sup>, 4년제 대졸 신입사원 채용으로 뽑더라도 우대사항에는 늘 석사학위 보유자 키워드가 함께 자리하고 있었습니다. Data Scientist/Analyst 채용 시 통계학 학사와 석사가 경쟁하면 기업 입장에서는 기본적으로 어떤 지원자가 더 매력적이겠습니까? 학위를 뛰어넘을만한 좋은 경력이나 포트폴리오를 갖고 있지 않는 이상 석사 학위 보유자를 선호할 것입니다. 단, 학위 자체가 어떤 특정한 어드벤티지를 준다고는 생각하지 않았습니다. 그만큼 석사 학위 보유자라는 책임감을 가져야하만하고 기업의 기대에 맞는 수준을 갖는 사람이 되어야만 한다고 생각했죠. 말 그대로 학위는 우리를 둘러싼 껍질에 불과한 기본 아이템이라고 표현하면 적절할까요? 그러나, 당시 학사 학위와 빈약한 포트폴리오를 갖고있던 제게 석사 학위를 뛰어넘을만한 Data Scientist 직무로의 취업 준비 방법은 떠오르지 않았죠. 그래서, 대학원 진학을 결정한 것이고요.</p>
<p>이렇게 졸업 예정자로서 취업 준비를 한 번 해봤던 경험은 제게 통계학 대학원 진학에 대한 필요성을 직접 피부로 느끼게 해주었습니다. 대학원에 진학하여 열심히 공부할 수 있었던 동기부여 또한 마음 속 깊히 채워넣을 수 있었습니다. 그 결정을 한 당시를 돌아보면 통계학 대학원 진학에 대한 후회는 전혀 느껴지지 않습니다. 제 인생에 정말 탁월한 결정이였죠. 오히려 취업 준비를 하지 않고 통계학 대학원 준비에 올인했다면 더 좋은 결과를 가져올 수 있었을까? 하는 무의미한 생각을 하곤 합니다.😂 당시의 저처럼 현재 통계학 대학원 진학에 대한 고민을 품고 있는 학부생들의 선택은 당연히 본인의 몫입니다. 다만, 열심히 공부함과 동시에 자신을 부지런히 브랜딩한다는 가정 하에, 통계학 대학원 진학은 Data Scientist/Analyst로의 취업에 무조건 플러스가 될 것이라고 말씀드리고 싶네요.😀 이 말에도 대학원 진학에 확신이 서질 않는다면, 자신의 수준을 한 번 냉정하게 바라보시고 실무에 나갈 준비가 되었는지 본인에게 질문을 던져보시기 바랍니다. 질문의 답이 “Yes”라면 취업 준비를 해보시는 것 또한 정말 좋은 경험이 되실겁니다.</p>
</section>
</section>
<section id="대학원에-들어가며-다짐했던-것" class="level2">
<h2 class="anchored" data-anchor-id="대학원에-들어가며-다짐했던-것">대학원에 들어가며 다짐했던 것</h2>
<p>저는 당시 Data Scientist/Analyst 직무로의 취업을 꿈꿨지만, 어느 기업 또는 어느 업계로 가고 싶다는 구체화는 전혀 되어있지 않던 상태였습니다. 그래서, 수많은 분야에서 의사결정의 도구로 사용되고 있는 Data Science/Analytics의 특성상 어떤 식으로 커리어 방향을 잡아 나갈지, 무엇을 공부해야 할지 참 막막했습니다. 이러한 혼란 속에서 다짐했던 것은 2가지 였습니다. 대학원을 졸업할 무렵에는 누구에게나 자신있다고 말할 수 있는 분석 언어 1가지, 분석 분야 1가지를 만들겠다고 말이죠.<sup>4</sup> 대학원을 졸업하던 당시 가장 자신있었던 분석 언어와 분석 분야는 R과 시계열 자료분석 이었습니다. 이 두 가지 무기로 첫 번째 직장에 취업을 하고 머릿 속에 그리던 직무를 수행할 수 있었죠. 2가지 다짐의 개인적 근거는 이쪽 업계는 이것저것 두루두루 잘하는 Generalist 보단 하나 혹은 두 가지를 특출나게 잘하는 Specialist를 선호한다고 생각했기 때문입니다. 다양한 백그라운드를 가진 사람들이 일하는 Data Science/Analytics 업계인 만큼, 두리뭉술한 사람 보다는 확실한 아이덴티티가 있는 사람이 채용시장에서 높은 선호도를 보일 것이라고 생각했죠. 이쪽 업계에 있을수록 Generalist가 되기란 참 어렵지 않나 하는 생각을 합니다. Generalist가 되려다 이것저것 얕게 알고있는 특색없는 Generalist가 될 수 있다는 것을 유념하시기 바랍니다.</p>
<p>반대로, Data Scientist/Analyst 직무로의 취업을 꿈꾸며 어느 기업 또는 어느 업계로 갈지에 대한 구체화가 끝나신 분들도 있을 수 있겠죠. 이 분들은 참 똑똑한 분들이라 생각합니다. 이러면 취업 준비가 꽤 편해지니까요. 가고 싶은 기업의 링크드인, 기술 블로그 등을 팔로우 하고 채용 공고를 미리미리 들여다보며, 자신이 해당 포지션으로 가기 위해 배워야할 것들을 구체화할 수 있습니다. 그럼, 자연스레 해당 기업에서 원하는 Specialist가 되는 길을 걷게 되겠죠. 공부 외에도 적극적인 액션을 취해보시기를 권합니다. Specialist가 되기 위해 공부해야하는 분야에 커뮤니티가 있다면 가입해서 활동도 해보고, 링크드인에 자신이 가고자 하는 업계 또는 기업에서 Data Science/Analytics를 수행하고 있는 분들이 보인다면 콜드메일(메시지)을 보내보기도 하면서요.😀</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>2021년 2월에 통계학 석사학위를 마치고, Data Scientist 직무로 현업에 있는 사람으로서, 2018년의 저와 비슷한 고민을 하고 있는 분들께 하고 싶은 몇 마디를 하고 글을 마치려고합니다.</p>
<p>대학원 졸업을 앞두고 제가 성장한 부분 중 가장 뜻 깊게 생각되는 부분은 특정 알고리즘에 관한 이해가 아닌, 앞으로도 쏟아져 나올 분석 방법론, 그리고 소프트웨어 역량이라 할 수 있는 R의 수많은 패키지 등을 혼자 공부하고 정리할 튼튼한 발판을 마련했다는 점이었습니다. 그리고, 무엇보다 나를 브랜딩하고 PR 할만한 장치들도(e.g.&nbsp;Github, 개인 블로그) 갖출 수 있었죠. 제가 학부를 졸업하고 바로 해당 직무로 취업을 했다고 한들 이렇게 튼튼한 발판과 자신을 브랜딩하는 나만의 방법이 없이는 언젠가 성장의 한계에 마주했을 거라고 생각합니다.</p>
<p>그래서, 만약 본인이 Data Scientist/Analyst 직무에 대해 열정과 호기심이 있는 통계학 전공자라면 주저하지 마시고 대학원에 진학하시는 것을 추천합니다. 호기심이 이끄는대로 열심히 이것저것 찾아보며 공부하고, 자신을 가꿔나갈 각오가 되어있는 분들께 대학원은 이쪽 업계에서 무조건 플러스라고 생각하니까요. 물론, 꼭 통계학 대학원이 아니여도 상관없습니다. 본인이 원하는 직무와 좀 더 관련성있는 연구실을 운영 중인 다른 학과가 있다면 해당 학과로의 진학을 추천드립니다. 예를 들어, 만약 본인이 특히 머신러닝이나 딥러닝 쪽 연구를 통해 예측 모델링을 전문적으로 수행하는 사람이 되고 싶다면 통계학 대학원이 아닌 컴퓨터 과학(Computer Science, 또는 소프트웨어 학과라 일컫는) 쪽에서 해당 분야를 전문적으로 연구하시는 교수님의 연구실에 들어가는 것을 추천드리고싶습니다.<sup>5</sup></p>
<p>이런저런 이야기들을 하다보니 글이 꽤 길어졌습니다. 제가 느낀 것들을 바탕으로 쓴 글이니 정답이라고 생각하진 않으셨으면 합니다. 취업, 그리고 진로에 대한 길을 만들어 나가는 것에는 수많은 정답이 존재하니까요.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>TOEIC, OPIC 등 채용 지원을 위해 필요한 기본적인 것들↩︎</p></li>
<li id="fn2"><p>회귀분석, 통계적 가설검정, 실험설계, 시계열 자료분석 등↩︎</p></li>
<li id="fn3"><p>이건 이직을 준비하는 2022년에도 마찬가지였습니다. 그러나, 2022년의 저는 석사학위를 보유하고 있었죠. 예를 들어, 신한은행의 경우 (정규직) 데이터분석 직군은 석박사채용으로만 하고있는 것으로 알고있습니다. 그외 은행은 데이터분석 직군은 전문계약직 형태로 뽑는 것으로 알고 있습니다..😭↩︎</p></li>
<li id="fn4"><p>여기서 “자신있다”의 의미는 해당 분석 언어와 분석 분야를 다 알고 있다는 것이 아닌, 모르는 것을 마주치더라도 독학하여 다 내 것으로 만들 수 있는 자신이 있다는 것을 의미합니다.↩︎</p></li>
<li id="fn5"><p>혹시, 통계학 대학원에서 머신러닝 또는 딥러닝에 기반한 예측 모델링 기법을 깊게 연구하는 연구실이 있다면, 댓글로 공유해주시면 많은 분들에게 도움이 될 것 같습니다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {슬기로운 통계생활: \#1 통계학 전공자의 대학원 진로 고민},
  date = {2022-09-13},
  url = {https://taemobang.com/posts/2022-09-12-statistics-playbook-1/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“슬기로운 통계생활: #1 통계학 전공자의 대학원 진로
고민.”</span> September 13, 2022. <a href="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/">https://taemobang.com/posts/2022-09-12-statistics-playbook-1/</a>.
</div></div></section></div> ]]></description>
  <category>Statistics Playbook</category>
  <category>Column</category>
  <guid>https://taemobang.com/posts/2022-09-12-statistics-playbook-1/index.html</guid>
  <pubDate>Mon, 12 Sep 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-09-12-statistics-playbook-1/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>ggplot2 컬러링 가이드</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/46juD4zY1XA?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by David Pisnoy on Unsplash</figcaption><p></p>
</figure>
</div>
<p>오늘은 <code>ggplot2</code>에서 더 적은 수의 컬러로 더 직관적인 시각화를 가능하게끔 해주는 4가지 방식에 대해 소개해보려고 합니다. <code>ggplot2</code>를 바탕으로 진행되는 예제이긴 하나, 본 글에서 소개할 방식들에 담겨있는 아이디어는 언어, 시각화 라이브러리를 막론하고 적용이 가능할거라고 봅니다.물론, <code>ggplot2</code>만큼 짧고 가독성 좋은 코드로 구현이 가능할지는 미지수이지만요.😁 본 글에서 <code>ggplot2</code>의 그래프 문법 <sup>1</sup>이 갖는 강력한 힘을 확인하실 수 있을 겁니다.</p>
<aside>
본 글은 <span class="citation" data-cites="rapp2022">(Rapp 2022)</span>를 기반으로 작성되었습니다.
</aside>
<p>대중들은 말이 아닌 그림을 기억합니다. 그래서, 잘 만들어진 데이터 시각화는 강력한 힘을 갖습니다. 종종 데이터 시각화를 하시다가 지나치게 많은 색을 사용하게 되어 오히려 전달력이 떨어진다는 느낌을 받은 적이 있지 않으신가요? 그렇다면 이 글이 도움이 되실 수도 있겠습니다.😀</p>
<section id="준비하기" class="level2">
<h2 class="anchored" data-anchor-id="준비하기">준비하기</h2>
<p>본격적인 시작 전 몇 가지 준비를 하고자 합니다. <code>ggplot2</code>에서 제공하는 다양한 테마 중 <code>theme_minimal()</code>을 사용할 예정이고, 폰트, 그림 제목과 색 등에 몇 가지 조정을 줄 예정입니다:</p>
<ul>
<li><p><code>showtext</code> 패키지를 통해 <a href="https://fonts.google.com/specimen/Fira+Sans">Fira Sans font</a> 설정</p></li>
<li><p>그림 제목은 기본 좌측 정렬, 색맹(color-blind)까지 고려한 <a href="https://jfly.uni-koeln.de/color/">Okabe Ito</a> 컬러 팔레트 사용</p>
<ul>
<li>본 글의 작성에 참고한 원 글의 저자는 <a href="https://clauswilke.com/dataviz/">Fundamentals of Data Visualization by Claus Wilke</a>를 읽은 뒤, Okabe Ito 컬러 팔레트를 선호하게 되었다고 합니다.</li>
</ul></li>
</ul>
<div class="cell" data-warnings="false">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(showtext)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">font_add_google</span>(<span class="st" style="color: #20794D;">"Fira Sans"</span>, <span class="st" style="color: #20794D;">"firasans"</span>)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;">showtext_auto</span>()</span>
<span id="cb1-5"></span>
<span id="cb1-6">theme_customs <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">theme</span>(</span>
<span id="cb1-7">  <span class="at" style="color: #657422;">text =</span> <span class="fu" style="color: #4758AB;">element_text</span>(<span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>, <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">16</span>),</span>
<span id="cb1-8">  <span class="at" style="color: #657422;">plot.title.position =</span> <span class="st" style="color: #20794D;">'plot'</span>,</span>
<span id="cb1-9">  <span class="at" style="color: #657422;">plot.title =</span> <span class="fu" style="color: #4758AB;">element_text</span>(</span>
<span id="cb1-10">    <span class="at" style="color: #657422;">face =</span> <span class="st" style="color: #20794D;">'bold'</span>, </span>
<span id="cb1-11">    <span class="at" style="color: #657422;">colour =</span> thematic<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">okabe_ito</span>(<span class="dv" style="color: #AD0000;">8</span>)[<span class="dv" style="color: #AD0000;">6</span>],</span>
<span id="cb1-12">    <span class="at" style="color: #657422;">margin =</span> <span class="fu" style="color: #4758AB;">margin</span>(<span class="at" style="color: #657422;">t =</span> <span class="dv" style="color: #AD0000;">2</span>, <span class="at" style="color: #657422;">r =</span> <span class="dv" style="color: #AD0000;">0</span>, <span class="at" style="color: #657422;">b =</span> <span class="dv" style="color: #AD0000;">7</span>, <span class="at" style="color: #657422;">l =</span> <span class="dv" style="color: #AD0000;">0</span>, <span class="at" style="color: #657422;">unit =</span> <span class="st" style="color: #20794D;">"mm"</span>)</span>
<span id="cb1-13">  )</span>
<span id="cb1-14">)</span>
<span id="cb1-15"></span>
<span id="cb1-16"><span class="fu" style="color: #4758AB;">theme_set</span>(<span class="fu" style="color: #4758AB;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;">+</span> theme_customs)</span></code></pre></div>
</div>
</section>
<section id="음영을-활용하자" class="level2">
<h2 class="anchored" data-anchor-id="음영을-활용하자">음영을 활용하자</h2>
<p><code>ggplot2</code> 패키지에서 제공하는 <code>mpg</code> 데이터셋을 이용해 연도별 자동차 종류의 빈도를 시각화해봅시다. 전에 충분히 보셨을만한 데이터라 생각해서, 데이터셋에 관한 설명은 스킵하겠습니다. 이런 방식으로 시각화를 해보신 경험이 있으실겁니다:</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">mpg <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> <span class="fu" style="color: #4758AB;">factor</span>(year), <span class="at" style="color: #657422;">fill =</span> class)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;">geom_bar</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb2-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">"year"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/mpg1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>자동차 종류가 많다보니 무려 7개의 컬러를 시각화에 사용하였습니다. 이 그림이 틀렸다고 할 수는 없습니다. 다만, 좋은 시각화라고 할 수 있는지에 대해 한 번 생각해보자는 겁니다. 제가 보기에 이렇게나 많은 수의 컬러를 사용하는 시각화는 꽤나 정신없어 보인다고 느껴집니다.여러 수준을 갖는 범주형 변수에 관한 컬러링에 있어서 더 적은, 최대 3개 정도의 컬러만 사용하여 시각화를 수행하는 방법은 없을까요? 이제 그 아이디어를 소개하고자 합니다. 자동차 종류를 구분하기 위해 색조(hues) 뿐만이 아닌, 음영(shades)을 활용하는 것이죠. 3가지 컬러만을 사용해 투명도를 줌으로써 7개의 자동차 종류를 구분해보겠습니다. 미리 말씀드리자면, <code>minivan</code>을 단독 하나의 그룹으로 설정해주어 이를 중심으로 투명도가 줄어들고 늘어나게끔 만드는 것이 키 아이디어입니다.</p>
<p>이를 위해서는 우선 데이터에 자동차의 종류를 3가지로 구분짓는 새로운 그룹 변수를 생성해주어야 합니다:</p>
<div class="cell" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;"># Group classes into three groups (to reduce colors to 3)</span></span>
<span id="cb3-2">dat <span class="ot" style="color: #003B4F;">&lt;-</span> mpg <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb3-4">    <span class="at" style="color: #657422;">year =</span> <span class="fu" style="color: #4758AB;">factor</span>(year),</span>
<span id="cb3-5">    <span class="at" style="color: #657422;">class_group =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb3-6">      class <span class="sc" style="color: #5E5E5E;">%in%</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">'2seater'</span>, <span class="st" style="color: #20794D;">'compact'</span>, <span class="st" style="color: #20794D;">'midsize'</span>) <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp1"</span>,</span>
<span id="cb3-7">      class <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'minivan'</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp2"</span>,</span>
<span id="cb3-8">      T <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp3"</span></span>
<span id="cb3-9">    )</span>
<span id="cb3-10">  )</span></code></pre></div>
</div>
<p>이를 바탕으로 우선 먼저 시각화를 해보죠:</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">shades_plt <span class="ot" style="color: #003B4F;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> year, <span class="at" style="color: #657422;">fill =</span> class_group, <span class="at" style="color: #657422;">alpha =</span> class)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;">geom_bar</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;">labs</span>(</span>
<span id="cb4-5">    <span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">'Year'</span>,</span>
<span id="cb4-6">    <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">'Counts'</span>,</span>
<span id="cb4-7">    <span class="at" style="color: #657422;">alpha =</span> <span class="st" style="color: #20794D;">'Class'</span>,</span>
<span id="cb4-8">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Show shades, not hues'</span></span>
<span id="cb4-9">  )</span>
<span id="cb4-10">shades_plt</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/mpg2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>색조와 음영까지 활용해 3가지 컬러정도로 줄이긴 했지만, 아직 전달력은 매우 떨어집니다. 우리 눈으로 색조와 음영을 조합해 그림의 자동차 종류를 구분해내는 것은 꽤 어렵죠. 투명도와 색상을 직접 조정해보겠습니다. 투명도는 <code>suv</code> -&gt; <code>minivan</code>까지 점차 줄어들고, <code>minvan</code> 이후부터는 다시 줄어든 양만큼 투명도가 늘어나도록 설정을 해주려고 합니다:</p>
<div class="cell" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;"># Color-blind safe colors</span></span>
<span id="cb5-2">colors <span class="ot" style="color: #003B4F;">&lt;-</span>  thematic<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">okabe_ito</span>(<span class="dv" style="color: #AD0000;">3</span>)</span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;"># Possible levels of transparency (one for each class)</span></span>
<span id="cb5-4">alpha_max <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">1</span></span>
<span id="cb5-5">alpha_min <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fl" style="color: #AD0000;">0.7</span></span>
<span id="cb5-6">alpha_vals <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(</span>
<span id="cb5-7">  <span class="fu" style="color: #4758AB;">seq</span>(alpha_max, alpha_min, <span class="at" style="color: #657422;">length.out =</span> <span class="dv" style="color: #AD0000;">4</span>), </span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;">seq</span>(alpha_min, alpha_max, <span class="at" style="color: #657422;">length.out =</span> <span class="dv" style="color: #AD0000;">4</span>)[<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb5-9">)</span>
<span id="cb5-10">alpha_vals</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.0 0.9 0.8 0.7 0.8 0.9 1.0</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;"># Tweak previous plot</span></span>
<span id="cb7-2">shades_plt <span class="ot" style="color: #003B4F;">&lt;-</span> shades_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;">scale_fill_manual</span>(<span class="at" style="color: #657422;">values =</span> colors) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;">scale_alpha_manual</span>(<span class="at" style="color: #657422;">values =</span> alpha_vals)</span>
<span id="cb7-5">shades_plt</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/mpg3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>아까보다는 좀 낫습니다. 여기서 좀 더 개선을 해보자구요. 우측 범례를 하나로 좀 통합해서 설정하면 좋을 것 같은데요. 7개로 구분되어 있는 투명도에 컬러를 입혀줘서 말이죠. 꽤나 어려운 작업일 것 같지만, <code>ggplot2</code>에서는 아주 손쉬운 작업입니다. <code>guides()</code> 함수를 통해 가능합니다. <code>fill</code>에 관한 범례(<code>class_group</code>)는 삭제를 한 뒤에, <code>guide_legend()</code>를 통해 <code>alpha</code>에 관한 범례에 <code>fill</code>의 색상을 가져와 우리가 사전에 설정한 각각 3개 그룹(<code>class_group</code>)의 컬러를 덮어씌워(override) 줄겁니다. 말이 조금 복잡해보이지만, 코드를 보면 더 쉽게 이해하실 수 있습니다:</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">shades_plt <span class="ot" style="color: #003B4F;">&lt;-</span> shades_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;">guides</span>(</span>
<span id="cb8-3">    <span class="at" style="color: #657422;">fill =</span> <span class="fu" style="color: #4758AB;">guide_none</span>(),</span>
<span id="cb8-4">    <span class="at" style="color: #657422;">alpha =</span> <span class="fu" style="color: #4758AB;">guide_legend</span>(</span>
<span id="cb8-5">      <span class="at" style="color: #657422;">override.aes =</span> <span class="fu" style="color: #4758AB;">list</span>(<span class="at" style="color: #657422;">fill =</span> colors[<span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">3</span>, <span class="dv" style="color: #AD0000;">3</span>, <span class="dv" style="color: #AD0000;">3</span>)]</span>
<span id="cb8-6">      )</span>
<span id="cb8-7">    )</span>
<span id="cb8-8">  ) </span>
<span id="cb8-9">shades_plt</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/mpg4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="음영만으로는-부족해" class="level2">
<h2 class="anchored" data-anchor-id="음영만으로는-부족해">음영만으로는 부족해</h2>
<p>충분히 괜찮은 시각화를 했지만, 아쉬운 부분이 하나 있습니다. 인접한 컬러 블록들에서는 자동차 종류 구분이 쪼~금 불편해 보입니다. 이 문제 또한 손쉽게 해결해줄 수 있어요. 블록마다 선 하나씩만 그어주면 말이죠. 앞선 시각화 코드에 <code>geom_bar()</code> 한 줄이면 해결할 수 있습니다. 이 또한 그래프 문법의 힘이죠.😄</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">dat <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb9-2">  <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> year, <span class="at" style="color: #657422;">fill =</span> class_group, <span class="at" style="color: #657422;">alpha =</span> class)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;">geom_bar</span>(<span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'white'</span>) <span class="sc" style="color: #5E5E5E;">+</span> <span class="co" style="color: #5E5E5E;"># Add lines for distinction</span></span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;">scale_fill_manual</span>(<span class="at" style="color: #657422;">values =</span> colors) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb9-5">  <span class="fu" style="color: #4758AB;">scale_alpha_manual</span>(<span class="at" style="color: #657422;">values =</span> alpha_vals) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;">guides</span>(</span>
<span id="cb9-7">    <span class="at" style="color: #657422;">fill =</span> <span class="fu" style="color: #4758AB;">guide_none</span>(),</span>
<span id="cb9-8">    <span class="at" style="color: #657422;">alpha =</span> <span class="fu" style="color: #4758AB;">guide_legend</span>(<span class="at" style="color: #657422;">override.aes =</span> <span class="fu" style="color: #4758AB;">list</span>(<span class="at" style="color: #657422;">fill =</span> colors[<span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">3</span>, <span class="dv" style="color: #AD0000;">3</span>, <span class="dv" style="color: #AD0000;">3</span>)]))</span>
<span id="cb9-9">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb9-10">  <span class="fu" style="color: #4758AB;">labs</span>(</span>
<span id="cb9-11">    <span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">'Year'</span>,</span>
<span id="cb9-12">    <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">'Counts'</span>,</span>
<span id="cb9-13">    <span class="at" style="color: #657422;">alpha =</span> <span class="st" style="color: #20794D;">'Class'</span>,</span>
<span id="cb9-14">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Group categories together by color, </span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">but keep showing them'</span></span>
<span id="cb9-15">  )</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/mpg5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="전달하고-싶은-내용만-강조하자" class="level2">
<h2 class="anchored" data-anchor-id="전달하고-싶은-내용만-강조하자">전달하고 싶은 내용만 강조하자</h2>
<p>이제 조금 다른 이야기를 해보려고 합니다. 꼭 위와 같이 모든 범주에 대해 컬러를 줄 필요는 없는 상황도 있지 않을까요? 예를 들자면, 우리가 시각화를 통해 꼭 강조해서 전달하고 싶은 내용이 있을 때처럼요. 이번에 사용할 예시 데이터는 흥미로운 다양한 데이터셋을 제공해주는 <a href="https://ourworldindata.org/time-with-others-lifetime">Our World in Data</a>에서 가져왔습니다. 미국인들을 대상으로 설문조사를 수행한 자료인데요. 본 자료를 통해 우리가 알아보고자 하는 바는 “우리는 과연 일생동안 누구와 시간을 많이 보내는가?”입니다. 여러 나이대의 미국인들을 대상으로 하루에 평균적으로 누구와 얼마나 시간을 보내는지에 대해 조사한 자료라고 할 수 있겠습니다. 위 링크의 차트에 아래 우측 탭을 보시면 Download를 눌러서 데이터를 받으실 수 있습니다:</p>
<p>이 자료를 바탕으로 다음과 같은 그림을 그려볼 수 있습니다. 과연 나이에 따라 우리가 시간을 함께 보내는 대상은 어떤 식의 패턴을 보이며 변화할까요? 일반적으로는 다음과 같이 시각화를</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;"># Some data wrangling</span></span>
<span id="cb10-2">time_data <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read_csv</span>(<span class="st" style="color: #20794D;">"./time-spent-with-relationships-by-age-us.csv"</span>) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;">rename_with</span>(</span>
<span id="cb10-4">    <span class="sc" style="color: #5E5E5E;">~</span><span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">'Entitity'</span>, <span class="st" style="color: #20794D;">'Code'</span>, <span class="st" style="color: #20794D;">'Age'</span>, <span class="st" style="color: #20794D;">'alone'</span>, <span class="st" style="color: #20794D;">'friends'</span>, <span class="st" style="color: #20794D;">'children'</span>, <span class="st" style="color: #20794D;">'parents'</span>, </span>
<span id="cb10-5">       <span class="st" style="color: #20794D;">'partner'</span>, <span class="st" style="color: #20794D;">'coworkers'</span>)</span>
<span id="cb10-6">  ) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-7">  <span class="fu" style="color: #4758AB;">pivot_longer</span>(</span>
<span id="cb10-8">    <span class="at" style="color: #657422;">cols =</span> alone<span class="sc" style="color: #5E5E5E;">:</span>coworkers, </span>
<span id="cb10-9">    <span class="at" style="color: #657422;">names_to =</span> <span class="st" style="color: #20794D;">'person'</span>,</span>
<span id="cb10-10">    <span class="at" style="color: #657422;">values_to =</span> <span class="st" style="color: #20794D;">'minutes'</span></span>
<span id="cb10-11">  ) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-12">  janitor<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">clean_names</span>() <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-13">  <span class="fu" style="color: #4758AB;">filter</span>(age <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">80</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 67 Columns: 9
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): Entity, Code
dbl (7): Year, Time spent alone, by age of respondent (United States), Time ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;"># Color-blind safe colors</span></span>
<span id="cb12-2">colors <span class="ot" style="color: #003B4F;">&lt;-</span> thematic<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">okabe_ito</span>(<span class="dv" style="color: #AD0000;">7</span>)[<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">6</span>]</span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;"># Line plot</span></span>
<span id="cb12-5">p <span class="ot" style="color: #003B4F;">&lt;-</span> time_data <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb12-6">  <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> age, <span class="at" style="color: #657422;">y =</span> minutes, <span class="at" style="color: #657422;">col =</span> person)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb12-7">  <span class="fu" style="color: #4758AB;">geom_line</span>(<span class="at" style="color: #657422;">size =</span> <span class="fl" style="color: #AD0000;">1.5</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb12-8">  <span class="fu" style="color: #4758AB;">scale_color_manual</span>(<span class="at" style="color: #657422;">values =</span> colors) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb12-9">  <span class="fu" style="color: #4758AB;">coord_cartesian</span>(<span class="at" style="color: #657422;">xlim =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">15</span>, <span class="dv" style="color: #AD0000;">81</span>), <span class="at" style="color: #657422;">expand =</span> F) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb12-10">  <span class="fu" style="color: #4758AB;">scale_y_continuous</span>(<span class="at" style="color: #657422;">minor_breaks =</span> <span class="cn" style="color: #8f5902;">NULL</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb12-11">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">'Age (in years)'</span>, <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">'Minutes'</span>, <span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'Time spent'</span>)</span>
<span id="cb12-12">p</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>보통 이렇게들 시각화하곤 하죠. 이런 종류의 그림은 스파게티 플롯(spaghetti plot)이라고 표현하기도 합니다. 우리는 또 수많은 컬러에 직면했습니다. 아울러, 이 그림 한 장만 놓고 봤을때는 무슨 말을 전달하고자 하는지 파악하기가 참 힘듭니다. 제 눈엔 우선 2가지 인사이트가 보입니다:</p>
<ol type="1">
<li>우리는 일생동안 혼자서 가장 많은 시간을 보내게 된다.</li>
<li>40대 즈음해서 아이와 보내는 시간은 줄어들면서, 혼자 보내는 시간이 많아진다.</li>
</ol>
<p>이와 같이 만약 우리가 전달하고자 하는 인사이트가 확실한 상태라면, 중요한 부분만 강조함으로써 이 지저분한 스파게티 플롯을 전달력 있는 깔끔한 스파게티 플롯으로 만들어 줄 수 있습니다. <code>ggplothighlight</code> 패키지가 그 해결책이 되어줍니다. 패키지 안의 <code>ggplothighlight()</code> 함수를 이용해 레이어를 하나더 얹어서, 필터링을 해줄 수 있어요. 아주 편리한 패키지죠. 특정 조건을 만족하지 않는 데이터 포인트는 모조리 회색으로 표현이 됩니다. 먼저 첫 번째 인사이트를 그림으로 표현해봅시다. 코드 1줄 정도만 추가해주면 가능합니다.</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;">library</span>(gghighlight)</span>
<span id="cb13-2">alone_plt <span class="ot" style="color: #003B4F;">&lt;-</span> p <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;">gghighlight</span>(person <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'alone'</span>, <span class="at" style="color: #657422;">use_direct_label =</span> F) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Emphasize just one or a few categories'</span>)</span>
<span id="cb13-5">alone_plt</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>이 그림에 텍스트를 추가하여 우리가 하고싶은 이야기를 좀 더 강조할 수도 있습니다:</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">alone_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb14-2">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb14-3">    <span class="st" style="color: #20794D;">'text'</span>,</span>
<span id="cb14-4">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">15</span>,</span>
<span id="cb14-5">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">455</span>,</span>
<span id="cb14-6">    <span class="at" style="color: #657422;">label =</span> <span class="st" style="color: #20794D;">'We spend a lot of time alone...'</span>,</span>
<span id="cb14-7">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb14-8">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb14-9">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb14-10">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">7</span></span>
<span id="cb14-11">  )</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>하고 싶은 이야기가 하나가 아니라 여러개라면 어떤 방법이 있을까요? 전혀 문제가 되지 않습니다.😀 <code>gghighlight()</code>를 사용해 그저 여러 조건 넣어주기만 하면 됩니다.</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">age_40_plt <span class="ot" style="color: #003B4F;">&lt;-</span> p <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb15-2">  <span class="fu" style="color: #4758AB;">gghighlight</span>(</span>
<span id="cb15-3">    person <span class="sc" style="color: #5E5E5E;">%in%</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">'alone'</span>, <span class="st" style="color: #20794D;">'children'</span>), </span>
<span id="cb15-4">    age <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">38</span>, </span>
<span id="cb15-5">    <span class="at" style="color: #657422;">use_direct_label =</span> F</span>
<span id="cb15-6">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-7">  <span class="fu" style="color: #4758AB;">geom_segment</span>(<span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">38</span>, <span class="at" style="color: #657422;">xend =</span> <span class="dv" style="color: #AD0000;">38</span>, <span class="at" style="color: #657422;">y =</span> <span class="sc" style="color: #5E5E5E;">-</span><span class="cn" style="color: #8f5902;">Inf</span>, <span class="at" style="color: #657422;">yend =</span> <span class="dv" style="color: #AD0000;">300</span>, <span class="at" style="color: #657422;">linetype =</span> <span class="dv" style="color: #AD0000;">2</span>, <span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'grey20'</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-8">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Emphasize just one or a few categories'</span>) </span>
<span id="cb15-9"></span>
<span id="cb15-10">age_40_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-11">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb15-12">    <span class="st" style="color: #20794D;">'text'</span>,</span>
<span id="cb15-13">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">15</span>,</span>
<span id="cb15-14">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">403</span>,</span>
<span id="cb15-15">    <span class="at" style="color: #657422;">label =</span> <span class="st" style="color: #20794D;">'Around the age of 40, we spend </span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">less time with children and </span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">more time alone.'</span>,</span>
<span id="cb15-16">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb15-17">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb15-18">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb15-19">    <span class="at" style="color: #657422;">lineheight =</span> <span class="fl" style="color: #AD0000;">0.85</span>,</span>
<span id="cb15-20">    <span class="at" style="color: #657422;">size =</span> <span class="fl" style="color: #AD0000;">5.5</span></span>
<span id="cb15-21">  )</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="라벨링-활용하기" class="level2">
<h2 class="anchored" data-anchor-id="라벨링-활용하기">라벨링 활용하기</h2>
<p>앞서 본 모든 그림들에서는 그림의 이해를 돕기위한 범례(legend)가 우측에 자리하고 있었습니다. 범례는 그림에서 꽤나 큰 공간을 차지합니다. 아울러, 범례는 그림에 집중도를 떨어뜨릴 수 있죠. 그림의 이해를 위해서는 필연적으로 범례와 그림을 번갈아가며 봐야하니까요. 이 문제를 해결할 방법은 없을까요? 범례를 없애고 그림에 라벨링을 통해 우리가 하고자 하는 이야기를 전달하면 어떨까요? 싱글 레이블에 대해서는 <code>annotate()</code>, 다중 레이블에 대해서는 <code>geom_text()</code>를 이용해 라벨링을 하면 되는데요. 우선 <code>annotate()</code>를 활용해 스파게티 플롯 예제를 개선시켜 보겠습니다:</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">alone_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-2">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb16-3">    <span class="st" style="color: #20794D;">'text'</span>,</span>
<span id="cb16-4">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">15</span>,</span>
<span id="cb16-5">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">455</span>,</span>
<span id="cb16-6">    <span class="at" style="color: #657422;">label =</span> <span class="st" style="color: #20794D;">'We spend a lot of time alone...'</span>,</span>
<span id="cb16-7">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb16-8">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb16-9">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb16-10">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">7</span></span>
<span id="cb16-11">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-12">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb16-13">    <span class="st" style="color: #20794D;">'text'</span>, </span>
<span id="cb16-14">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">70</span>, </span>
<span id="cb16-15">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">420</span>, </span>
<span id="cb16-16">    <span class="at" style="color: #657422;">label =</span> <span class="st" style="color: #20794D;">'alone'</span>,</span>
<span id="cb16-17">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb16-18">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb16-19">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">7</span>,</span>
<span id="cb16-20">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb16-21">    <span class="at" style="color: #657422;">color =</span> colors[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb16-22">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-23">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Label directly'</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-24">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">'none'</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend_label1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>이러한 방식으로 공간도 세이브하고, 그림에 집중도도 훨씬 높혀줄 수 있죠. 범례와 플롯을 눈으로 왔다갔다 할 필요도 없고요. 여기서 조금 더 개선을 해볼까요? 현재 위 그림에는 alone이라는 단어가 중복으로 들어가있죠. 강조한 선 아래 alone을 없애고 선과 동일한 색상을 좌측 문장의 alone에 넣어주는 것은 어떨까요? 더 매력적인 시각화가 될 것만 같다는 생각이 들지 않나요?</p>
<p>이를 위해서는 <code>ggtext</code> 패키지를 활용해 HTML 문법을 이용해야합니다. <code>annotation()</code>의 <code>text</code> geom을 <code>richtext</code> geom으로 바꾸고, 우리가 컬러를 반영하고자 하는 텍스트에 대해서는 HTML 코드를 포함하는 문자열을 만들어 주는 과정이 필요합니다. 말이 좀 복잡해보이지만, 코드는 꽤 간단합니다:</p>
<div class="cell" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;">library</span>(ggtext)</span>
<span id="cb17-2">color_alone <span class="ot" style="color: #003B4F;">&lt;-</span> glue<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">glue</span>(</span>
<span id="cb17-3">  <span class="st" style="color: #20794D;">"We spend a lot of time &lt;span style = 'color:{colors[1]};'&gt;alone&lt;/span&gt;..."</span></span>
<span id="cb17-4">)</span>
<span id="cb17-5">color_alone</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>We spend a lot of time &lt;span style = 'color:#E69F00;'&gt;alone&lt;/span&gt;...</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">alone_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Label directly'</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb19-4">    <span class="st" style="color: #20794D;">'richtext'</span>,</span>
<span id="cb19-5">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">15</span>,</span>
<span id="cb19-6">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">400</span>,</span>
<span id="cb19-7">    <span class="at" style="color: #657422;">label =</span> color_alone,</span>
<span id="cb19-8">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb19-9">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb19-10">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb19-11">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">6</span>,</span>
<span id="cb19-12">    <span class="at" style="color: #657422;">label.color =</span> <span class="cn" style="color: #8f5902;">NA</span></span>
<span id="cb19-13">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb19-14">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">'none'</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend_label2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>멋지지 않습니까? HTML 문법에 익숙하지 않은 분들은 컬러링을 넣어주는 형태를 기억하시기 바랍니다. 이런 식으로 직접적으로 라벨링 하는 방식은 스파게티 플롯 예제의 두 번째 인사이트를 나타내는 그림에 대해서도 손쉽게 적용이 가능합니다.</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">age_40_text <span class="ot" style="color: #003B4F;">&lt;-</span> glue<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">glue</span>(</span>
<span id="cb20-2">  <span class="st" style="color: #20794D;">"Around the age of 40, we spent &lt;br&gt; less time with </span></span>
<span id="cb20-3"><span class="st" style="color: #20794D;">  &lt;span style = 'color:{colors[2]};'&gt;children&lt;/span&gt; </span></span>
<span id="cb20-4"><span class="st" style="color: #20794D;">  and &lt;br&gt; more time &lt;span style = 'color:{colors[1]};'&gt;alone&lt;/span&gt;."</span></span>
<span id="cb20-5">)</span>
<span id="cb20-6"></span>
<span id="cb20-7">age_40_plt <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb20-8">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Label directly'</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb20-9">  <span class="fu" style="color: #4758AB;">annotate</span>(</span>
<span id="cb20-10">    <span class="st" style="color: #20794D;">'richtext'</span>,</span>
<span id="cb20-11">    <span class="at" style="color: #657422;">x =</span> <span class="dv" style="color: #AD0000;">15</span>,</span>
<span id="cb20-12">    <span class="at" style="color: #657422;">y =</span> <span class="dv" style="color: #AD0000;">350</span>,</span>
<span id="cb20-13">    <span class="at" style="color: #657422;">label =</span> age_40_text,</span>
<span id="cb20-14">    <span class="at" style="color: #657422;">hjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb20-15">    <span class="at" style="color: #657422;">vjust =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb20-16">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb20-17">    <span class="at" style="color: #657422;">lineheight =</span> <span class="fl" style="color: #AD0000;">1.25</span>,</span>
<span id="cb20-18">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb20-19">    <span class="at" style="color: #657422;">label.color =</span> <span class="cn" style="color: #8f5902;">NA</span></span>
<span id="cb20-20">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb20-21">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">'none'</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend_label3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>이런 완성도 있는 시각화는 청중 또는 대중들에게 우리가 전달하고자 하는 이야기를 직관적으로 전달해줍니다. 범례와 플롯을 눈으로 왔다갔다 하는 피로를 덜어주는 것은 덤이고요.</p>
<p>마지막으로, 우리가 초기에 했던 예제인 막대그래프(bar chart) 예제에도 이를 적용해봅시다. 해당 예제의 경우 다중 레이블에 해당하므로 <code>annotate()</code>이 아닌 <code>geom_text()</code>가 필요로 됩니다. 그런데, 어떤 이유에서인지.. 자동차 종류의 각 레이블 위치가 정렬이 안되는 문제가 있었습니다. 불가피하게 연도별, 자동차 종류별 막대그래프의 높이를 누적빈도(<code>csum</code>)로 계산하고, 레이블이 들어갈 위치(<code>n</code>)를 적당하게 잡아주는 작업을 수행했습니다.🤯 코드가 조금 복잡해 보이긴 하나, 출력된 결과를 확인하시면 어떤 작업을 진행했는지 쉽게 이해하실 수 있을겁니다.</p>
<div class="cell" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">manual_counts <span class="ot" style="color: #003B4F;">&lt;-</span> mpg <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb21-2">  <span class="fu" style="color: #4758AB;">count</span>(year, class) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb21-3">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb21-4">    <span class="at" style="color: #657422;">year =</span> <span class="fu" style="color: #4758AB;">factor</span>(year),</span>
<span id="cb21-5">    <span class="at" style="color: #657422;">class_group =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb21-6">      class <span class="sc" style="color: #5E5E5E;">%in%</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">'2seater'</span>, <span class="st" style="color: #20794D;">'compact'</span>, <span class="st" style="color: #20794D;">'midsize'</span>) <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp1"</span>,</span>
<span id="cb21-7">      class <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'minivan'</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp2"</span>,</span>
<span id="cb21-8">      T <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"grp3"</span></span>
<span id="cb21-9">    )</span>
<span id="cb21-10">  ) </span>
<span id="cb21-11">manual_counts</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 4
   year  class          n class_group
   &lt;fct&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;      
 1 1999  2seater        2 grp1       
 2 1999  compact       25 grp1       
 3 1999  midsize       20 grp1       
 4 1999  minivan        6 grp2       
 5 1999  pickup        16 grp3       
 6 1999  subcompact    19 grp3       
 7 1999  suv           29 grp3       
 8 2008  2seater        3 grp1       
 9 2008  compact       22 grp1       
10 2008  midsize       21 grp1       
11 2008  minivan        5 grp2       
12 2008  pickup        17 grp3       
13 2008  subcompact    16 grp3       
14 2008  suv           33 grp3       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1">labels <span class="ot" style="color: #003B4F;">&lt;-</span> manual_counts <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb23-2">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">class =</span> <span class="fu" style="color: #4758AB;">factor</span>(class)) <span class="sc" style="color: #5E5E5E;">|&gt;</span>  </span>
<span id="cb23-3">  <span class="fu" style="color: #4758AB;">group_by</span>(year) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb23-4">  <span class="fu" style="color: #4758AB;">arrange</span>(year, <span class="fu" style="color: #4758AB;">desc</span>(class)) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb23-5">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb23-6">    <span class="at" style="color: #657422;">csum =</span> <span class="fu" style="color: #4758AB;">cumsum</span>(n), </span>
<span id="cb23-7">    <span class="at" style="color: #657422;">n =</span> (<span class="fu" style="color: #4758AB;">lag</span>(csum, <span class="at" style="color: #657422;">default =</span> <span class="dv" style="color: #AD0000;">0</span>) <span class="sc" style="color: #5E5E5E;">+</span> csum) <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">2</span></span>
<span id="cb23-8">  )</span>
<span id="cb23-9">labels</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 5
# Groups:   year [2]
   year  class          n class_group  csum
   &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;chr&gt;       &lt;int&gt;
 1 1999  suv         14.5 grp3           29
 2 1999  subcompact  38.5 grp3           48
 3 1999  pickup      56   grp3           64
 4 1999  minivan     67   grp2           70
 5 1999  midsize     80   grp1           90
 6 1999  compact    102.  grp1          115
 7 1999  2seater    116   grp1          117
 8 2008  suv         16.5 grp3           33
 9 2008  subcompact  41   grp3           49
10 2008  pickup      57.5 grp3           66
11 2008  minivan     68.5 grp2           71
12 2008  midsize     81.5 grp1           92
13 2008  compact    103   grp1          114
14 2008  2seater    116.  grp1          117</code></pre>
</div>
</div>
<p>레이블이 들어갈 자리를 계산하는 키 아이디어는 <code>lag()</code>를 통해서 계산한 누적빈도를 0값을 시작으로해서 한칸씩 당겨주고, 계산해둔 누적 빈도(<code>csum</code>)를 더하여 2로 나눠주는 것입니다. 이 작업을 수행하면 막대그래프를 구성하는 각 칸의 중간 높이를 계산할 수 있는 것이죠.</p>
<p>아울러, 우리가 본 시각화에서 한 가지 더 극복해야할 난관은 바로 자동차의 종류 중 <code>2seater</code>의 빈도가 매우 작아서 레이블이 들어갈 자리가 없는 점이 었습니다. 그래서, <code>2seater</code>의 경우 레이블을 막대의 맨 위에 표시되도록 하였습니다. 이러한 모든 난관들을 극복하고 완성한 그림을 공개합니다.</p>
<div class="cell" data-layout-align="center" data-fig.showtext="true">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1">manual_counts <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb25-2">  <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> year, <span class="at" style="color: #657422;">y =</span> n, <span class="at" style="color: #657422;">fill =</span> class_group)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-3">  <span class="fu" style="color: #4758AB;">geom_col</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">alpha =</span> class), <span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'white'</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-4">  <span class="fu" style="color: #4758AB;">scale_fill_manual</span>(<span class="at" style="color: #657422;">values =</span> colors) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-5">  <span class="fu" style="color: #4758AB;">scale_alpha_manual</span>(<span class="at" style="color: #657422;">values =</span> alpha_vals) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-6">  <span class="fu" style="color: #4758AB;">labs</span>(</span>
<span id="cb25-7">    <span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">'Year'</span>,</span>
<span id="cb25-8">    <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">'Counts'</span>,</span>
<span id="cb25-9">    <span class="at" style="color: #657422;">alpha =</span> <span class="st" style="color: #20794D;">'Class'</span>,</span>
<span id="cb25-10">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">'Label directly'</span></span>
<span id="cb25-11">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-12">  <span class="co" style="color: #5E5E5E;"># Add all but one label</span></span>
<span id="cb25-13">  <span class="fu" style="color: #4758AB;">geom_text</span>(</span>
<span id="cb25-14">    <span class="at" style="color: #657422;">data =</span> labels <span class="sc" style="color: #5E5E5E;">|&gt;</span> <span class="fu" style="color: #4758AB;">filter</span>(class <span class="sc" style="color: #5E5E5E;">!=</span> <span class="st" style="color: #20794D;">'2seater'</span>),</span>
<span id="cb25-15">    <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">label =</span> class), </span>
<span id="cb25-16">    <span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'white'</span>,</span>
<span id="cb25-17">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb25-18">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb25-19">    <span class="at" style="color: #657422;">fontface =</span> <span class="st" style="color: #20794D;">'bold'</span></span>
<span id="cb25-20">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-21">  <span class="co" style="color: #5E5E5E;"># Add 2seater label</span></span>
<span id="cb25-22">  <span class="fu" style="color: #4758AB;">geom_text</span>(</span>
<span id="cb25-23">    <span class="at" style="color: #657422;">data =</span> labels <span class="sc" style="color: #5E5E5E;">|&gt;</span> <span class="fu" style="color: #4758AB;">filter</span>(class <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'2seater'</span>),</span>
<span id="cb25-24">    <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">y =</span> n <span class="sc" style="color: #5E5E5E;">+</span> <span class="dv" style="color: #AD0000;">3</span>, <span class="at" style="color: #657422;">label =</span> class), </span>
<span id="cb25-25">    <span class="at" style="color: #657422;">col =</span> <span class="st" style="color: #20794D;">'black'</span>,</span>
<span id="cb25-26">    <span class="at" style="color: #657422;">family =</span> <span class="st" style="color: #20794D;">'firasans'</span>,</span>
<span id="cb25-27">    <span class="at" style="color: #657422;">size =</span> <span class="dv" style="color: #AD0000;">5</span>,</span>
<span id="cb25-28">    <span class="at" style="color: #657422;">fontface =</span> <span class="st" style="color: #20794D;">'bold'</span></span>
<span id="cb25-29">  ) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb25-30">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">'none'</span>) </span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index_files/figure-html/spend_label4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>분석을 시작하며 혼자 가볍게 EDA를 하는 단계에서 본 예제와 같이 시각화를 개선해나가는 작업은 필요로 되지 않을겁니다. 오히려 시간 낭비일수도 있구요. 그러나, 내가 얻은 인사이트를 전달하는 자리 또는 데이터를 기반으로 누군가를 설득해야하는 자리에서는 이 글에서 제공하는 몇 가지 방법이 꽤나 도움이 될 것이라고 생각합니다. 물론, 전달하고자 하는 내용이 한 눈에 들어도록 시각화를 수행하는 작업은 의외로 쉬울 때도 있지만, 꽤나 까다로운 과정을 거쳐야하는 상황도 존재합니다. 실무에서는 이와는 또다른 예상치 못한 까다로운 문제들을 겪는 상황들이 있을 수도 있구요. 다만, 본 글에서 그림의 퀄리티를 단계단계 개선해나간 바와 같이 전달하고자 하는 내용을 명확히하고 충분한 시간을 숙고해 그림을 개선해 나간다면, 뭐든 해결할 수 있을 것이라고 봅니다. 하고자 하는 시각화를 구현하지 못해낸다고 하더라도 그 과정 속에서 배우는 것은 분명히 존재할 것입니다. 처음부터 완벽하게 아름다운 시각화를 해낼 수 있는 사람은 없다는 것을 기억하셨으면 합니다.😁</p>
<p>이번 포스팅을 준비하며 참고했던 글은 올해 봤던 데이터 시각화 관련 아티클 중 제게 가장 큰 임팩트를 주는 글이었습니다. 누구나 하는 평범한 시각화를 비범하게 만들어주는 글이라고 표현하면 적절할까요? 많은 사람들이 알았으면 하는 내용이라, 8월 서울 R 미트업에서 본 내용을 주제로 <a href="https://be-favorite.github.io/Presentation_archive/coloring_guide/coloring_guide.html?fbclid=IwAR25qqDhVFzBVsp8u9PaV93pbzxA03wE8paPF0-u7oBVKFMT5gZtPCupono#1">발표</a>를 하기도 했습니다. 지금 이 글을 읽고 계신 여러분들에게도 좋은 인사이트를 줄 수 있는 글이 되었으면 합니다.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
세션정보를 보려면 누르세요
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell" data-fig.showtext="true">
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.1 (2022-06-23)
 os       macOS Monterey 12.6
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Asia/Seoul
 date     2022-09-20
 pandoc   2.18 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/tools/ (via rmarkdown)
 quarto   1.0.38 @ /usr/local/bin/quarto

─ Packages ───────────────────────────────────────────────────────────────────
 package     * version date (UTC) lib source
 dplyr       * 1.0.9   2022-04-28 [1] CRAN (R 4.2.0)
 forcats     * 0.5.1   2021-01-27 [1] CRAN (R 4.2.0)
 gghighlight * 0.3.3   2022-06-06 [1] CRAN (R 4.2.0)
 ggplot2     * 3.3.6   2022-05-03 [1] CRAN (R 4.2.0)
 ggtext      * 0.1.1   2020-12-17 [1] CRAN (R 4.2.0)
 purrr       * 0.3.4   2020-04-17 [1] CRAN (R 4.2.0)
 readr       * 2.1.2   2022-01-30 [1] CRAN (R 4.2.0)
 rmarkdown   * 2.14    2022-04-25 [1] CRAN (R 4.2.0)
 sessioninfo * 1.2.2   2021-12-06 [1] CRAN (R 4.2.0)
 showtext    * 0.9-5   2022-02-09 [1] CRAN (R 4.2.0)
 showtextdb  * 3.0     2020-06-04 [1] CRAN (R 4.2.0)
 stringr     * 1.4.0   2019-02-10 [1] CRAN (R 4.2.0)
 sysfonts    * 0.8.8   2022-03-13 [1] CRAN (R 4.2.0)
 tibble      * 3.1.8   2022-07-22 [1] CRAN (R 4.2.0)
 tidyr       * 1.2.0   2022-02-01 [1] CRAN (R 4.2.0)
 tidyverse   * 1.3.2   2022-07-18 [1] CRAN (R 4.2.0)

 [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
</div>
</div>
</div>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-rapp2022" class="csl-entry">
Rapp, Albert. 2022. <span>“4 Ways to Use Colors in Ggplot More Efficiently.”</span> <a href="https://albert-rapp.de/posts/ggplot2-tips/07_four_ways_colors_more_efficiently/07_four_ways_colors_more_efficiently.html">https://albert-rapp.de/posts/ggplot2-tips/07_four_ways_colors_more_efficiently/07_four_ways_colors_more_efficiently.html</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>🔗<a href="http://aispiration.com/viz/viz-ggplot2-practice.html">그래프 문법이란?</a>↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {ggplot2 컬러링 가이드},
  date = {2022-08-14},
  url = {https://www.taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“ggplot2 컬러링 가이드.”</span> August 14, 2022. <a href="https://www.taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/">https://www.taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/</a>.
</div></div></section></div> ]]></description>
  <category>Visualization</category>
  <category>R</category>
  <guid>https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/index.html</guid>
  <pubDate>Sat, 13 Aug 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-08-07-coloring-guide-for-ggplot2/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>월간 회고록: 2022년 4월</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-06-08-monthly-memory-202204/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/t0SlmanfFcg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-06-08-monthly-memory-202204/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Fredy Jacob on Unsplash</figcaption><p></p>
</figure>
</div>
<section id="새로운-스터디를-시작하다" class="level2">
<h2 class="anchored" data-anchor-id="새로운-스터디를-시작하다">새로운 스터디를 시작하다</h2>
<p>올해 3월부터 SQL 스터디, Python 코딩테스트, Tensorflow 스터디를 시작했습니다. 올 초부터 다양한 기업의 Data Scientist 채용 공고를 둘러봤고, 아무래도 이 세 가지는 꼭 필요로 된다고 느꼈습니다. “왜 이제 와서 시작하냐?” 하는 생각을 가지시는 분들이 많으실 것 같습니다. 작년에 대학원을 졸업했고 실무에서 1년차를 넘긴 지금에서야 말이죠. 지금부터 그 이야기를 풀어보려고 합니다. 사실, 지금 생각해보면 대학원 때 시작했어야할 것을 이제서야 시작한다는게.. 참 많이 늦은 감있습니다. 하지만, 늦었을 때가 가장 빠른?..뭐 이런 말로 위로를 삼아봅니다..</p>
<p>사실 코딩테스트는 학부생 시절 대학원에 진학하기 전에 잠깐 취업 준비를 해보면서, 대학원을 졸업하고 취업 준비를 하면서 몇 번 치뤘던 적이 있습니다. R이 주 언어인 사람에게 다행스러웠던 것은 이때 치뤘던 코딩테스트들에서는 다행히 R을 지원해줬었다는 점이죠. 두시간 세시간 붙잡고 알고리즘 한두문제를 겨우 풀어서 제출했던 기억이 있습니다. 함수를 다 짜서 제출하면 뭐하나요, 뭣도 모르고 입력을 받아야하는 <code>input()</code>도 안해서 테스트케이스는 다 틀리는데 말이죠.😅 네, 당연히 항상 결과는 불합격이었습니다.</p>
<section id="그래서-이제서야-시작한-이유는.." class="level3">
<h3 class="anchored" data-anchor-id="그래서-이제서야-시작한-이유는..">그래서, 이제서야 시작한 이유는?..</h3>
<p>참 부끄럽지만 “내가 이걸 왜 준비해야하지?”라는 고집같은 생각을 했습니다. 내가 개발자도 아니고, Data science를 하고 싶은 사람인데 굳이 알고리즘 문제를 왜 잘 풀어내야하지? 왜 이런 것을 요구하는 걸까? 하는 생각을 했었죠. 지금 생각하면 참 바보같습니다. 아시다시피 요즘 나오는 여러분들이 이름만 대면 알만한 대기업, 빅 플랫폼 기업, 금융 기관의 Data Scientist 나 Data Analyst 채용 공고를 보시면 면접 전형 전에 꼭 코딩테스트가 포함되어 있습니다.<sup>1</sup> 극 소수의 대기업에서는 면접 전형 전 코딩테스트 대신 사전 과제 또는 Data Analyst의 경우 SQL 쿼리 테스트를 진행하는 경우도 있긴 합니다만, 코딩테스트가 포함된 형태의 채용 전형은 앞으로 기업들 사이에서 더더욱 확대될 것이라고 봅니다.</p>
<p>과거에는 코딩테스트 공부는 거들떠보지 않았던 제가 지금에서야 공부를 시작한 이유는 “내가 이걸 왜 준비해야하지?”와 같이 어리석은 고집같은 생각을 버리고 그간 여러 생각을 해왔기 때문입니다. 먼저 “과연 내가 Data Science를 수행하기 위해 가고싶은 마음 속 업계 또는 기업만을 위해서 한 노력이 있는가?”에 대해 생각했고, 수많은 지원자를 평가해야만하는 기업과 실무자의 입장을 생각하기 시작하면서 제 관점은 많이 바뀌기 시작했습니다. 대기업, 우리가 이름만 대면 알만한 핫한 기업에는 수많은 지원자가 몰립니다. 그들의 입장에서 생각해보면, 다른 전형 없이 서류전형에서 각 지원자들의 서류를 세세하게 평가하여 바로 면접 전형을 진행하는 것은 결코 불가능합니다. 그래서, 코딩테스트와 같이 객관적인 평가 기준으로 지원자들을 한 번 걸러내는 작업이 필요로 되는 것이라 생각합니다. 공기업 채용 전형에서의 NCS, 사기업 채용 전형에서의 적성 평가<sup>2</sup>와 같은 것과 같은 맥락으로, 개발 직군에게는 코딩테스트라는 것이 존재하는 것이죠. 과거에는 이러한 형태의 채용 전형을 이해하고 싶지 않았습니다. 기업의 Culture fit과 얼마나 맞는지에 관한 인성 검사와 같은 것들은 꼭 필요로 된다고 생각했지만, NCS, 직무적성검사, 코딩테스트 같은 것들은 실질적인 직무 수행 능력과 직결이 되는 것도 아닌데, 왜 치뤄야 하는지에 대해 이해가 안됐었죠. 지금은 백 번 이해합니다. 오하려 과거에 되도 않는 고집을 피우며 코딩테스트 공부를 거들떠보지 않았던 저를 참 한심하게 생각하고있습니다.🤬</p>
<p>아무튼 이러한 모티베이션에서 코딩테스트를 시작했고, SQL을 현업에서 다루고 있지만 SQL 쿼리테스트 스터디도 시작을 했습니다. 아울러, Tensorflow의 경우는 수많은 Data Scientist 채용공고를 둘러본 결과, torch나 tensorflow 등과 같은 머신러닝 프레임워크 하나 정도는 다룰 줄 알아야 될 것 같음을 느껴 시작하게 됐습니다. 여러 프레임워크 중 Tensorflow를 선택한 이유는, 현재 M1 GPU를 지원해주는 유일한 프레임워크이기 때문입니다. 그마저도 싱글코어긴 합니다..(사실 torch를 배워보고 싶었는데,,) 그리고, R의 <code>{tidymodels}</code>을 통해 머신러닝을 수행할 수 있긴 합니다만, 우리나라 업계의 Data Scientist 채용 공고에서 아직 R의 {<code>tidymodels}</code>를 기재해놓은 공고는 본 적이 없습니다. Python의 <code>scikit-learn</code>을 요구하는 경우는 종종 봤지만 말이죠. 참 씁쓸하네요..😭 개인적으로 <code>{tidymodels}</code>은 <code>scikit-learn</code>과 비교하기 미안할 정도로 더 좋은 패키지인데 말이죠. 아무튼, Tensorflow 스터디는 4월에 아카이브를 만들어 놓고, 업무와 다른 일을 핑계로 아직도 제대로 시작하지 않고 있네요.. 마침 <a href="https://blogs.rstudio.com/ai/posts/2022-05-31-deep-learning-with-r-2e/?mkt_tok=NzA5LU5YTi03MDYAAAGEugjK5s0WK9Yt8QgktUSo91UjP8rlXojWkl1tJD8O5g2PEP-Zj73idzPlemuIYwG3i3aRhpMS_ytU5MdD_FpSvd_MegkxOkGu0N2XfMjSEuk">Deep Learning with R, Second Edition</a>이 곧 출판을 앞두고 있다는 소식을 들었는데, 이 책으로 스터디를 진행할까 합니다. 아니, 해야죠!</p>
<ul>
<li><p><a href="https://github.com/be-favorite/Study_SQL">🔗SQL 스터디</a></p></li>
<li><p><a href="https://github.com/be-favorite/Study_coding">🔗Python 코딩테스트 스터디</a></p></li>
<li><p><a href="https://github.com/be-favorite/Study_tf">🔗Tensorflow 스터디</a></p></li>
</ul>
</section>
</section>
<section id="이력서-포트폴리오-제작기" class="level2">
<h2 class="anchored" data-anchor-id="이력서-포트폴리오-제작기">이력서, 포트폴리오 제작기</h2>
<p>기존에는 <a href="https://www.canva.com/ko_kr/">canva</a>로 이력서와 경력기술서를 관리하고, 포트폴리오는 애플 키노트로 관리하고 있었는데 하나의 툴로 관리하고 싶었어요. R 마크다운과 노션 중에 고민하다가 노션으로 택했습니다. R Markdown에 비해 웹 공유도 편하고, PDF 변환, 그리고 무엇보다 디자인적인 요소가 훨씬 낫다고 생각했습니다. 그리고, R Markdown으로 관리했을 때 얻을 수 있는 베네핏도 딱히 없다고 생각했고, 이력서뿐만이 아니라 포트폴리오까지 함께 관리하기엔 노션이 확실히 편합니다. 이번에 노션으로 이력서와 포트폴리오를 다시 쭉 작성하며 참고해봤던 자료들입니다:</p>
<ul>
<li><p><a href="https://wonny.space/writing/work/engineer-resume">🔗개발자 이력서 작성하기</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=4w7087s87Wg&amp;t=358s">🔗eo - 최고의 직장에서 깨달은 내 몸값을 높이는 스킬 | 커리어 액셀러레이터 김나이</a></p></li>
<li><p><a href="https://www.notion.so/danahk/Kim-Dan-Ah-ba7563508986456abce3516d2e75bb41">🔗Data Scientist 김단아님 노션 Resume</a></p></li>
</ul>
<p>참고할만한 노션 Resume의 99%는 개발자 이력서이고 나머지는 통계학과 외에 다른 백그라운드로 Data Science를 하시는 분들의 이력서 뿐인데, 김단아님은 저와 같은 통계학 백그라운드로 Data Science를 하시는 분이라 참 많은 도움이 됐습니다. 이력서, 포트폴리오를 만들고 다듬는데에 대략 4일정도 걸린 것 같습니다. 이미 작성된 이력서, 경력기술서, 포트폴리오가 있었음에도 불구하고, 지겹고 힘들더군요.😪 참고했던 글, 영상 들에서 공통적으로 주장하는 이력서와 포트폴리오의 주요 포인트는 다음과 같습니다:</p>
<ul>
<li><p>내가 “어떤 것을 했다.”와 같이 팩트만 펼처 놓는 것이 아닌, 나의 강점을 펼치고 상대방을 설득할 수 있도록 기술하자</p></li>
<li><p>이력서는 영화 예고편과 같다. 짧고 간결하게 꼭 보여주고 싶은 것들만 컴팩트하게 담자</p></li>
<li><p>경험과 직무를 연결하자</p></li>
<li><p>가능하다면 숫자로 성과를 드러내라</p>
<ul>
<li>숫자로 표현할 수 없다면, 그 일을 왜 했는지, 타겟이 누구였는지 디테일하게 담아보자</li>
</ul></li>
<li><p>개발 직군의 경우 다룰줄 아는 Tool의 수준을 나타내는 것은 지양하자</p>
<ul>
<li>Tool의 수준에는 주관이 개입하기 마련이고, 객관적인 기준이 없기 때문</li>
<li>개인적으로 주 언어정도를 표기하는 것은 나쁘지않다고 봄</li>
<li>나머지 본인이 다루는 각 Tool의 수준은 포트폴리오에서 자연스럽게 드러나야함</li>
</ul></li>
<li><p>경력 기술, 포트폴리오 작성 시 Data Privacy, Research Privacy, 업무 상 비밀은 꼭 지켜야 함</p>
<ul>
<li>이를 지키지 않으면 이력서를 평가하는 사람 입장에서도 큰 (-)가 될 수 있음</li>
<li>Privacy를 지키기 위해 마스킹이 필요한 부분은 꼭 마스킹하여 기술하자</li>
</ul></li>
</ul>
<p>버려야 하는 내용은 과감하게 버려야하는데, 이게 참 어려웠던 것 같습니다. Privacy를 지키는 일도 매우 중요한데, 꽤 귀찮았고요.😅</p>
<p>이직을 계획하고 계신 분들이 아니여도 이력서, 포트폴리오를 틈틈히 정리해두는 습관은 꼭 필요합니다. 이력서와 포트폴리오가 꼭 필요한 상황에 닥쳐서 한꺼번에 지금까지 해온 것들을 정리하는 작업은 정말 힘든 일입니다. 정말 많은 시간이 소요될 것이고, 사람의 기억력에는 한계가 있기 때문에 틈틈히 주기적으로 이력서와 포트폴리오를 관리해온 사람에 비해 좋은 퀄리티를 갖기도 힘들 것입니다. 더군다나, 요새는 “평생직장”이 아닌 “평생직업”을 바라보고 살아가야하는 세상이기에 본인 PR을 할 줄 알아야합니다. 과장 좀 보태서 이야기 해보면, 본인이 한 것은 100인데 50으로 밖에 포장을 못하는 사람이 있는 반면, 본인이 한 것은 70인데 100만큼 포장할 줄 아는 사람이 있습니다. 본인이 어디쯤 위치하는 사람인지 곰곰이 생각해보시기 바랍니다. 그래서, 커리어를 쌓아가는 데에 있어서 본인이 이루어 낸 것들을 주기적으로 잘 정리하고 포장하는 것은 기본 중의 기본이라 생각합니다. 이직 계획과는 무관하게 적어도 분기에 1번 정도는 이력서와 포트폴리오의 유지보수에 시간을 투자하는 것을 적극 권장합니다. 나라는 상품을 취업 시장에 내놓는데, 다른 상품들과의 차별점을 꾀하기 위해 이정도 노력은 꼭 필요하지 않겠습니까? 이런 노력 없이도 남들보다 훨씬 더 뛰어난 무언가를 갖고 있는 인재가 아닌 이상 말이죠.</p>
<p>마지막으로 4일 간의 끈질긴 작업 끝에 완성한 제 이력서와 포트폴리오 링크를 첨부하면서 회고를 마칩니다. 앞서 말씀드렸던 사항들을 최대한 지키려고 노력했지만, 잘 지켜졌는지.. 틈틈히 들여다 보고 유지보수 해나가려고 합니다.</p>
<ul>
<li><a href="https://resume-taemo.notion.site">🔗방태모의 이력서</a></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>반면에, 규모가 조금 작고 지원자가 대기업에 비해 적은 수준에 머무르는 스타트업의 경우는 대개 면접 전형 이전에 서류 전형과 사전 과제 전형을 통해 지원자를 평가합니다.↩︎</p></li>
<li id="fn2"><p>삼성의 GSAT, 현대의 HMAT과 같은↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {월간 회고록: 2022년 4월},
  date = {2022-06-08},
  url = {https://taemobang.com/posts/2022-06-08-monthly-memory-202204/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“월간 회고록: 2022년 4월.”</span> June 8, 2022. <a href="https://taemobang.com/posts/2022-06-08-monthly-memory-202204/">https://taemobang.com/posts/2022-06-08-monthly-memory-202204/</a>.
</div></div></section></div> ]]></description>
  <category>Memory</category>
  <guid>https://taemobang.com/posts/2022-06-08-monthly-memory-202204/index.html</guid>
  <pubDate>Tue, 07 Jun 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-06-08-monthly-memory-202204/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>논문 요약 - Simões et al (2022)</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/index.html</link>
  <description><![CDATA[ 



<aside>
<p>Prerequisite: <a href="https://www.taemobang.com/posts/2022-05-13-how-to-review-a-paper/">논문 요약 방식</a></p>
</aside>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/JbfhNrpQ_dw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Ella Ivanescu on Unsplash</figcaption><p></p>
</figure>
</div>
<section id="st-read" class="level2">
<h2 class="anchored" data-anchor-id="st-read">1st read</h2>
<section id="category" class="level3">
<h3 class="anchored" data-anchor-id="category">Category</h3>
<ul>
<li>Research paper</li>
</ul>
</section>
<section id="main-topic" class="level3">
<h3 class="anchored" data-anchor-id="main-topic">Main Topic</h3>
<section id="제목" class="level4">
<h4 class="anchored" data-anchor-id="제목">제목</h4>
<ul>
<li>Cardiac dyspnea risk zones in the South of France identified by geo-pollution trends study - <span class="citation" data-cites="simões2022b">(Simões et al. 2022)</span></li>
</ul>
</section>
<section id="주제" class="level4">
<h4 class="anchored" data-anchor-id="주제">주제</h4>
<ul>
<li>프랑스 남부 지역의 Cardiac dyspnea(CD, 이하 심호흡곤란) 발생에 미치는 대기오염원(<img src="https://latex.codecogs.com/png.latex?%5Crm%7BPM%7D_%7B10%7D">, <img src="https://latex.codecogs.com/png.latex?%5Crm%7BNO%7D_%7B2%7D">, <img src="https://latex.codecogs.com/png.latex?%5Crm%7BO%7D_%7B3%7D">) 영향 평가</li>
</ul>
</section>
</section>
<section id="context" class="level3">
<h3 class="anchored" data-anchor-id="context">Context</h3>
<ul>
<li><p>선행 연구들에서 대기오염원에 관한 단기 노출이 심근경색(myocardial infarction), 울혈성심부전(congestive heart failure)과 같은 몇몇 심혈관 병리(cardiovascular pathologies)들에 미치는 영향을 평가하긴 했으나, 심호흡곤란의 경우 이러한 관계를 아직 완전히 입증하지 못함</p></li>
<li><p>따라서, 본 연구의 목적은 대기오염원, 기상요인, 심호흡곤란 입원 데이터를 활용해 심호흡곤란 입원 발생 원인에 관한 메커니즘을 알아보고, 이를 예방하기 위한 정책을 개발하는 것에 있음</p></li>
<li><p>본 연구의 주요 방법론은 <a href="https://be-favorite.tistory.com/80?category=1019644">Distributed lag non linear model</a>(이하, DLNM)과 메타분석(Meta analysis)에 해당함</p></li>
</ul>
</section>
<section id="correctness" class="level3">
<h3 class="anchored" data-anchor-id="correctness">Correctness</h3>
<ul>
<li><p>기상요인(meteorological factors)들을 공변량(coviariates)으로 활용하는데, 다중공선성(multicollinearity)을 피하기 위해 상관이 존재할만한 두 변수 중 하나의 변수만 모형에 포함시킴</p></li>
<li><p>최대 지연 효과(maximum lag days)는 14일까지 고려하였으나, 이에 관한 합리적 근거는 없다고 보여짐</p></li>
</ul>
</section>
<section id="contributions" class="level3">
<h3 class="anchored" data-anchor-id="contributions">Contributions</h3>
<ul>
<li><p>프랑스 남부 전체 지역의 심호흡곤란 입원 발생에 관한 대기오염원의 영향을 평가한 첫 번째 연구</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Crm%7BNO%7D_2">, <img src="https://latex.codecogs.com/png.latex?%5Crm%7BO%7D_3">, <img src="https://latex.codecogs.com/png.latex?%5Crm%7BPM%7D_%7B10%7D">에 단기 노출이 심호흡곤란으로 인한 응급실 방문을 증가시킨다는 것에 관한 유의한 증거 제시</p></li>
<li><p>본 논문의 접근 방식은 공중 보건 정책에 관한 예측 도구로서 대기오염원 모니터링을 효과적으로 제안함</p></li>
</ul>
</section>
<section id="clarity" class="level3">
<h3 class="anchored" data-anchor-id="clarity">Clarity</h3>
<ul>
<li>지금까지 읽어본 바로는 명료하게 잘 쓰인 논문이라 생각됨</li>
</ul>
</section>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>본 논문을 통해 실제 각 도시별 DLNM을 이용한 대기오염원 건강영향평가 수행 후, 메타분석으로 오버롤한 결과를 제시할 수 있음을 확인했습니다. 메타분석을 어떻게 진행하였는지에 관한 이론적 부분은 자세하게 기술되어 있지 않아서 두 번째 읽기는 진행하지 않았으나, 도시별 분석 결과를 메타분석을 통해 종합할 수 있다는 것을 확인하는 것으로는 첫 번째 읽기로도 충분했습니다.</p>
<p>본 논문에 쓰인 메타분석은 일반적으로 임상연구에서 수행하는 메타분석을 다양한 상황에 쓸 수 있도록 일반화하여 확장시킨 형태의 메타분석 방법론이라고 보시면 됩니다. 해당 방법론을 깊이있게 이해하기 위해서는 <span class="citation" data-cites="sera2019">(Sera et al. 2019)</span>을 참고하시면 됩니다. 해당 논문의 예제 R 소스코드는 <a href="https://github.com/gasparrini/2019_sera_StatMed_Rcode">여기</a>를 참고하시면 됩니다. 다양한 형태의 분석을 수행한 뒤에 <code>library(mixmeta)</code>를 통해 메타분석을 수행하여 결과를 종합하는 과정을 보여준다는 점에서 큰 의미가 있습니다. 그러나, 정작 제가 필요로하는 DLNM으로 건강영향평가를 도시별로 수행한 뒤에 메타분석을 하는 소스코드는 없다는 점이 조금 아쉬웠습니다.😂 그래서, 추가적으로 <span class="citation" data-cites="gasparrini2012a">(Gasparrini, Armstrong, and Kenward 2012)</span>에서 제공하는 <a href="https://github.com/gasparrini/2012_gasparrini_StatMed_Rcodedata">R 예제 소스코드</a>를 함께 참고했습니다. 확장된 형태의 메타분석인 <span class="citation" data-cites="sera2019">(Sera et al. 2019)</span>가 나오기 전이라 <code>library(mvmeta)</code>를 통해 분석이 진행되긴 합니다만, <code>library(mixmeta)</code>와 똑같은 로직으로 분석이 진행되기 때문에 해당 소스코드를 함께 참고하시면 도시별 DLNM 분석 결과를 메타분석하는 것을 어렵지 않게 구현하실 수 있을겁니다.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-gasparrini2012a" class="csl-entry">
Gasparrini, A., B. Armstrong, and M. G. Kenward. 2012. <span>“Multivariate Meta-Analysis for Non-Linear and Other Multi-Parameter Associations.”</span> <em>Statistics in Medicine</em> 31 (29): 3821–39. <a href="https://doi.org/10.1002/sim.5471">https://doi.org/10.1002/sim.5471</a>.
</div>
<div id="ref-sera2019" class="csl-entry">
Sera, Francesco, Benedict Armstrong, Marta Blangiardo, and Antonio Gasparrini. 2019. <span>“An extended mixed-effects framework for meta-analysis.”</span> <em>Statistics in Medicine</em> 38 (29): 5429–44. <a href="https://doi.org/10.1002/sim.8362">https://doi.org/10.1002/sim.8362</a>.
</div>
<div id="ref-simões2022b" class="csl-entry">
Simões, Fanny, Charles Bouveyron, Damien Piga, Damien Borel, Stéphane Descombes, Véronique Paquis-Flucklinger, Jaques Levraut, Pierre Gibelin, and Silvia Bottini. 2022. <span>“Cardiac Dyspnea Risk Zones in the South of France Identified by Geo-Pollution Trends Study.”</span> <em>Scientific Reports</em> 12 (February). <a href="https://doi.org/10.1038/s41598-022-05827-2">https://doi.org/10.1038/s41598-022-05827-2</a>.
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {논문 요약 - Simões et al (2022)},
  date = {2022-05-24},
  url = {https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“논문 요약 - Simões et al (2022).”</span> May 24,
2022. <a href="https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/">https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/</a>.
</div></div></section></div> ]]></description>
  <category>Time Series</category>
  <category>Paper</category>
  <guid>https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/index.html</guid>
  <pubDate>Mon, 23 May 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-05-24-paper-review-simes-et-al-2022/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>관심 논문 읽고 요약하기</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/CKlHKtCJZKk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Aaron Burden on Unsplash</figcaption><p></p>
</figure>
</div>
<aside>
<p>이 글은 <span class="citation" data-cites="an2022">(An 2022)</span>을 기반으로 작성되었습니다.</p>
</aside>
<p>논문 읽기가 초심자에게는 만만치않은 작업인 만큼, 논문을 정리하는 자기만의 방식을 만들어 놓는 것은 참 중요합니다. 저 또한 아직 초심자라고 생각하고 있는데요, 오늘은 제가 관심있는 논문을 읽고 정리하는 방식에 대해 얘기해보려고 합니다. 제가 스스로 터득한 방법을 소개드리는 것은 아닙니다. 논문을 읽고 정리하는 좋은 방식이 있나 싶어 검색을 하던 도중 좋은 글<span class="citation" data-cites="an2022">(An 2022)</span>을 발견하게 됐고, 이 글을 바탕으로 저만의 방식을 정립해봤습니다. 좋은 글을 써주신 안수빈님께 감사의 마음을 전합니다.</p>
<p>논문 요약은 <strong>1st read(첫 번째 읽기)</strong>, <strong>2nd read(두 번째 읽기)</strong> 2가지 섹션으로 진행할 것입니다. <strong>1st read</strong>의 결과에 따라 <strong>2nd read</strong>는 진행되지 않을 수도 있습니다.</p>
<section id="st-read" class="level2">
<h2 class="anchored" data-anchor-id="st-read">1st read</h2>
<p>첫 번째 읽기의 핵심은 빠르게 읽으며 논문의 큰 그림을 파악하는 것이라고 합니다. 5분에서 10분 정도 다음 순서에 따라 읽으라고 권합니다.</p>
<ol type="1">
<li><p><strong>제목(title)</strong>, <strong>초록(abstract)</strong>, <strong>소개(introduction)</strong>를 집중해서 읽으세요.</p></li>
<li><p><strong>섹션(section)</strong>과 <strong>하위 섹션(subsection)</strong>의 세부내용은 무시하고 제목만 읽으세요.</p></li>
<li><p><strong>결론(conclusion)</strong>을 읽으세요.</p></li>
<li><p><strong>참고문헌(reference)</strong>을 보며 저자가 인용한 논문, 이전에 읽은 논문에 대해 가볍게 체크하세요.</p></li>
</ol>
<p>먼저 <strong>1st read</strong>에서는 논문을 빠르게 읽으면서 파악한 전반적인 그림에 관해 기술합니다. <strong>첫 번째 읽기</strong>를 하고나서는 다음의 여섯 가지(<strong>5C</strong> + <strong>1M</strong>)를 답할 줄 알아야 하며, 본 블로그에서 요약할 논문들 또한 다음과 같은 섹션으로 요약하려고 합니다.</p>
<ul>
<li><p><strong>Category</strong>: 논문의 종류</p></li>
<li><p><strong>Main Topic</strong>: 논문 제목 및 주제</p></li>
<li><p><strong>Context</strong>: 다른 페이퍼들과의 관계, 문제를 풀기 위해 사용한 이론적 바탕</p></li>
<li><p><strong>Correctness</strong>: 논문에 필요한 가정의 명확성</p></li>
<li><p><strong>Contributions</strong>: 논문의 핵심 기여</p></li>
<li><p><strong>Clarity</strong>: 논문의 가독성, 명료함</p></li>
</ul>
<p>논문에 필요한 가정의 명확성(<strong>Correctness</strong>)은 제 경우 보통 방법론 부분에서 모델에서 요구하는 가정이나 모델링 과정의 각 단계가 합리적인 근거로 진행 되었는지에 관심이 있으므로, 첫 번째 읽기에서 <strong>Method</strong> 부분을 빠르게 검토해보는 과정이 필요로 될 것 같습니다. 아울러, 논문의 가독성과 명확성(<strong>Clarity</strong>)에 관한 부분은 잘 아는 분야가 아니라면 감히 기술하기 어려울 것 같습니다. 때때로 생략할 수도 있는 부분입니다.😅 그리고, 논문의 종류(<strong>Category</strong>)는 이 글<span class="citation" data-cites="hong2012">(Hong 2012)</span>을 참고하세요. <strong>5C</strong> + <strong>1M</strong>을 바탕으로 논문을 더 읽을지 말지 선택할 것입니다. 더 읽지 않는 결정을 한다면, 대부분은 다음의 이유일 겁니다.</p>
<ul>
<li><p>관심이 없는 내용</p></li>
<li><p>해당 논문을 읽기엔 사전 지식이 부족</p></li>
<li><p>저자의 가정이 모호 또는 불명확</p></li>
</ul>
<p>만약, 꼭 읽어야만 하는 논문임에도 해당 논문을 읽기에 사전 지식이 부족하다면, 참고문헌(reference)들을 다시 검토해보면서 관심있는 연구 분야의 핵심 연구라고 생각 되는 것을 찾아내 읽어보는 과정을 가져야 할겁니다. 또는, 논문에 쓰인 방법론에 관한 이해가 안되어 있는 상태라면 해당 방법론의 Method paper나 Review paper를 찾아보는 것도 큰 도움이 될 겁니다.</p>
</section>
<section id="nd-read" class="level2">
<h2 class="anchored" data-anchor-id="nd-read">2nd read</h2>
<p><strong>2nd read</strong>에서는 좀 더 세부적인 내용에 집중하라고 합니다. 단, 증명같은 디테일은 무시한채 말이죠. 핵심 사항을 노트에 적거나 테두리에 본인의 의견을 써놓는 것을 권장합니다. 두 번째 읽기는 약 1시간 정도가 소모됩니다. 처음 접하는 분야의 논문이나 개인의 논문 독해 실력에 따라 훨씬 더 많은 시간이 소요될 수도 있습니다. 다음과 같은 사항에 주목하여 읽으세요.</p>
<ol type="1">
<li><p><strong>Figure</strong>, <strong>Diagram, Table</strong> 등 논문 내 다양한 도표와 일러스트레이션을 주의깊게 보세요. 특히, Data Science에 관심이 있는 분들이라면 그래프를 잘 봐야합니다. 그래프의 <img src="https://latex.codecogs.com/png.latex?x">축, <img src="https://latex.codecogs.com/png.latex?y">축, 테이블의 행과 열이 의미하는 바 등을 확인하고 이를 통해 저자가 주장하고자 하는 바가 무엇인지 한마디로 정리할 줄 알아야합니다. 물론, 이 부분은 저자가 확실하게 주장하고자 하는 바를 가지고 시각화, 테이블 작성를 수행했다는 전제 하에 있습니다.</p></li>
<li><p>아직 읽지 않은 연관 논문을 체크하세요. 이 과정은 논문의 배경 지식 또는 특정 방법론에 관한 Method paper인 경우 해당 방법론의 모티베이션을 공부하는데 도움이 됩니다.</p></li>
</ol>
<p>두 번째 읽기가 끝난 상태에서 우리가 바라는 희망사항은 다음과 같습니다:</p>
<ul>
<li><p>논문의 핵심 내용 이해</p></li>
<li><p>논문의 핵심 주장에 대해 근거와 함께 요약할 수 있어야 함</p></li>
</ul>
<p>그래서, 두 번째 읽기를 끝낸 논문은 다음과 같은 섹션으로 상세한 추가 요약을 수행할 예정입니다.</p>
<ul>
<li><p><strong>Main Findings</strong>: 논문의 핵심 주장과 뒷받침 근거</p></li>
<li><p><strong>Methods</strong>: <strong>Main Findings</strong>에 사용된 핵심 방법론에 관한 내용</p></li>
<li><p><strong>Results</strong>: <strong>Main Findings</strong>외 다른 연구 결과</p></li>
<li><p><strong>Limitations</strong>: 연구의 한계점</p></li>
</ul>
<p><strong>Main Findings</strong>외 다른 연구 결과에 해당하는 <strong>Results</strong>와 연구의 한계점(<strong>Limitations</strong>)는 때때로 생략될 수 있습니다.</p>
<p>두 번째 읽기는 당신이 관심있어 하지만, 당신의 전문 연구 분야는 아닌 논문에 적합하다고 합니다. 하지만, 저는 제 전문 연구 분야도 위와 같은 두 번째 읽기를 통해 추가적으로 세부적인 요약을 수행할 예정입니다. 전문 연구 분야라면 훨씬 더 빠르게 두 번째 읽기를 할 수 있겠죠. 그러나, 여러 이유로 두 번째 읽기에도 이해가 안될 수도 있습니다:</p>
<ol type="1">
<li><p>이 주제나 내용이 새로워서 전문 용어나 약어에 익숙하지 않음</p></li>
<li><p>저자가 사용한 방법론이나 연구 결과를 낼 때 사용된 테크닉이 이해가 안됨</p></li>
<li><p>합리적 근거가 부족한 주장 또는 너무 많은 레퍼런스</p></li>
<li><p>피곤해서!</p></li>
</ol>
<p>이럴 때 3가지 선택지를 제안합니다.</p>
<ol type="1">
<li><p>논문을 치우세요. 그리고, 해당 논문의 내용이 커리어에 무관하기를 바라세요.</p></li>
<li><p>배경 지식을 공부하고 다시 읽으세요.</p></li>
<li><p>노력해보고 세 번째 읽기를 해보세요.</p></li>
</ol>
<p>거인의 어깨 위에 올라서서 세상을 바라보라고 하는데, 거인에 어깨 위에 올라서는 것 조차 참 어렵습니다..😭</p>
</section>
<section id="맺음말" class="level2">
<h2 class="anchored" data-anchor-id="맺음말">맺음말</h2>
<p>앞으로 제 블로그에 읽은 논문들을 요약하는 글을 작성하기에 앞서, 논문 요약 방식에 대한 설명이 필요할 것 같아서 쓰게 된 글입니다. 논문 요약 방식에 정답은 없습니다. 각자의 논문 요약 방식에 대해 나눠보는 것도 참 흥미로운 대화 거리가 될 것 같네요. 참고한 글<span class="citation" data-cites="an2022">(An 2022)</span>에 더 좋은 내용이 많습니다. 그리고, 해당 글의 <strong>세 번째 읽기</strong>, <strong>문헌 조사</strong> 등 <strong>“논문 쓰기”</strong>에 도움이 될 만한 내용들 또한 기술이 되어있습니다. 다시 한 번 좋은 글 작성해주신 안수빈님께 감사의 말씀을 전합니다. 저도 아직 많이 부족하지만, 이 글이 첫 논문을 접하는 분들께 조금이나마 도움이 됐으면 합니다.🙏</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-an2022" class="csl-entry">
An, Subin. 2022. <span>“[Paper Review] How to Read a Paper (SIGCOMM 07).”</span> <a href="https://ansubin.com/paper-review-how-to-read-a-paper/">https://ansubin.com/paper-review-how-to-read-a-paper/</a>.
</div>
<div id="ref-hong2012" class="csl-entry">
Hong, Seonui. 2012. <span>“02. 논문의 종류.”</span> <a href="http://www.campuskorea.net/bbs/board.php?bo_table=any_tip1&amp;wr_id=30">http://www.campuskorea.net/bbs/board.php?bo_table=any_tip1&amp;wr_id=30</a>.
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {관심 논문 읽고 요약하기},
  date = {2022-05-13},
  url = {https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“관심 논문 읽고 요약하기.”</span> May 13, 2022. <a href="https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/">https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/</a>.
</div></div></section></div> ]]></description>
  <category>Paper</category>
  <guid>https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/index.html</guid>
  <pubDate>Thu, 12 May 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-05-13-how-to-review-a-paper/preview.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>tidyverse로 데이터베이스랑 대화하기 - 1편</title>
  <dc:creator>방태모</dc:creator>
  <link>https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/index.html</link>
  <description><![CDATA[ 



<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://unsplash.com/photos/fPkvU7RDmCo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink"><img src="https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/preview.jpg" class="img-fluid figure-img" width="800"></a></p>
<p></p><figcaption class="figure-caption">Photo by Caspar Camille Rubin on Unsplash</figcaption><p></p>
</figure>
</div>
<aside>
본 글은 <span class="citation" data-cites="naidoo2020">(Naidoo 2020)</span>를 기반으로 작성되었습니다.
</aside>
<p>실무에서는 Data analyst, Data scientist를 가리지 않고 SQL에 관한 능력을 요구합니다. 우리나라의 채용공고를 둘러보면 Data analyst의 경우 특히 SQL 스킬을 중요하게 요구하는 듯 합니다. 방대한 양의 데이터를 저장하고 관리하기 위해 실무에서는 데이터베이스를 사용합니다. 데이터베이스는 종종 관계형 데이터베이스 시스템<sup>1</sup>(이하 RDBMS)이라 불리기도 하죠. 그리고, 우리는 SQL<sup>2</sup> 언어 또는 SQL을 조금 변형한(variant) 언어를 통해 이 데이터베이스에 질의(query)를 합니다. 여기서 변형이라는 말을 사용한 이유는, RDBMS를 제공하는 업체에서 표준화된 SQL을 제공하는 경우도 있지만, 표준화된 SQL을 조금 변형시켜 사용하는 경우도 있기 때문입니다.</p>
<p>만약 이렇게 특정 업체로부터 제공되는 변형된 RDBMS를 사용해야한다면, 해당 업체에서 사용하는 특정 SQL dialect<sup>3</sup>를 사용해 쿼리를 작성하는 방법을 이해해야 하실겁니다. 변형된 RDBMS를 예로 들어보자면, <a href="https://www.postgresql.org">PostgreSQL</a>, <a href="https://prestodb.io">PrestoDB</a>(<a href="https://aws.amazon.com/ko/athena/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc">AWS의 Athena</a>를 위한) 등이 있습니다. PostgreSQL DB의 JSON 필드는 AWS에서 구조화된 중첩 배열로(array) 수집되므로, 동일한 필드를 쿼리하고자 할 때 다른 쿼리문을 사용합니다.</p>
<p>R을 사용하는 여러분 모두 잘 아시다시피, R에서는 <code>{dplyr}</code><sup>4</sup> 패키지를 통해 이러한 작업을 데이터에 수행할 수 있습니다. <code>{dplyr}</code>이 <code>select()</code>, <code>group_by()</code>, <code>left_join()</code> 등 SQL 문법을 잘 모방하긴 했지만, SQL 문법과 R 문법 사이를 완벽하게 왔다갔다 하기는 어렵습니다. 예를 들자면, <code>{dplyr}</code>의 <code>filter()</code>를 이용해 특정 행을 뽑아올 때, 우리는 R 문법을 따라야하므로 조건문에 <code>=</code>이 아닌 <code>==</code>을 사용하죠. 이는 SQL 문법과는 완벽히 다른 부분입니다.</p>
<p>자, 여기서 이러한 상황을 타개할 방법은 무엇일까요. 엄청난 용량의 데이터베이스를 R로 가져올 수는 없습니다. 메모리 베이스인 R에 이 짓을 햇다가는요? 생각도 하기 싫습니다.😰 그럼, RDBMS 환경에서 이러한 무거운 작업을(e.g.&nbsp;computation) 수행하고 필요로 될 때에만 R에다가 가져오면 되지 않을까요? 예를 들면, 집계된 데이터를 가져와서 보고서용 그림을 그린다든지. 이를 가능하게끔 해주는 패키지에 대해 배워보려고 합니다.</p>
<p>본 튜토리얼에서는 <code>{dplyr}</code>의 데이터베이스 백엔드 버전이라 할 수 있는 <code>{dbplyr}</code> 패키지에 대해 배울거에요. <code>{dbplyr}</code>은 당신의 RDBMS에 R의 tidyverse 문법을 사용한 쿼리문을 직접적으로 사용할 수 있게끔 해줄겁니다.😀</p>
<section id="db-연결하기" class="level2">
<h2 class="anchored" data-anchor-id="db-연결하기">1 DB 연결하기</h2>
<p>먼저 필요한 패키지를 불러오죠. <code>install.packages("패키지명")</code>을 통해 설치할 수 있습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(DBI)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(dbplyr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(dplyr)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;">library</span>(RSQLite)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;">library</span>(odbc)</span></code></pre></div>
</div>
<ul>
<li><code>{DBI}</code>: R의 데이터베이스 인터페이스에 관한 메인 패키지입니다.</li>
<li><code>{dbplyr}</code>: <code>{dplyr}</code> 문법을 사용하여 데이터베이스에 질의를 할 수 있게끔 해줍니다.</li>
<li><code>{dplyr}</code>: 데이터베이스에 질의할 때 사용할 패키지입니다.</li>
<li><code>{RSQLite}</code>: 가벼운 단일 유저용 데이터베이스 SQLite DB에 연결할 수 있게끔 해주는 DBI<sup>5</sup> 호환 패키지입니다. R-SQLite로 이해하시면 편합니다.</li>
<li>다른 DBI 용 호환 패키지가 필요할 수도 있습니다. 예를 들어, <code>{RPostgres}</code>는 PostgreSQL RDBMS와 연결을 해주는 패키지입니다.<sup>6</sup></li>
<li><code>{odbc}</code>: odbc 드라이버를 사용해 RDBMS 인터페이스에 인터페이스할 수 있도록 해주는 DBI 호환 인터페이스입니다.<sup>7</sup></li>
</ul>
<section id="예제용-토이-db" class="level3">
<h3 class="anchored" data-anchor-id="예제용-토이-db">예제용 토이 DB</h3>
<p><a href="https://www.apreshill.com">Alison Hill</a>이 <a href="https://github.com/apreshill/bakeoff">The Great British Bake off</a>에서 만든 데이터를 사용하려고 합니다. 본 예제에서 다룰 데이터베이스는 <a href="https://github.com/be-favorite/Distill/blob/master/_posts/2022-04-07-talk-with-database-using-tidyverse-part-i/data/great_brit_bakeoff.db">여기서</a> 내려받으세요. <code>{bakeoff}</code> 패키지의 데이터를 이용해 연습에 사용할 SQLite DB를 만들었습니다. 이 튜토리얼의 원 저자 <a href="https://sciencificity-blog.netlify.app/posts/2020-12-12-using-the-tidyverse-with-databases/">Vebash Naidoo</a>님께 감사의 말을 전합니다.</p>
</section>
<section id="sqlite-db-연결하기" class="level3">
<h3 class="anchored" data-anchor-id="sqlite-db-연결하기">SQLite DB 연결하기</h3>
<p>이제 DB를 SQLite DB에 연결해봅시다. DB와 대화를 나누기 위해서, 우선 연결(connection)을 해줘야합니다. 다음의 작업을 해줄겁니다.</p>
<ul>
<li><p>DBI 패키지 로딩: <code>library(DBI)</code></p></li>
<li><p>연결하기: <code>con &lt;- dbConnect(RSQLite::SQLite(), "내려받은 db 경로")</code></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">library</span>(DBI) <span class="co" style="color: #5E5E5E;"># main DB interface</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;">library</span>(dplyr) </span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;">library</span>(dbplyr) <span class="co" style="color: #5E5E5E;"># dplyr back-end for DBs</span></span>
<span id="cb2-4"></span>
<span id="cb2-5">con <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">dbConnect</span>(<span class="at" style="color: #657422;">drv =</span> RSQLite<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">SQLite</span>(), <span class="co" style="color: #5E5E5E;"># give me a SQLite connection</span></span>
<span id="cb2-6">        <span class="at" style="color: #657422;">dbname =</span> <span class="st" style="color: #20794D;">"data/great_brit_bakeoff.db"</span>)</span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;">summary</span>(con) <span class="co" style="color: #5E5E5E;"># What do we have?</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Length            Class             Mode 
               1 SQLiteConnection               S4 </code></pre>
</div>
</div>
<p>위와 같은 명령어가 출력되면 DB에 성공적으로 연결된 것입니다.</p>
</section>
</section>
<section id="db-둘러보고-다뤄보기" class="level2">
<h2 class="anchored" data-anchor-id="db-둘러보고-다뤄보기">2 DB 둘러보고 다뤄보기</h2>
<p>자, DB 연결도 했으니 이제 몇 가지 DBI 함수를 이용해 연결한 DB를 둘러보고 다뤄봅시다.</p>
<section id="dbi-함수" class="level3">
<h3 class="anchored" data-anchor-id="dbi-함수">DBI 함수</h3>
<p>DBI 함수들의 이름은 꽤 직관적입니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">dbListTables</span>(con) <span class="co" style="color: #5E5E5E;"># 연결된 테이블 리스트를 보여줘!</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "baker_results"     "bakers"            "bakes"            
 [4] "challenge_results" "challenges"        "episode_results"  
 [7] "episodes"          "ratings"           "ratings_seasons"  
[10] "results"           "seasons"           "series"           </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;">dbListFields</span>(con, <span class="co" style="color: #5E5E5E;"># 연결한 DB로 가서</span></span>
<span id="cb6-2">      <span class="st" style="color: #20794D;">"bakers"</span>)   <span class="co" style="color: #5E5E5E;"># bakes 테이블에 어떤 필드가 있는지 알려줘!</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "series"     "baker_full" "age"        "occupation" "hometown"  </code></pre>
</div>
</div>
<p>DB에 질의는 다음과 같이 수행할 수 있어요.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">res <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">dbSendQuery</span>(con, <span class="st" style="color: #20794D;">"SELECT * FROM bakers LIMIT 3"</span>) <span class="co" style="color: #5E5E5E;"># 쿼리문 실행</span></span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;"># bakers 테이블에 모든 필드를 가져오는데, 관측치 3개까지만 가져와봐!</span></span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;">dbFetch</span>(res) <span class="co" style="color: #5E5E5E;"># 결과 출력해줘</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  series          baker_full age                        occupation
1      1       Annetha Mills  30                           Midwife
2      1      David Chambers  31                      Entrepreneur
3      1 Edward "Edd" Kimber  24 Debt collector for Yorkshire Bank
       hometown
1         Essex
2 Milton Keynes
3      Bradford</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;">dbClearResult</span>(res) <span class="co" style="color: #5E5E5E;"># 결과 지우기</span></span></code></pre></div>
</div>
</section>
<section id="dplyr-함수" class="level3">
<h3 class="anchored" data-anchor-id="dplyr-함수">dplyr 함수</h3>
<p>이제, 우리가 잘하는 <code>{dplyr}</code>의 함수들을 이용해 마음껏 DB와 이야기해보죠.</p>
<ul>
<li><code>dplyr::tbl(con, "테이블명")</code>: 연결한 DB(<code>con</code>)으로 가서 <code>SELECT * FROM 테이블명</code> 실행해줘.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;">tbl</span>(con, <span class="st" style="color: #20794D;">"bakers"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Source:   table&lt;bakers&gt; [?? x 5]
# Database: sqlite 3.39.1 [/Volumes/Essential/Study/Private/Writing/Blog/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/data/great_brit_bakeoff.db]
   series baker_full                age occupation                       homet…¹
    &lt;dbl&gt; &lt;chr&gt;                   &lt;dbl&gt; &lt;chr&gt;                            &lt;chr&gt;  
 1      1 "Annetha Mills"            30 Midwife                          Essex  
 2      1 "David Chambers"           31 Entrepreneur                     Milton…
 3      1 "Edward \"Edd\" Kimber"    24 Debt collector for Yorkshire Ba… Bradfo…
 4      1 "Jasminder Randhawa"       45 Assistant Credit Control Manager Birmin…
 5      1 "Jonathan Shepherd"        25 Research Analyst                 St Alb…
 6      1 "Lea Harris"               51 Retired                          Midlot…
 7      1 "Louise Brimelow"          44 Police Officer                   Manche…
 8      1 "Mark Whithers"            48 Bus Driver                       South …
 9      1 "Miranda Gore Browne"      37 Food buyer for Marks &amp; Spencer   Midhur…
10      1 "Ruth Clemens"             31 Retail manager/Housewife         Poynto…
# … with more rows, and abbreviated variable name ¹​hometown
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;">tbl</span>(con, <span class="st" style="color: #20794D;">"bakers"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb13-2">    <span class="fu" style="color: #4758AB;">head</span>(<span class="dv" style="color: #AD0000;">3</span>) <span class="co" style="color: #5E5E5E;"># "SELECT * FROM bakers LIMIT 3"와 동일</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Source:   SQL [3 x 5]
# Database: sqlite 3.39.1 [/Volumes/Essential/Study/Private/Writing/Blog/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/data/great_brit_bakeoff.db]
  series baker_full                age occupation                        homet…¹
   &lt;dbl&gt; &lt;chr&gt;                   &lt;dbl&gt; &lt;chr&gt;                             &lt;chr&gt;  
1      1 "Annetha Mills"            30 Midwife                           Essex  
2      1 "David Chambers"           31 Entrepreneur                      Milton…
3      1 "Edward \"Edd\" Kimber"    24 Debt collector for Yorkshire Bank Bradfo…
# … with abbreviated variable name ¹​hometown</code></pre>
</div>
</div>
<p>데이터베이스와 대화를 나눌 때 마다 초기에 연결해둔 <code>con</code>을 사용한다는 점을 유념해주세요. 초기에 불러왔던 <code>con</code>은 아까처럼 일반적인 SQL 쿼리문을 이용해 질의를 할 때 뿐만이 아닌 <code>{dplyr}</code>을 통해 타이디한 파이프라인으로 원하는 테이블을 가져올 때도 사용됩니다.</p>
<p>자 이제 예시 상황을 하나 들어서 <code>{dplyr}</code>로 원하는 테이블을 가져와보겠습니다. <code>baker_results</code> 테이블에는 각 제빵 대회에 참가한 제빵사(baker)의 세부 정보 필드가 담겨있습니다:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;">dbListFields</span>(con, <span class="st" style="color: #20794D;">"baker_results"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "series"                    "baker_full"               
 [3] "baker"                     "age"                      
 [5] "occupation"                "hometown"                 
 [7] "baker_last"                "baker_first"              
 [9] "star_baker"                "technical_winner"         
[11] "technical_top3"            "technical_bottom"         
[13] "technical_highest"         "technical_lowest"         
[15] "technical_median"          "series_winner"            
[17] "series_runner_up"          "total_episodes_appeared"  
[19] "first_date_appeared"       "last_date_appeared"       
[21] "first_date_us"             "last_date_us"             
[23] "percent_episodes_appeared" "percent_technical_top3"   </code></pre>
</div>
</div>
<p>각 제빵대회 우승자의 출신이 영국의 일부 지역에서 나왔는지, 아니면 다양한 지역으로부터 우상자가 배출되었는지 알고싶은 상황이라고 해봅시다. 우선 다음과 같이 관심있는 필드만 불러와주겠습니다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;">tbl</span>(con, <span class="st" style="color: #20794D;">"baker_results"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb17-2">  <span class="fu" style="color: #4758AB;">select</span>(series, baker, hometown, series_winner)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Source:   SQL [?? x 4]
# Database: sqlite 3.39.1 [/Volumes/Essential/Study/Private/Writing/Blog/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/data/great_brit_bakeoff.db]
   series baker     hometown              series_winner
    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                         &lt;int&gt;
 1      1 Annetha   Essex                             0
 2      1 David     Milton Keynes                     0
 3      1 Edd       Bradford                          1
 4      1 Jasminder Birmingham                        0
 5      1 Jonathan  St Albans                         0
 6      1 Lea       Midlothian, Scotland              0
 7      1 Louise    Manchester                        0
 8      1 Mark      South Wales                       0
 9      1 Miranda   Midhurst, West Sussex             0
10      1 Ruth      Poynton, Cheshire                 0
# … with more rows
# ℹ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<p>24개 열 중 관심있는 4개 열만 불러왔습니다. 이제 제빵대회에 우승한 사람만 골라낸 뒤(<code>filter()</code>) 우승자들이 영국의 어떤 지역으로 부터 왔는지 지역별로 인원을 구하고(<code>count()</code>) 내림차순 정렬(<code>sort()</code>)을 해보죠.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;">tbl</span>(con, <span class="st" style="color: #20794D;">"baker_results"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;">select</span>(series, baker, hometown, series_winner) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;">filter</span>(series_winner <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb19-4">  <span class="fu" style="color: #4758AB;">count</span>(hometown, <span class="at" style="color: #657422;">sort =</span> <span class="cn" style="color: #8f5902;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Source:     SQL [8 x 2]
# Database:   sqlite 3.39.1 [/Volumes/Essential/Study/Private/Writing/Blog/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/data/great_brit_bakeoff.db]
# Ordered by: desc(n)
  hometown                              n
  &lt;chr&gt;                             &lt;int&gt;
1 Wigan                                 1
2 West Molesey, Surrey                  1
3 Ongar, Essex                          1
4 Market Harborough, Leicestershire     1
5 Leeds / Luton                         1
6 Bradford                              1
7 Barton-Upon-Humber, Lincolnshire      1
8 Barton-Le-Clay, Bedfordshire          1</code></pre>
</div>
</div>
<p>이 결과에 따르면, 제빵대회 우승자들의 출신 지역은 각기 다르다고 결론을 내릴 수 있겠네요.</p>
</section>
<section id="dplyr-문법을-sql-쿼리문으로" class="level3">
<h3 class="anchored" data-anchor-id="dplyr-문법을-sql-쿼리문으로">dplyr 문법을 SQL 쿼리문으로</h3>
<p>앞서 <code>{dplyr}</code>을 이용해 수행한 질의를 SQL 쿼리문으로는 어떻게 작성할까요? 코드 한 줄이면 손쉽게 알 수 있습니다.😀</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="fu" style="color: #4758AB;">tbl</span>(con, <span class="st" style="color: #20794D;">"baker_results"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb21-2">  <span class="fu" style="color: #4758AB;">select</span>(series, baker, hometown, series_winner) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb21-3">  <span class="fu" style="color: #4758AB;">filter</span>(series_winner <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb21-4">  <span class="fu" style="color: #4758AB;">count</span>(hometown, <span class="at" style="color: #657422;">sort =</span> <span class="cn" style="color: #8f5902;">TRUE</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb21-5">  <span class="fu" style="color: #4758AB;">show_query</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;SQL&gt;
SELECT `hometown`, COUNT(*) AS `n`
FROM (
  SELECT `series`, `baker`, `hometown`, `series_winner`
  FROM `baker_results`
)
WHERE (`series_winner` = 1.0)
GROUP BY `hometown`
ORDER BY `n` DESC</code></pre>
</div>
</div>
<p>멋지지 않습니까? 이제 제가 왜 이 글의 맨 위 요약을 “R을 통해 데이터베이스 관련 작업을 한다면, 꼭 SQL 전문가가 될 필요는 없어요!”라고 적은 지 아시겠나요? <code>{dplyr}</code>로 작업을 수행하고, SQL 쿼리문으로 변환을 수행해보는 작업은 SQL을 배우는 과정에 꽤 큰 도움이 될겁니다. 직장 또는 기관에서 DB를 관리할 때 모두 같은 업체의 SQL DB를 사용하는 건 아니므로, 이렇게 광범위한 업체들로부터 공급되는 SQL을 알고, 읽는 것은 언제나 중요하기 때문입니다.</p>
</section>
<section id="출력문의-lazy-query-의-의미" class="level3">
<h3 class="anchored" data-anchor-id="출력문의-lazy-query-의-의미">출력문의 <code>lazy query / ??</code>의 의미</h3>
<p>앞서 테이블, 쿼리를 작성하며 출력물에서 <code>Source: table [?? x 5]</code> 또는 <code>Source: lazy query [?? x 4]</code>와 같은 문장을 확인하실 수 있었을 겁니다.</p>
<section id="이런-문장이-출력물에-포함되는-이유" class="level4">
<h4 class="anchored" data-anchor-id="이런-문장이-출력물에-포함되는-이유">이런 문장이 출력물에 포함되는 이유</h4>
<ul>
<li><p>먼저, 우리가 직접적인 RDBMS 상에서가 아닌 R이라는 공간을 빌려 뒤에서(behind the scenes) 작성한 <code>dplyr</code>코드는 우리가 연결하려는 DB의 SQL에 해당하는 dialect로 변환됩니다.</p></li>
<li><p>즉, SQL은 DB에 직접적으로 실행됩니다. 즉, 데이터를 먼저 R로 가져와서 조작하는 것이 아닌 쿼리 자체를 DB에 보내고 DB에서 계산(computation)이 수행됩니다.</p></li>
<li><p>정리하면, <code>dplyr</code> 파이프라인을 사용해 DB에서 쿼리를 실행하면, DB에서 계산을 수행하고 실행된 최종 결과의 전체가 아닌 일부를 R에서 보여주는 식입니다.</p></li>
<li><p>이러한 이유들을 들여다보면 우리는 <code>??</code>를 이해할 수 있습니다.</p></li>
<li><p><code>??</code>는 “연결 DB <code>con</code>에서 이 쿼리(파이프라인을 SQL로 변환시킨 것)를 실행했고, 여기 R에서 출력물을 스니펫(snippet)으로만 가져왔는데, 얼마나 많은 수의 행이 있는지에 관한 메타 정보까진 캐치하진 못했어. 그저 출력물에 몇 개의 열이 있다는 것 정도만 캐치했어”라고 이해할 수 있습니다.</p></li>
<li><p>이 튜토리얼은 파트 1 입니다. 다음 파트에서 가져온 테이블에 얼마나 많은 행들이 존재하는 지와 같은 메타 정보들을 R로 어떻게 가져오는지에 대해 알아볼 예정입니다.</p></li>
</ul>
</section>
</section>
</section>
<section id="db-연결-해제하기" class="level2">
<h2 class="anchored" data-anchor-id="db-연결-해제하기">3 DB 연결 해제하기</h2>
<p>작업이 끝나면 연결을 해제하는 것을 잊지마세요!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;">dbDisconnect</span>(con) <span class="co" style="color: #5E5E5E;"># db 연결 닫기</span></span></code></pre></div>
</div>
<p>연결 해제가 체크는 <code>dbListTable(con)</code>을 실행해보시면 됩니다. 연결해제가 잘 되었다면 에러문이 출력될겁니다.</p>
<section id="다음-파트에서-배울-내용" class="level3">
<h3 class="anchored" data-anchor-id="다음-파트에서-배울-내용">다음 파트에서 배울 내용</h3>
<ul>
<li><code>{DBI}</code>: R의 데이터베이스 인터페이스에 관한 메인 패키지입니다.</li>
<li>데이터 R로 가져오기</li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
세션정보를 보려면 누르세요
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.1 (2022-06-23)
 os       macOS Monterey 12.6
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Asia/Seoul
 date     2022-09-19
 pandoc   2.18 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/tools/ (via rmarkdown)
 quarto   1.0.38 @ /usr/local/bin/quarto

─ Packages ───────────────────────────────────────────────────────────────────
 package     * version date (UTC) lib source
 DBI         * 1.1.3   2022-06-18 [1] CRAN (R 4.2.0)
 dbplyr      * 2.2.1   2022-06-27 [1] CRAN (R 4.2.0)
 dplyr       * 1.0.9   2022-04-28 [1] CRAN (R 4.2.0)
 odbc        * 1.3.3   2021-11-30 [1] CRAN (R 4.2.0)
 RSQLite     * 2.2.15  2022-07-17 [1] CRAN (R 4.2.0)
 sessioninfo * 1.2.2   2021-12-06 [1] CRAN (R 4.2.0)

 [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
</div>
</div>
</div>



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">참고문헌</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-naidoo2020" class="csl-entry">
Naidoo, Vebash. 2020. <span>“Sciencificity’s Blog: Using the Tidyverse with Databases - Part i,”</span> December. <a href="https://sciencificity-blog.netlify.app/posts/2020-12-12-using-the-tidyverse-with-databases/">https://sciencificity-blog.netlify.app/posts/2020-12-12-using-the-tidyverse-with-databases/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>relational database management system, or RDBMS↩︎</p></li>
<li id="fn2"><p>Structured Query Language↩︎</p></li>
<li id="fn3"><p>공급업체마다 SQL 쿼리문에 조금씩 차이가 있는 부분을 방언의 의미를 갖는 dialect로 표현한 것 같습니다.↩︎</p></li>
<li id="fn4"><p>명확하게 정해진 바는 없어보이나, d-plier라고 흔히 읽는 듯 합니다. 패키지의 스티커 이미지를 보면 플라이어가 그려져 있습니다.↩︎</p></li>
<li id="fn5"><p>DataBase Interface, 데이터베이스 인터페이스의 약어↩︎</p></li>
<li id="fn6"><p>본 예제에서는 다루지 않지만, <a href="https://db.rstudio.com">Rstudio DB</a>에서 많은 것을 확인할 수 있습니다.↩︎</p></li>
<li id="fn7"><p>본 예제에서는 다루지 않지만, <a href="https://db.rstudio.com">Rstudio DB</a>에서 확인할 수 있습니다.↩︎</p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">라이센스</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.kr">https://creativecommons.org/licenses/by/4.0/deed.kr</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">인용</h2><div><div class="quarto-appendix-secondary-label">BibTeX 인용:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{방태모2022,
  author = {방태모},
  title = {tidyverse로 데이터베이스랑 대화하기 - 1편},
  date = {2022-04-07},
  url = {https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/},
  langid = {kr}
}
</code></pre><div class="quarto-appendix-secondary-label">인용방법</div><div id="ref-방태모2022" class="csl-entry quarto-appendix-citeas">
방태모. 2022. <span>“tidyverse로 데이터베이스랑 대화하기 - 1편.”</span>
April 7, 2022. <a href="https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/">https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/</a>.
</div></div></section></div> ]]></description>
  <category>SQL</category>
  <category>R</category>
  <guid>https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/index.html</guid>
  <pubDate>Wed, 06 Apr 2022 15:00:00 GMT</pubDate>
  <media:content url="https://taemobang.com/posts/2022-04-07-talk-with-database-using-tidyverse-part-i/preview.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
