<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>í†µê³„ì‹¤ìŠµ III. ë§¤ì¹­</title>
    <meta charset="utf-8" />
    <meta name="author" content="ë°©íƒœëª¨" />
    <meta name="date" content="2022-06-28" />
    <script src="libs/header-attrs-2.14/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } },
      });
    </script>
    <style>
    .mjx-mrow a {
      color: black;
      pointer-events: none;
      cursor: default;
    }
    </style>
    <link rel="stylesheet" href="css/statisticsplaybook.css" type="text/css" />
    <link rel="stylesheet" href="css/statisticsplaybook-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: title-slide, left, bottom

# í†µê³„ì‹¤ìŠµ III. ë§¤ì¹­
----
## **ê°€ì²œëŒ€ ê¸¸ë³‘ì› ê³ ê¸‰í†µê³„êµìœ¡**
### ë°©íƒœëª¨
### 2022-06-28

---

# .brand-blue[ëª©ì°¨]

.pull-left[
 - .content-box-blue[ì„œë¡ ]
 
   - ìƒê´€ê´€ê³„ì™€ ì¸ê³¼ê´€ê³„
   
   - ì¸ê³¼ì¶”ë¡ ì˜ ì¡°ê±´
   
   - RCTì™€ RWE
   
   - í˜¼ë€ë³€ìˆ˜ë¥¼ í†µì œí•˜ëŠ” ë°©ë²•
   
  
  - .content-box-blue[Propensity score]
  
]

.pull-right[

 - .content-box-blue[PS matching method]
   
   - Nearest neighbor matching
   
   - Optimal matching
    
   - Full matching
 
 
 - .content-box-blue[Weighting]
 
   - IPTW
 
   - Matchingê³¼ Weighting
 
 
- .content-box-blue[Balance diagnostics]
 
 
 - .content-box-blue[ì‹¤ìŠµ]

]
 
---

class: inverse, middle, center

# ì„œë¡ 

---

## .brand-blue[ìƒê´€ê´€ê³„ì™€ ì¸ê³¼ê´€ê³„]

- ìƒê´€(Correlation): ë‘˜ ì´ìƒì˜ ë³€ì¸ ê°„ì˜ ê´€ë ¨

  - ì•„ì´ìŠ¤í¬ë¦¼ íŒë§¤ëŸ‰ê³¼ ìµì‚¬ ì‚¬ê³  ê±´ìˆ˜ ê°„ì—ëŠ” ìƒê´€ì´ ì¡´ì¬
  
  - ì¦‰, ì•„ì´ìŠ¤í¬ë¦¼ íŒë§¤ëŸ‰( `\(x\)` )ì´ ìµì‚¬ ì‚¬ê³  ê±´ìˆ˜( `\(y\)` )ì˜ ì˜ˆì¸¡ì— ìœ ìš©í•  ìˆœ ìˆìŒì„ ëœ»í•¨
  
  - ë‹¤ë§Œ, `\(x\)`ê°€ `\(y\)`ì˜ ì›ì¸ì´ ëœë‹¤ëŠ” ê²ƒì€ ì•„ë‹˜
  
  - ê·¸ë ‡ë‹¤ë©´ ì´ëŸ¬í•œ ìƒê´€ì´ ì¡´ì¬í•˜ëŠ” ì›ì¸ì€?
  
  - í˜¼ë€ë³€ìˆ˜(Confounder)ì˜ ì¡´ì¬: ë°˜ì‘ë³€ìˆ˜ì™€ ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ ì˜ˆì¸¡ë³€ìˆ˜ì— ì˜í–¥ì„ ë¯¸ì¹¨

- ì¸ê³¼(Causation): ì›ì¸ê³¼ ê²°ê³¼

  - ë¹„ ì˜ˆë³´ê°€ ìˆëŠ” ê²½ìš°, ì•„ì¹¨ì— ìì „ê±°ë¥¼ íƒ€ëŠ” ì‚¬ëŒë“¤ì´ ì¤„ì–´ë“¦
  
  - ì¦‰, ê°•ìš°( `\(x\)`, ì›ì¸)ê°€ ìì „ê±° íƒ€ëŠ” ì‚¬ëŒ( `\(y\)`, ê²°ê³¼)ì— ì˜í–¥ì„ ë¯¸ì¹¨
  
  - ì¸ê³¼ê´€ê³„ë¥¼ í†µí•´ ë³´ë‹¤ ë” ë‚˜ì€ ëª¨ë¸ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ

---

## .brand-blue[ì¸ê³¼ì¶”ë¡ ì˜ ì¡°ê±´]

### .black[1 ì‹œê°„ì  ìš°ì„ ì„±]

- ì›ì¸ì´ ê²°ê³¼ë³´ë‹¤ ì‹œê°„ìƒìœ¼ë¡œ ë¨¼ì € ë°œìƒí•´ì•¼ í•¨

### .black[2 ê³µë³€ì„±(ìƒê´€ê´€ê³„)]

- ì›ì¸ì´ ë³€í™”í•˜ë©´ ê²°ê³¼ë„ í•­ìƒ ê°™ì´ ë³€í™”í•´ì•¼ í•¨

### .black[3 í†µì œì„±]

- ì›ì¸ê³¼ ê²°ê³¼ê°€ ì œ 3ì˜ ë³€ìˆ˜(í˜¼ë€ë³€ìˆ˜, Confounder)ì— ì˜í–¥ì„ ë°›ì•„ì„œëŠ” ì•ˆë¨

&lt;br&gt;


&lt;center&gt;

&lt;blockquote&gt; .black[_ë¬´ì‘ìœ„ë°°ì •ì„ ê±°ì¹˜ì§€ ì•ŠëŠ” ê´€ì¸¡ì—°êµ¬ëŠ” "í†µì œì„±"ì„ ë§Œì¡±ì‹œí‚¤ê¸° ì–´ë ¤ì›€_] &lt;/blockquote&gt;

&lt;/center&gt;

---

## .brand-blue[RCTì™€ RWE]

.pull-left[

- RCT ì—°êµ¬

  - ëª¨ì§‘ë‹¨(ì™¼ìª½)ì—ì„œ ëœë¤ìœ¼ë¡œ ê° êµ°ì— 10ëª…ì”© í• ë‹¹
  
  - ì¼ì • ì—°êµ¬ ê¸°ê°„ì´ ì§€ë‚œ í›„ ë…ê° ë°œìƒë¥  ê³„ì‚°

- ëª©ì : ë°±ì‹ ê³¼ ë…ê° ë°œìƒì˜ ê´€ê³„ í™•ì¸

- êµ°ê°„ ë…ê° ë°œìƒë¥  ì°¨ì´ = 0.4

]

.pull-right[
&lt;div class="figure"&gt;
&lt;img src="./fig/RCT.png" alt="fig 1. RCT (Linewalk's Blog)" width="512" height="300" /&gt;
&lt;p class="caption"&gt;fig 1. RCT (Linewalk's Blog)&lt;/p&gt;
&lt;/div&gt;

]

---

## .brand-blue[RCTì™€ RWE]

.pull-left[

- RWE(Real world evidence): ê´€ì°° ë°ì´í„°ë¥¼ ì´ìš©í•œ í›„í–¥ì  ì—°êµ¬

  - ë°±ì‹  íˆ¬ì—¬ êµ°ê³¼ ë¹„ íˆ¬ì—¬êµ°ì„ ì‹¤í—˜êµ°, ëŒ€ì¡°êµ° ê° êµ°ìœ¼ë¡œ ë‚˜ëˆ” 
  
  - ê° êµ°ì—ì„œ ë…ê° ë°œìƒë¥  ê³„ì‚°

- êµ°ê°„ ë…ê° ë°œìƒë¥  ì°¨ì´ = 0.12

- ì„ íƒ í¸ì˜(selection bias) ë°œìƒ
  
  - ë…¸ë ¹ì¸µê³¼ ì˜ìœ ì•„ì¸µì˜ ë°±ì‹  íˆ¬ì—¬ìœ¨ì´ ë†’ìŒ
  
  - ì„±ë³„ê³¼ ë‚˜ì´ê°€ í˜¼ë€ë³€ìˆ˜ê°€ ë¨
  
  - ë¬´ì‘ìœ„ ë°°ì •ì— ì˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì–´ë–¤ í˜„ìƒì˜ ì›ì¸ ì¶”ë¡ ì´ ë¶ˆê°€ëŠ¥

]

.pull-right[

&lt;div class="figure"&gt;
&lt;img src="./fig/RWE.png" alt="fig 2. RWE (Linewalk's Blog)" width="512" height="300" /&gt;
&lt;p class="caption"&gt;fig 2. RWE (Linewalk's Blog)&lt;/p&gt;
&lt;/div&gt;

]

---

## .brand-blue[í˜¼ë€ë³€ìˆ˜ë¥¼ í†µì œí•˜ëŠ” ë°©ë²•]

.left-column[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="./fig/confounder.png" alt="fig 3. Confounder (Linewalk's Blog)" width="132" height="200" /&gt;
&lt;p class="caption"&gt;fig 3. Confounder (Linewalk's Blog)&lt;/p&gt;
&lt;/div&gt;

]
.right-column[

 - Causal effect 
 
 \begin{align}
  E(Y(1)) - E(Y(0)) = E(Y|T = 1) - E(Y|T=0)
 \end{align}
 
 
 - ê´€ì°°ì—°êµ¬ì—ì„œëŠ” í˜¼ë€ë³€ìˆ˜( `\(X\)` )ì— ì˜í•´ ìœ„ ë“±ì‹ì´ ì„±ë¦½í•˜ì§€ ì•ŠìŒ
 
   - `\(T=0\)`ì¼ë•Œ `\(X\)`ì˜ ë¶„í¬ì™€ `\(T=1\)`ì¼ë•Œ `\(X\)`ì˜ ë¶„í¬ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸
 
 - Matching, Weightingì„ í†µí•´ í•´ê²° ê°€ëŠ¥
 
   - ê´€ì°°ì—°êµ¬ì—ì„œ ì„ íƒí¸í–¥ì„ ê°ì†Œì‹œí‚¤ëŠ” ë°©ë²•ë¡ 
   
   - How? ì‹¤í—˜êµ°ê³¼ ëŒ€ì¡°êµ°ì´ ë™ì¼í•œ `\(X\)`ì˜ ë¶„í¬ë¥¼ ê°–ê²Œë” í•¨ìœ¼ë¡œì¨
   
  - ê·¸ëŸ¬ë‚˜, ë§ì€ ë¬¸ì œì—ì„œ ë³€ìˆ˜ë¥¼ ì§ì ‘ ë§¤ì¹­í•˜ëŠ” ê²ƒì€ ì–´ë ¤ì›€ (íŠ¹íˆ ì—°ì†í˜• ë³€ìˆ˜)
  
      - Propensity scoreë¡œ ë§¤ì¹­í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶©ë¶„ (Rosenbaum and Rubin, 1983) 

]

---

class: inverse, middle, center

# Propensity score

---
## .brand.blue[Propensity score]

- ê³ ì „ì ì¸ ë§¤ì¹­ ë°©ë²•ì´ ê°–ëŠ” ë‹¨ì ì„ ê·¹ë³µí•˜ê³  ì„ íƒí¸í–¥ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¸¡ë„

- ë¡œì§€ìŠ¤í‹± íšŒê·€ëª¨í˜•ì„ í†µí•´ ì¶”ì •

`\begin{align}
\pi = {\rm{Pr}}(Y = 1 | X = x) = \frac{e^{\beta_0 + \beta_1x}}{1 + e^{\beta_0 + \beta_1x}}
\end{align}`

- ì—¬ê¸°ì„œ `\(Y\)`ëŠ” ì²˜ë¦¬(treatment), `\(X\)`ëŠ” í˜¼ë€ë³€ìˆ˜ê°€ ë¨

- ì¦‰, propensity scoreëŠ” ì—°êµ¬ ëŒ€ìƒì´ í˜¼ë€ë³€ìˆ˜ì— ì˜í•´ ì‹¤í—˜êµ°ì— í¬í•¨ë  í™•ë¥ ì„ ì˜ë¯¸

- Matching:PS(propensity score)ê°€ ê°™ì€ í˜¹ì€ ìœ ì‚¬í•œ ëŒ€ìƒë¼ë¦¬ ì§ì„ ë§ì¶”ì–´ ìë£Œ ì„ ì •

  - .blue[Key idea]: PSì˜ ì°¨ì´ê°€ ì‘ì€ ëŒ€ìƒë“¤ë¼ë¦¬ ë§¤ì¹­

  - ì§ì„ ì´ë£¨ì§€ ëª»í•˜ë©´ ì œì™¸
  
- Weighting: PSê°€ ì‘ì€ ëŒ€ìƒì— ëŒ€í•´ ì—­ê°€ì¤‘(IPTW)ì„ ì¤Œìœ¼ë¡œì¨ ë‘ êµ°ê°„ í˜¼ë€ë³€ìˆ˜ì˜ ë¶„í¬ë¥¼ ë§ì¶°ì¤Œ

---

class: inverse, middle, center

# Propensity score matching method

---
## .brand.blue[Nearest neighbor]

.pull-left[
 - í•˜ë‚˜ì˜ ì‹¤í—˜êµ° ëŒ€ìƒê³¼ ëŒ€ì¡°êµ°ì˜ ëª¨ë“  ëŒ€ìƒ ê°„ PSì˜ ì°¨ì´ê°€ ì‘ì€ ìˆœìœ¼ë¡œ ë§¤ì¹­

- ê°€ì¥ ë§ì´ í™œìš©ë˜ëŠ” ë§¤ì¹­ ë°©ë²•

- Greedy matching ë°©ë²•ë¡  ì¤‘ í•˜ë‚˜ì— í•´ë‹¹

  - ìˆœê°„ì— ìµœì ì´ë¼ê³  ìƒê°ë˜ëŠ” ê²ƒì„ ì„ íƒí•´ ë‚˜ê°€ëŠ” ë°©ì‹
  
  - ì‹¤í—˜êµ° ì¤‘ ì–´ë–¤ ëŒ€ìƒë¶€í„° ë§¤ì¹­ì„ ì‹œì‘í•˜ëŠëƒì— ë”°ë¼ ë§¤ì¹­ì˜ ì§ˆì´ ì¡°ê¸ˆ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ
]

.pull-right[
 - ì£¼ìš” ì˜µì…˜

  - ë°˜ë³µ ë§¤ì¹­: ëŒ€ì¡°êµ°ì˜ í‘œë³¸ ìˆ˜ê°€ ì‘ì€ ê²½ìš° ì—¬ëŸ¬ ì‹¤í—˜êµ°ê³¼ ì¤‘ë³µí•˜ì—¬ ë§¤ì¹­ë˜ëŠ” ëŒ€ì¡°êµ° í—ˆìš©
  
  - ì •í™• ë§¤ì¹­: ì¼ë¶€ ì„¤ëª… ë³€ìˆ˜ì— ëŒ€í•´ ì •í™• ë§¤ì¹­ì„ ë¨¼ì € ì‹œí–‰í•œ í›„, ì„ íƒëœ ëŒ€ìƒë“¤ ì‚¬ì´ì—ì„œ nearest matching ì‹œí–‰
  
  &lt;!-- ì˜ˆë¥¼ ë“¤ë©´ ì¸ì¢…ê³¼ ê°™ì´ ì •í™•íˆ ë§¤ì¹­í•´ì•¼í•˜ëŠ” ë³€ìˆ˜ --&gt;
  
  - ìº˜ë¦¬í¼: ì¶”ì •ëœ PSì˜ í‘œì¤€ì˜¤ì°¨ì˜ `\(k\)`ë°° ë²”ìœ„ì— ì¡´ì¬í•˜ëŠ” ëŒ€ìƒë§Œ ë§¤ì¹­ì— ê³ ë ¤
  
  - ëŒ€ì¡°/ì‹¤í—˜êµ° ë¹„: ëŒ€ì¡°êµ°ì´ ì‹¤í—˜êµ°ì— ë¹„í•´ ë§ì€ ê²½ìš° 1:N ë§¤ì¹­ì„ í†µí•´ ì „ì²´ í‘œë³¸ ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆìŒ

&lt;!-- 1:Nì€ í•˜ë‚˜ì˜ ì‹¤í—˜êµ°ì„ ë¹„ìŠ·í•œ ì„±í–¥ì„ ê°€ì§„ ì—¬ëŸ¬ê°œì˜ ëŒ€ì¡°êµ°ê³¼ ë§¤ì¹­ -&gt; ëŒ€ì¡°êµ° í‘œë³¸ì´ ë§ì€ ê²½ìš°ê°€ --&gt;

]

---
## .brand.blue[Optimal matching]

- ëª¨ë“  ë§¤ì¹­ëœ ì§ì˜ ê±°ë¦¬ê°€ ìµœì†Œê°€ ë˜ë„ë¡ ë§¤ì¹­

- Non-greedy matching ë°©ë²•ë¡  ì¤‘ í•˜ë‚˜

- 1:N ë§¤ì¹­ ê°€ëŠ¥

## .brand.blue[Full matching]

- N:N ë§¤ì¹­

- 1:Nê³¼ N:1 ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ ë§¤ì¹­ ì…‹ì„ ë§Œë“¦

- Non-greedy matching ë°©ë²•ë¡  ì¤‘ í•˜ë‚˜

---

class: inverse, middle, center

# Weighting

---

## .brand.blue[IPTW: Inverse Probability of Treatment Weighting]

.pull-left[
- Weighting: í˜¼ë€ë³€ìˆ˜ì˜ íš¨ê³¼ë¥¼ í†µì œí•  ìˆ˜ ìˆëŠ” ë˜ í•˜ë‚˜ì˜ ë°©ë²•
  
- IPTWëŠ” ì¶”ì •ëœ PSì˜ ì—­ìˆ˜ë¥¼ ê°€ì¤‘ì¹˜ë¡œ ë¶€ì—¬í•˜ì—¬ í˜¼ë€ë³€ìˆ˜ì˜ ì˜í–¥ì„ ìµœì†Œí™”í•¨

- ë‹¤ìŒì˜ ê·¸ë¦¼ì€ IPTWì˜ ì•„ì´ë””ì–´ë¥¼ ê°€ì¥ ê°„ë‹¨í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ì„¤ëª…í•´ ì¤Œ

  - ê° êµ°ì— ì„±ì¸ë‚¨ì„±ì´ Unbalancedí•˜ê²Œ ì¡´ì¬
  
  - ì¶”ì •ëœ PSì˜ ì—­ìˆ˜ë¥¼ ì´ìš©í•´ ê°€ì¤‘ëœ ìƒ˜í”Œì„ ìƒì„±
  
  - ì´ ê°€ì¤‘ëœ ìƒ˜í”Œì„ Pseudo-population(ê°€ìƒì˜ ëª¨ì§‘ë‹¨)ì´ë¼í•˜ë©°, ì´ë¥¼ í†µí•´ ë¶„ì„ì„ ì§„í–‰í•¨

]

.pull-right[
&lt;div class="figure"&gt;
&lt;img src="./fig/iptw.jpeg" alt="fig 7. IPTW (Ehud Karavani)" width="448" height="500" /&gt;
&lt;p class="caption"&gt;fig 7. IPTW (Ehud Karavani)&lt;/p&gt;
&lt;/div&gt;
]

---

## .brand.blue[ë§¤ì¹­ê³¼ Weighting]

.pull-left[

### .black[ë§¤ì¹­]

- ì¥ì 

  - ì§ê´€ì 
  
  - balanced checkê°€ ì–´ë µì§€ ì•ŠìŒ
  
- ë‹¨ì 

  - ë§¤ì¹­ë˜ì§€ ì•Šì€ í‘œë³¸ì€ ë²„ë¦¬ê²Œë˜ì–´ í‘œë³¸ ìˆ˜ê°€ ì¤„ì–´ë“¦
  
  - ì´ì—ë”°ë¼, ì›ìë£Œì™€ Matched sampleì—ì„œ íŠ¹ì„±ì´ í¬ê²Œ ë‹¬ë¼ì§€ë©´, ì›ìë£Œì˜ ì²˜ë¦¬íš¨ê³¼ì™€ Matched sampleì˜ ì²˜ë¦¬íš¨ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ

]

.pull-right[

### .black[Weighting]

- ì¥ì  

  - ê°€ì¤‘ì¹˜ë¥¼ ì¤˜ì„œ Pseudo-populationì„ í†µí•´ ë¶„ì„ì„ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— ì› ìë£Œë¥¼ ëª¨ë‘ í™œìš©í•  ìˆ˜ ìˆìŒ

  - balaced checkê°€ ì–´ë µì§€ ì•ŠìŒ
  
- ë‹¨ì 

  - PSM ë˜í•œ ì¶”ì •ëœ PSì˜ ì •í™•ì„±ì— ë¯¼ê°í•˜ë‚˜, Weightingì€ ë§¤ì¹­ì— ë¹„í•´ PSì˜ ì¶”ì •ì˜ ì •í™•ì„±ì— í›¨ì”¬ ë¯¼ê°í•¨
  
  - ë”°ë¼ì„œ, PS ì¶”ì •ì˜ ì •í™•ì„±ì— í™•ì‹ ì´ ì—†ìœ¼ë©´ ì„ íƒí•´ì„œëŠ” ì•ˆë˜ëŠ” ë°©ë²•

&lt;!-- ê·¸ë˜ì„œ, ì¼ë°˜ì ìœ¼ë¡œ ë§¤ì¹­ì„ ê°€ì¥ ì²« ë²ˆì§¸ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆê³  ê·¸ ë‹¤ìŒìœ¼ë¡œ ê³ ë ¤í•˜ëŠ” ê²ƒì´ Weighting --&gt;

]


---

class: inverse, middle, center

# Balance diagnostics

---

.pull-left[

## .brand.blue[SMD]

- SMD: Standardized mean difference

- ê° í˜¼ë€ë³€ìˆ˜ì—ì„œ ë‘ ì§‘ë‹¨ ê°„ ì°¨ì´ê°€ ì¡´ì¬í•˜ëŠ”ê°€?

`\begin{align}
d_{continuous} = \frac{\bar{x}_{trt} - \bar{x}_{con}}{\sqrt{\frac{s^2_{trt} + s^2_{con}}{2}}}
\end{align}`
`\begin{align}
d_{categorical} = \frac{\hat{p}_{trt} - \hat{p}_{con}}{\sqrt{\frac{s^2_{trt} + s^2_{con}}{2}}}
\end{align}`

- ë§¤ì¹­ ì „ê³¼ ë§¤ì¹­ í›„ SMD ë¹„êµ

- ë§¤ì¹­ í›„ SMDê°€ 0.1 ì´í•˜ì´ë©´ ë³´í†µ ë§¤ì¹­ì´ ì˜ ì´ë£¨ì–´ì¡Œë‹¤ê³  íŒë‹¨

]

.pull-right[
 
## .brand.blue[QQplot]

- ê° í˜¼ë€ë³€ìˆ˜ë³„ QQplotì„ í†µí•´ balanceë¥¼ ì²´í¬í•  ìˆ˜ ìˆìŒ

- `\(x\)`ì¶•ì€ ëŒ€ì¡°êµ°ì˜ í˜¼ë€ë³€ìˆ˜ ë¶„í¬, `\(y\)` ì¶•ì€ ì‹¤í—˜êµ°ì˜ í˜¼ë€ë³€ìˆ˜ ë¶„í¬ê°€ ë¨

- ì§ì„ ì— ì˜ ë‚˜ì—´ë˜ì–´ ìˆì„ìˆ˜ë¡ ë§¤ì¹­ì´ ì˜ ì´ë£¨ì–´ì¡Œë‹¤ê³  íŒë‹¨

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="./fig/qqplot.jpg" alt="fig 4. QQplot (Zhang, 2017)" width="205" height="200" /&gt;
&lt;p class="caption"&gt;fig 4. QQplot (Zhang, 2017)&lt;/p&gt;
&lt;/div&gt;

]

---

.pull-left[

## .brand.blue[Jitter plot]

- `\(x\)`ì¶•ì„ ì¶”ì •ëœ PSë¡œ í•˜ëŠ” ê·¸ë¦¼

- ë§¤ì¹­ ê³¼ì •ì—ì„œ ë²„ë ¤ì§„ ìƒ˜í”Œë“¤ íŒŒì•… ê°€ëŠ¥

- ì¦‰, ë§¤ì¹­ëœ ìƒ˜í”Œì˜ ëŒ€í‘œì„±ì„ ê°€ëŠ í•´ë³¼ ìˆ˜ ìˆìŒ

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="./fig/jitter.jpg" alt="fig 5. Jitter plot (Zhang, 2017)" width="205" height="250" /&gt;
&lt;p class="caption"&gt;fig 5. Jitter plot (Zhang, 2017)&lt;/p&gt;
&lt;/div&gt;

]

.pull-right[
 
## .brand.blue[Histogram]

- `\(x\)`ì¶•ì„ ì¶”ì •ëœ PSë¡œ í•˜ëŠ” ê·¸ë¦¼

- ë§¤ì¹­ëœ ìƒ˜í”Œì—ì„œì˜ ê° êµ°ì˜ PS ë¶„í¬ê°€ ë¹„ìŠ·í•œì§€ í™•ì¸í•  ìˆ˜ ìˆìŒ

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="./fig/hist.jpg" alt="fig 6. Histogram (Zhang, 2017)" width="205" height="350" /&gt;
&lt;p class="caption"&gt;fig 6. Histogram (Zhang, 2017)&lt;/p&gt;
&lt;/div&gt;

]

---

class: inverse, middle, center

# ì‹¤ìŠµ

---

## .brand.blue[ì›¹ì—ì„œ í•˜ëŠ” Rì„ í™œìš©í•œ PSM]

- ğŸ”—[http://web-r.org/lesson](http://web-r.org/lesson)

  - ì‚¬ì „ì— ğŸ”—[http://web-r.org](http://web-r.org/) íšŒì›ê°€ì… í•„ìš”

  - 3ë²ˆ í•­ëª© propensity score matching í´ë¦­
  
  - ğŸ”—[ìœ íŠœë¸Œ ê°•ì˜](https://www.youtube.com/watch?v=MjzX-DLB0jc&amp;t=4s)

---

## .brand.blue[IPTW]

- ê°„ì•” í™˜ì 1128ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ìƒˆë¡œìš´ ì¹˜ë£Œë²•(PBT)ê³¼ ê¸°ì¡´ ì¹˜ë£Œë²•(TACE)ì´ ì‚¬ë§ìœ¨ ë° ë³‘ì› ë‚´ ì‚¬ë§ì—¬ë¶€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ í‰ê°€

- Confounding factor ë³´ì •ì„ ìœ„í•´ IPTW ìˆ˜í–‰

- íŒ¨í‚¤ì§€ ì„¤ì¹˜


```r
install.packages(c("tidyverse", "WeightIt", "survival", "cobalt"))
```

- íŒ¨í‚¤ì§€ ë¡œë”©


```r
library(tidyverse)
library(WeightIt)
library(survival)
library(cobalt)
```

---

## .brand.blue[IPTW]

.scroll-box-20[

- ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°


```r
dat.t &lt;- read_csv("./data/ps_matching_dat2.csv") |&gt; 
    janitor::clean_names()
```

```
## Rows: 1128 Columns: 16
## â”€â”€ Column specification â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
## Delimiter: ","
## dbl (16): gr, age, male, dm, ht, ctp_score, log_dna, log_alt, plt, alb, tbil...
## 
## â„¹ Use `spec()` to retrieve the full column specification for this data.
## â„¹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```

```r
glimpse(dat.t)
```

```
## Rows: 1,128
## Columns: 16
## $ gr                    &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, â€¦
## $ age                   &lt;dbl&gt; 64, 55, 49, 42, 39, 43, 53, 43, 57, 34, 63, 52, â€¦
## $ male                  &lt;dbl&gt; 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, â€¦
## $ dm                    &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, â€¦
## $ ht                    &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
## $ ctp_score             &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, â€¦
## $ log_dna               &lt;dbl&gt; 7.69, 0.00, 5.04, 6.86, 1.88, 3.77, 2.92, 8.43, â€¦
## $ log_alt               &lt;dbl&gt; 2.16, 1.41, 1.64, 1.93, 1.45, 1.20, 1.11, 1.36, â€¦
## $ plt                   &lt;dbl&gt; 231, 178, 159, 156, 213, 149, 233, 207, 168, 193â€¦
## $ alb                   &lt;dbl&gt; 4.2, 4.7, 4.1, 4.7, 4.3, 4.3, 4.1, 4.3, 4.2, 4.5â€¦
## $ tbil                  &lt;dbl&gt; 0.9, 0.6, 0.8, 0.7, 1.0, 0.7, 1.0, 1.2, 0.6, 0.7â€¦
## $ inr                   &lt;dbl&gt; 0.89, 0.95, 1.02, 0.94, 0.99, 1.10, 0.93, 0.87, â€¦
## $ cr                    &lt;dbl&gt; 0.65, 0.93, 0.63, 1.05, 0.96, 0.59, 0.68, 0.62, â€¦
## $ in_hospital_mortality &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, â€¦
## $ death                 &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
## $ death_yrs             &lt;dbl&gt; 5.57, 5.26, 5.42, 4.04, 5.36, 5.49, 5.38, 5.26, â€¦
```

- Treatment: `gr`(1 = PBT, 0 = TACE)

- Response variables

  - ìƒì¡´ ìë£Œ: `death`(1 = ì‚¬ë§, 0 = ìƒì¡´), `death_yrs`(ìƒì¡´ì‹œê°„)
  - ì´ì§„í˜• ìë£Œ: `in_hospital_mortality`(1 = ì‚¬ë§, 0 = ìƒì¡´)
  
- Covariates: ê·¸ì™¸ ë³€ìˆ˜ë“¤

]

---

## .brand.blue[IPTW]

- IPTW ìˆ˜í–‰


```r
W1 &lt;- weightit(gr ~ . -death-death_yrs-in_hospital_mortality, data = dat.t,
               method = "ps", estimand = "ATE",stabilize = TRUE)
dat.t$iptw2 &lt;- W1$weights
W1
```

```
## A weightit object
##  - method: "ps" (propensity score weighting)
##  - number of obs.: 1128
##  - sampling weights: none
##  - treatment: 2-category
##  - estimand: ATE
##  - covariates: age, male, dm, ht, ctp_score, log_dna, log_alt, plt, alb, tbil, inr, cr
```

&lt;!-- ATE(Average treatement effect): A êµ°ì— ëŒ€ì‘ë˜ëŠ” populationì´ Aë¥¼ ë°›ì•˜ì„ ë•Œì˜ íš¨ê³¼ì™€ A êµ°ì— ëŒ€ì‘ë˜ëŠ” populationì´ Bë¥¼ ë°›ì•˜ì„ ë•Œì˜ íš¨ê³¼ ì°¨ì´ --&gt;

&lt;!-- ATT(Average treatment effect on treated): ì „ì²´ population (A+B)ì´ Aë¥¼ ë°›ì•˜ì„ ë•Œì˜ íš¨ê³¼ì™€ ì „ì²´ population (A+B)ì´ Bë¥¼ ë°›ì•˜ì„ ë•Œì˜ íš¨ê³¼ ì°¨ì´ --&gt;

&lt;!-- ë§¤ì¹­ì€ ATTë¥¼ í†µí•´ ì¶”ì •í•˜ê³ , Weightingì€ ê³„ì‚° ë°©ì‹ì— ë”°ë¼ ATE, ATTë¥¼ ì¶”ì •í•  ìˆ˜ ìˆìŒ. ê¸°ë³¸ì€ ATEì„ --&gt;

---

## .brand.blue[IPTW]

.scroll-output[

- Cox ph model ì í•©: ìƒˆë¡œìš´ ì¹˜ë£Œë²•ì´ ì‚¬ë§ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ í‰ê°€


```r
f1 &lt;- coxph(Surv(death_yrs,death)~gr, weight=iptw2, data=dat.t)
summary(f1)
```

```
## Call:
## coxph(formula = Surv(death_yrs, death) ~ gr, data = dat.t, weights = iptw2)
## 
##   n= 1128, number of events= 23 
## 
##       coef exp(coef) se(coef) robust se      z Pr(&gt;|z|)
## gr -0.4485    0.6386   0.5262    0.5297 -0.847    0.397
## 
##    exp(coef) exp(-coef) lower .95 upper .95
## gr    0.6386      1.566    0.2261     1.803
## 
## Concordance= 0.54  (se = 0.042 )
## Likelihood ratio test= 0.79  on 1 df,   p=0.4
## Wald test            = 0.72  on 1 df,   p=0.4
## Score (logrank) test = 0.74  on 1 df,   p=0.4,   Robust = 0.87  p=0.4
## 
##   (Note: the likelihood ratio and score tests assume independence of
##      observations within a cluster, the Wald and robust score tests do not).
```

- ìƒˆë¡œìš´ ì¹˜ë£Œë²•ì´ ì‚¬ë§ ìœ„í—˜ì„ ì¤„ì—¬ì£¼ê¸´í•˜ë‚˜, í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ë‹¤ê³  í•˜ê¸´ ì–´ë ¤ì›€( `\(p = 0.397\)` )

]

---

## .brand.blue[IPTW]

.scroll-output[

- Logistic regression model ì í•©: ìƒˆë¡œìš´ ì¹˜ë£Œë²•ì´ ë³‘ì›ë‚´ ì‚¬ë§ì—¬ë¶€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ í‰ê°€


```r
f2 &lt;- glm(in_hospital_mortality ~ gr,weight=iptw2,data=dat.t,family=binomial)
summary(f2)
```

```
## 
## Call:
## glm(formula = in_hospital_mortality ~ gr, family = binomial, 
##     data = dat.t, weights = iptw2)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -0.5952  -0.3604  -0.3376  -0.3200   3.6030  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  -2.7345     0.1460 -18.723   &lt;2e-16 ***
## gr           -0.1070     0.2901  -0.369    0.712    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 506.63  on 1127  degrees of freedom
## Residual deviance: 506.50  on 1126  degrees of freedom
## AIC: 534.64
## 
## Number of Fisher Scoring iterations: 5
```

- ìƒˆë¡œìš´ ì¹˜ë£Œë²•ì´ ë³‘ì›ë‚´ ì‚¬ë§ì— ê´€í•œ ìƒëŒ€ ìœ„í—˜ì„ ì¤„ì—¬ì£¼ê¸´í•˜ë‚˜( `\({\rm{exp}}(-0.107) = 0.899\)` ), í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ë‹¤ê³  í•˜ê¸´ ì–´ë ¤ì›€( `\(p = 0.712\)` )

]

---

## .brand.blue[IPTW]

.scroll-output[

- Balance check


```r
bal.fit &lt;- bal.tab(W1,stats="mean.diffs", un = TRUE, m.threshold = .2)
bal.fit
```

```
## Call
##  weightit(formula = gr ~ . - death - death_yrs - in_hospital_mortality, 
##     data = dat.t, method = "ps", estimand = "ATE", stabilize = TRUE)
## 
## Balance Measures
##                Type Diff.Un Diff.Adj    M.Threshold
## prop.score Distance  0.6963   0.0226 Balanced, &lt;0.2
## age         Contin.  0.0798  -0.0060 Balanced, &lt;0.2
## male         Binary  0.0320   0.0079 Balanced, &lt;0.2
## dm           Binary  0.0276   0.0014 Balanced, &lt;0.2
## ht           Binary  0.0184  -0.0031 Balanced, &lt;0.2
## ctp_score   Contin.  0.0390  -0.0320 Balanced, &lt;0.2
## log_dna     Contin.  0.7025   0.0493 Balanced, &lt;0.2
## log_alt     Contin.  0.3041  -0.0090 Balanced, &lt;0.2
## plt         Contin. -0.1288   0.0096 Balanced, &lt;0.2
## alb         Contin. -0.0380   0.0268 Balanced, &lt;0.2
## tbil        Contin.  0.0774  -0.0135 Balanced, &lt;0.2
## inr         Contin.  0.1232  -0.0111 Balanced, &lt;0.2
## cr          Contin.  0.0066   0.0461 Balanced, &lt;0.2
## 
## Balance tally for mean differences
##                    count
## Balanced, &lt;0.2        13
## Not Balanced, &gt;0.2     0
## 
## Variable with the greatest mean difference
##  Variable Diff.Adj    M.Threshold
##   log_dna   0.0493 Balanced, &lt;0.2
## 
## Effective sample sizes
##            Control Treated
## Unadjusted  816.    312.  
## Adjusted    771.34  251.25
```

- ë°¸ëŸ°ì‹±ì´ ì˜ ì´ë£¨ì–´ì§

]

---

## .brand.blue[IPTW]

.scroll-output[

.pull-left[
 - Balance check ì‹œê°í™” 1


```r
unadj.bal &lt;- bal.fit$Balance[2:12, 2]
adj.bal &lt;- bal.fit$Balance[2:12, 3]
plot(c(1,2),c(-1,1),type='n',xlab='',ylab='Standardized Mean Difference',
     main='Covariate Balance',xaxt='n')
pp &lt;- length(unadj.bal)
points(rep(1.2,pp),unadj.bal)
points(rep(1.8,pp),adj.bal)
for ( jj in 1:pp) {
    lines(c(1.2,1.8),c(unadj.bal[jj],adj.bal[jj]),type='l')
}
abline(h=0.2,col=2,lty=2)
abline(h=-0.2,col=2,lty=2)
axis(1, at=c(1.2,1.8), labels=c('Unweighted','Weighted'))
```

]

.pull-right[
&lt;img src="3_matching_files/figure-html/balance-1.png" width="2100" style="display: block; margin: auto;" /&gt;
]

]

---

## .brand.blue[IPTW]

.pull-left[
 - Balance check ì‹œê°í™” (`age`)

&lt;img src="3_matching_files/figure-html/balance2-1.png" width="2100" style="display: block; margin: auto;" /&gt;

]

.pull-right[
 - Balance check ì‹œê°í™” (`dm`: ë‹¹ë‡¨ ìœ ë¬´)

&lt;img src="3_matching_files/figure-html/balance3-1.png" width="2100" style="display: block; margin: auto;" /&gt;
]


---


## .brand.blue[ì±… ì¶”ì²œ]

- ğŸ”—[R ê¸°ë°˜ ì„±í–¥ì ìˆ˜ë¶„ì„](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788955662450)

- ğŸ”—[í†µê³„ì  ì¸ê³¼ ì¶”ë¡ (ê°œì •íŒ)](https://www.kyowoo.co.kr/02_sub/view.php?p_idx=1640&amp;cate=0014_0019_)

---
class: inverse, middle, center

# References

---

## .brand.blue[References]

.scroll-output[

[1] Karavani, Ehud. â€œSolving Simpsonâ€™s Paradox with Inverse Probability Weighting.â€ Medium, September 12, 2020. https://towardsdatascience.com/solving-simpsons-paradox-with-inverse-probability-weighting-79dbb1395597.

[2] Kim, Jinsil. â€œRWE ì—°êµ¬ì—ì„œ ì¸ê³¼ì¶”ë¡ .â€ Linewalks Blog (blog), February 2, 2021. https://blog.linewalks.com/archives/7335.

[3] Lee, Dong Kyu. â€œAn Introduction to Propensity Score Matching Methods.â€ Anesthesia and Pain Medicine 11, no. 2 (April 30, 2016): 130â€“48. https://doi.org/10.17085/apm.2016.11.2.130.

[4] web-r. WebrPSM, 2021. https://www.youtube.com/watch?v=MjzX-DLB0jc.

[5] Zhang, Zhongheng. â€œPropensity Score Method: A Non-Parametric Technique to Reduce Model Dependence.â€ Annals of Translational Medicine 5 (January 1, 2017): 7â€“7. https://doi.org/10.21037/atm.2016.08.57.

[6] ì¸ê³¼ì¶”ë¡ ì˜ ë°ì´í„°ê³¼í•™. [Bootcamp 2-4] ë§¤ì¹­ê³¼ ì—­í™•ë¥ ê°€ì¤‘ì¹˜, 2022. https://www.youtube.com/watch?v=BVBUQz3Ix8w.

]

---

class: inverse

# Thanks!

.pull-right[.pull-down[

&lt;a href="mailto:favorite@kakao.com"&gt;
.white[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z"&gt;&lt;/path&gt;&lt;/svg&gt; favorite@kakao.com]
&lt;/a&gt;

&lt;a href="https://github.com/be-favorite"&gt;
.white[&lt;svg viewBox="0 0 496 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"&gt;&lt;/path&gt;&lt;/svg&gt; @be-favorite]
&lt;/a&gt;

&lt;a href="https://twitter.com/TaemoBang"&gt;
.white[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"&gt;&lt;/path&gt;&lt;/svg&gt; @TaemoBang]
&lt;/a&gt;

&lt;a href="https://github.com/be-favorite/Presentation_archive"&gt;
.white[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"&gt;&lt;/path&gt;&lt;/svg&gt; Presentation archive]
&lt;/a&gt;

&lt;br&gt;&lt;br&gt;&lt;br&gt;

]]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": "r",
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<!--Hat-tip: https://www.garrickadenbuie.com/blog/xaringan-tip-logo-all-slides/-->
<style>
.logo {
  background-image: url(img/logo-blue.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 110px;
  height: 128px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
