---
title: "í†µê³„ì‹¤ìŠµ I. íšŒê·€ë¶„ì„, ARIMA ëª¨í˜•"
subtitle: "ê°€ì²œëŒ€ ê¸¸ë³‘ì› ê³ ê¸‰í†µê³„êµìœ¡"
author: "ë°©íƒœëª¨"
institute: "ê°€ì²œëŒ€ ê¸¸ë³‘ì› ì¸ê³µì§€ëŠ¥ë¹…ë°ì´í„°ìœµí•©ì„¼í„°"
date: "2022-06-14"
output:
  xaringan::moon_reader:
    css: 
      - default
      - css/statisticsplaybook.css
      - css/statisticsplaybook-fonts.css
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: googlecode
      highlightLines: true
      highlightLanguage: ["r"]
      countIncrementalSlides: false
      ratio: "16:9"
      navigation:
          scroll: false # disable slide transitions by scrolling
    includes:
      in_header: "assets/mathjax-equation-numbers.html"
      after_body: [css/insert-logo.html]
---

```{r setup, include = FALSE}
library(knitr)
library(rmarkdown)
xaringanExtra::use_panelset()
xaringanExtra::use_clipboard()
# set default options
# opts_chunk$set(dpi = 300)
```

class: title-slide, left, bottom

# `r rmarkdown::metadata$title`
----
## **`r rmarkdown::metadata$subtitle`**
### `r rmarkdown::metadata$author`
### `r rmarkdown::metadata$date`

---

# .brand-red[ëª©ì°¨]

.left-column[
]
.right-column[

.pull-left[

.font100[.content-box-red[1 íšŒê·€ë¶„ì„]]
  
  - ë°©ë²•ë¡  ì†Œê°œ
  
  - ë‹¨ìˆœíšŒê·€ëª¨í˜•
  
  - ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•
  
  - ë‹¤ì¤‘íšŒê·€ëª¨í˜•
  
  - ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•


      
]

.pull-right[

.font100[.content-box-red[2 ARIMA ëª¨í˜•: ì‹¤ì œ ì‚¬ë¡€ ì¤‘ì‹¬]]
 
 - ì¤€ë¹„
 
 - ê²°ì¸¡ì¹˜ ì²˜ë¦¬
 
 - ì‹œê³„ì—´ ìë£Œ ë‹¤ë£¨ê¸°
 
 - ëª¨í˜• ì í•©
 
 - ì˜ˆì¸¡
 
]

]

---

class: inverse, middle, center

# 1 íšŒê·€ë¶„ì„

---

# .brand-red[ë°©ë²•ë¡  ì†Œê°œ]

- ë°ì´í„°ë¡œë¶€í„° ë…ë¦½ë³€ìˆ˜(ë˜ëŠ” ì˜ˆì¸¡ë³€ìˆ˜, $x$)ë“¤ì˜ í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ì •í•˜ì—¬ ì¢…ì†ë³€ìˆ˜(ë˜ëŠ” ë°˜ì‘ë³€ìˆ˜, $y$)ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ë°©ë²•:

\begin{align} 
\hat{y} = f(x_1, x_2, \cdots, x_p). 
\end{align}

- ì—¬ê¸°ì„œ $x = (x_1, x_2, \cdots, x_p)^{T}$ëŠ” ì£¼ì–´ì§€ëŠ” ê°’

- $y$ëŠ” ì£¼ì–´ì§„ $x$ì—ì„œ ì¸¡ì •ë˜ëŠ” ê°’ìœ¼ë¡œ ë²¡í„°ë¡œ ì£¼ì–´ì§ˆ ìˆ˜ ìˆìŒ

---

# .brand-red[ë‹¨ìˆœíšŒê·€ëª¨í˜•]

- ë‹¨ìˆœì„ í˜•íšŒê·€(simple linear regression)ëŠ” ì˜ˆì¸¡ë³€ìˆ˜ì™€ ì¢…ì†ë³€ìˆ˜ê°€ ëª¨ë‘ 1ê°œì¸ ê²½ìš°ì— í•´ë‹¹:

\begin{align} 
y = \beta_0 + \beta_1 x + \epsilon, \epsilon \sim N(0, \sigma^2). 
\end{align}

- ì˜¤ì°¨í•­ $\epsilon_i \sim i.i.d \ N(0, \sigma^2)$ ì— ê´€í•œ ê°€ì •

  - ì •ê·œì„±(Normality)
  
  - ë…ë¦½ì„±(Independent): ${\rm{Cov}}(\epsilon_{i}, \epsilon_{j}) = 0 (i \neq j)$
  
  - ë“±ë¶„ì‚°ì„±(Homoscedasticity): ${\rm{Var}}(\epsilon_{i}) = \sigma^2$

---

# .brand-red[ë‹¨ìˆœíšŒê·€ëª¨í˜•]

.pull-left[

```{r, echo = FALSE, out.height = 350, out.width = 300, fig.cap = "fig 1. Data"}
knitr::include_graphics("./fig/data.png")
```

]

.pull-right[

```{r, echo = FALSE, out.height = 350, out.width = 550, fig.cap = "fig 2. Simple linear regression"}
knitr::include_graphics("./fig/simple.png")
```

]

\begin{align} 
\hat{y} = \hat{\beta}_0 + \hat{\beta}_1 x 
\end{align}

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ì¤€ë¹„í•˜ê¸°

- íŒ¨í‚¤ì§€ ì„¤ì¹˜

```{r, eval = FALSE}
install.packages("MASS")
install.packages("car")
install.packages("dplyr")
```

- íŒ¨í‚¤ì§€ ë¡œë”©

```{r, message = FALSE}
library(MASS)
library(car)
library(dplyr)
```

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ë°ì´í„° ì†Œê°œ

.pull-left[
 -   ê³ ì–‘ì´ë“¤ì˜ ì„±ë³„, ëª¸ë¬´ê²Œ(Bwt), ì‹¬ì¥ëª¸ë¬´ê²Œ(Hwt)ì— ê´€í•œ
    ìë£Œ `cats` ì´ìš©

```{r, eval = FALSE}
head(cats, 4)
```
```{r, echo = FALSE}
kable(head(cats, 4), format = "html")
```

]

.pull-right[
-   ë°ì´í„° êµ¬ì¡° í™•ì¸
```{r}
glimpse(cats)
```
]

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ëª¨í˜• ì í•©

.scroll-box-20[

- {stats} íŒ¨í‚¤ì§€ì˜ `lm()`ì„ ì´ìš©í•´ ë‹¨ìˆœíšŒê·€ëª¨í˜• ì í•©

```{r}
lm_mod <- lm(Hwt ~ Bwt, data = cats)
summary(lm_mod)
```

]

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## íšŒê·€ì„  ì‹œê°í™”

```{r, warning = FALSE, fig.height=4.5, fig.width=8, fig.retina = 2, fig.align = "center"}
plot(cats$Hwt ~ cats$Bwt, pch = 19, col = "darkgray")
abline(lm_mod, lwd = 2)
```

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ì”ì°¨ë¶„ì„: ë“±ë¶„ì‚°ì„±, ì •ê·œì„±

- $y$ì™€ $x$ ê°„ì˜ relationshipì— ê´€í•œ ë¶„ì„ì„ ëª©ì ìœ¼ë¡œ ì„ í˜•íšŒê·€ëª¨í˜•ì„ ì í•©í•  ë•ŒëŠ” ì”ì°¨ë¶„ì„ í•„ìˆ˜

```{r, warning = FALSE, fig.height=3.5, fig.width=8, fig.retina = 2, fig.align = "center"}
par(mfrow = c(1, 2))
plot(lm_mod, 1)
plot(lm_mod, 2)
```

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ì”ì°¨ë¶„ì„: ì´ìƒì  ì²´í¬

- 144ë²ˆ ìë£Œì— ëŒ€í•œ ì •ë³´ í™•ì¸

.pull-left[
```{r}
cats[144, ]
```
]

.pull-right[
```{r}
lm_mod$fitted[144]
lm_mod$residuals[144]
```
]

---

# .brand-red[ì‹¤ìŠµ: ë‹¨ìˆœíšŒê·€ëª¨í˜•]

## ì”ì°¨ë¶„ì„: ë…ë¦½ì„± ê²€ì •

- Durbin-Watson Testë¥¼ ì´ìš©í•œ ì”ì°¨ì˜ ë…ë¦½ì„± ê²€ì •
  - ë”ë¹ˆ-ì™“ìŠ¨ í…ŒìŠ¤íŠ¸ í†µê³„ëŸ‰( $d$ )ëŠ” $0 < d < 4$ ì‚¬ì´ì˜ ê°’ì„ ê°€ì§
  - $d \rightarrow 2$: ìê¸°ìƒê´€ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
  - $d \rightarrow 0$ or $d \rightarrow 4$: ìê¸°ìƒê´€ì´ ì¡´ì¬í•¨

- {car} íŒ¨í‚¤ì§€ì˜ `durbinWatsonTest()`ë¥¼ ì´ìš©í•´ ì”ì°¨ì— ëŒ€í•´ ë…ë¦½ì„± ê²€ì • ìˆ˜í–‰

```{r}
residuals(lm_mod) |> 
    durbinWatsonTest()
```

---

# .brand-red[ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

- ë‹¤ì¤‘ì„ í˜•íšŒê·€(multiple linear regression)ëŠ” ë‹¨ìˆœì„ í˜•íšŒê·€ì˜ í™•ì¥ìœ¼ë¡œ ë…ë¦½ë³€ìˆ˜ì˜ ìˆ˜ê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš°ì— í•´ë‹¹:

\begin{align} 
y = \alpha + \beta_{1} x_1 + \beta_2 x_2 + \cdots + \beta_p x_p + \epsilon, \epsilon \sim N(0, \sigma^2) 
\end{align}

- ì˜¤ì°¨í•­ì— ëŒ€í•œ ê°€ì •ì€ ë‹¨ìˆœì„ í˜•íšŒê·€ì˜ ê²½ìš°ì™€ ê°™ìŒ

---

# .brand-red[ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

```{r, echo = FALSE, out.height = 350, out.width = 500, fig.cap = "fig 3. Multilple linear regression", fig.align='center'}
knitr::include_graphics("./fig/multiple.jpg")
```

\begin{align} 
\hat{y} = \hat{\beta}_0 + \hat{\beta}_1 x_1 + \hat{\beta}_2 x_2 
\end{align}

---

# .brand-red[ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

\begin{align} 
\boldsymbol{\beta} = (X^TX)^{-1}X^Ty 
\end{align}

- ë‹¤ì¤‘ê³µì„ ì„± ë¬¸ì œ
  - ë‹¤ì¤‘ì„ í˜•íšŒê·€ì—ì„œëŠ” ìë£Œì˜ ìˆ˜( $n$ )ê°€ ëª¨ìˆ˜ì˜ ìˆ˜( $p$ )ë³´ë‹¤ í•„íˆ ë§ì•„ì•¼ í•¨( $n \geq p+1$ )
  - $p \geq n$ ì¸ ê²½ìš° ë˜ëŠ” ë‹¤ì¤‘ê³µì„ ì„±ì´ ì‹¬í•œ ê²½ìš° $(X^TX)$ì˜ ì—­í–‰ë ¬ì˜ ê³„ì‚°ì´ ë¶ˆê°€ëŠ¥í•´ ì§ 
  - ê²°ê³¼ì ìœ¼ë¡œ $\boldsymbol{\beta}$ ì¶”ì •ëŸ‰ì˜ ë¶„ì‚°ì´ ë§¤ìš° ì»¤ì§
  - ì¦‰, ì¶”ì •ëœ íšŒê·€ê³„ìˆ˜ë¥¼ ì‹ ë¢°í•˜ê¸° ì–´ë ¤ì›€

- ë‹¤ì¤‘ê³µì„ ì„±ì˜ ì§•í›„
  - $X$ë“¤ ê°„ì— ë†’ì€ ìƒê´€ê³„ìˆ˜ê°€ ì¡´ì¬í•  ë•Œ
  - ì´ë¡ ì ìœ¼ë¡œ ë°˜ì‘ë³€ìˆ˜ì™€ ìƒê´€ì´ ë†’ì„ê²ƒìœ¼ë¡œ ìƒê°ë˜ëŠ” ë³€ìˆ˜ì„ì—ë„ íšŒê·€ê³„ìˆ˜ê°€ ìœ ì˜í•˜ì§€ ì•ŠìŒ
  - ì´ë¡ ì ìœ¼ë¡œ $X$ì— ë”°ë¼ ë°˜ì‘ë³€ìˆ˜ê°€ ì¦ê°€í•´ì•¼ í•¨ì—ë„ íšŒê·€ê³„ìˆ˜ê°€ ìŒì˜ ê°’ì„ ê°€ì§
  - íŠ¹ì • ë³€ìˆ˜ $X$ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œì™¸í•˜ì˜€ì„ ë•Œ, íšŒê·€ê³„ìˆ˜ì˜ ë³€í™”ê°€ í¬ê²Œ ì¼ì–´ë‚¨

---

# .brand-red[ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

- ë‹¤ì¤‘ê³µì„ ì„± ë¬¸ì œ í•´ê²° ë°©ë²•

  - ìƒê´€ëœ ì˜ˆì¸¡ë³€ìˆ˜ ì œê±°: ìƒê´€ì„±ì´ ë†’ì€ ë³€ìˆ˜ë¥¼ ì œê±°í•´ ë‚˜ê°€ë˜, $R^2$ê°€ ë†’ì€ ëª¨í˜• ì„ íƒ
  
      - Variable selection: Forward Selection, Backward elimination, Stepwise selection
      
      - Best subset regression
      
  - ë²Œì íšŒê·€(Penalized regression) ì´ìš©
  
      - Lasso regression
      
---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

## ë°ì´í„° ì†Œê°œ

 -   ë¯¸êµ­ 50ê°œ ì£¼ì—ì„œ ì—¬ëŸ¬ ë³€ìˆ˜ê°’(ì¸êµ¬, ìˆ˜ì…, ë¬¸ë§¹ë¹„ìœ¨, ê¸°ëŒ€ìˆ˜ëª…, ì‚´ì¸ìœ¨, ê³ ì¡¸ë¹„ìœ¨, ì—°í‰ê· ì˜í•˜ê¸°ì˜¨ì¼ìˆ˜, ë©´ì )ì„ ì¸¡ì •í•œ ìë£Œ
 
 - ì´ ì¤‘ ê¸°ëŒ€ìˆ˜ëª…(`Life exp`)ì„ ë°˜ì‘ë³€ìˆ˜ë¡œ ë‹¤ì¤‘íšŒê·€ë¶„ì„ ì‹¤ì‹œ

```{r, eval = FALSE}
head(state.x77, 3)
```
```{r, echo = FALSE}
kable(head(state.x77, 3), format = "html")
```

---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

## ë°ì´í„° ì†Œê°œ

.scroll-box-14[

-   ë°ì´í„° êµ¬ì¡° í™•ì¸
```{r}
glimpse(state.x77)
```

- ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜ í›„, ë³€ìˆ˜ëª… ë¹ˆì¹¸ ì œì™¸
```{r}
# install.packages("janitor")
state <- as.data.frame(state.x77) |> 
    janitor::clean_names()
glimpse(state)
```

]

---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

## ëª¨í˜• ì í•©

.scroll-box-20[

```{r}
lm_mod2 <- lm(life_exp ~ ., data = state)
summary(lm_mod2)
```

]

---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

## ë‹¤ì¤‘ê³µì„ ì„± ê²€í† : ë¶„ì‚°íŒ½ì°½ìš”ì¸(VIF, Variance Inflation factor)

\begin{align} 
{\rm{VIF}}_j = \frac{1}{1-R_j^2}
\end{align}

.pull-left[

 - $R_j^2$ëŠ” $j$-ë²ˆì§¸ ì˜ˆì¸¡ë³€ìˆ˜( $x_j$ )ë¥¼ ë‚˜ë¨¸ì§€ ( $p-1$ )ê°œì˜ ì˜ˆì¸¡ë³€ìˆ˜ë¡œ íšŒê·€ë¥¼ ìˆ˜í–‰í•˜ì—¬ êµ¬í•´ì§€ëŠ” ê²°ì •ê³„ìˆ˜

- 10ë³´ë‹¤ í° ê²½ìš° ë‹¤ì¤‘ê³µì„ ì„±ì„ ì•¼ê¸°í•˜ëŠ” ë³€ìˆ˜ë¡œ ê°„ì£¼


]

.pull-right[

- {car} íŒ¨í‚¤ì§€ì˜ `vif()`ë¥¼ ì´ìš©í•´ êµ¬í•  ìˆ˜ ìˆìŒ
```{r}
vif(lm_mod2)
```

]

---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

.scroll-output[

- Variable selection: Backward eliination
  
  - `step()` ì´ìš©
  
```{r}
lm_mod3 <- step(lm_mod2, direction = "backward", trace = FALSE)
summary(lm_mod3)
```

]

---

# .brand-red[ì‹¤ìŠµ: ë‹¤ì¤‘íšŒê·€ëª¨í˜•]

.scroll-output[

- ì‹ ë¢°êµ¬ê°„ êµ¬í•˜ê¸°
```{r}
confint(lm_mod3)
```

- ì£¼ì–´ì§„ ìë£Œì— ëŒ€í•œ ì˜ˆì¸¡ê°’ êµ¬í•˜ê¸°
```{r}
predict(lm_mod3, list(population = 4000, murder = 10.5, hs_grad = 48, frost = 100))
```

]
---
class: inverse, middle, center

# 2 ARIMA ëª¨í˜•: ì‹¤ì œ ì‚¬ë¡€ ì¤‘ì‹¬

---

# .brand-red[ì¤€ë¹„]

.scroll-box-20[

- íŒ¨í‚¤ì§€ ì„¤ì¹˜
```{r, eval = FALSE}
install.packages("fpp3")
install.packages("readr")
install.packages("showtext")
install.packages("ggplot2")
install.packages("conflicted")
```

- íŒ¨í‚¤ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
```{r, message = FALSE}
library(fpp3)
library(readr)
library(showtext)
library(ggplot2)
library(ggh4x)
font_add_google(name = "Nanum Gothic", family = "nanum")
showtext_auto(enable = TRUE)
conflicted::conflict_prefer("select", "dplyr")
ggplot2::theme_set(theme_bw())
```

]


---

# .brand-red[ì¤€ë¹„]

.scroll-output[

.pull-left[
 - 2010ë…„ 1ì›” - 2021ë…„ 9ì›” ì›”ë³„ ìµëª…ì˜ ì§ˆí™˜ ë°œìƒ ê±´ìˆ˜ì— ê´€í•œ ìë£Œ

```{r, message = FALSE}
disease <- read_csv("./data/example.csv")
disease
```
]

.pull-right[

- 8ê°œ ê·¸ë£¹ì— ëŒ€í•´ ëª¨ë¸ë§ í•„ìš”

```{r}
disease |> 
    select(-Date, -N) |> 
    distinct()
```
  
]

]

---

## ê²°ì¸¡ì¹˜ ì²˜ë¦¬

.scroll-output[

- ê²°ì¸¡ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ì´ì§€ë§Œ ì„ì˜ë¡œ ê²°ì¸¡ ì²˜ë¦¬(ì›ìë£Œ ê°’ 121)
```{r}
disease2 <- disease |> 
    slice(-2)
disease2
```

]

---

# .brand-red[ì‹œê³„ì—´ ìë£Œ ë‹¤ë£¨ê¸°]

.scroll-output[

- Rì—ê²Œ ìš°ë¦¬ê°€ ëª¨ë¸ë§í•  ì‹œê³„ì—´ì´ ì´ 8ê°œì„ì„ ì•Œë ¤ì¤˜ì•¼í•¨

- `as_tsibble()`ì„ ì´ìš©í•  ìˆ˜ ìˆìŒ

```{r}
disease3 <- disease2 |> 
    mutate(Date = yearmonth(Date)) |> 
    as_tsibble(key = c(Sex, Group), index = Date)
disease3
```

]

---

# .brand-red[ì‹œê³„ì—´ ìë£Œ ë‹¤ë£¨ê¸°]

.scroll-output[

- `fill_gaps()` ì´ìš© ê²°ì¸¡ì¹˜ ëŒ€ì¹˜

```{r}
disease4 <- disease3 |> 
    fill_gaps(N = 121L, .full = TRUE)
disease4
```

]



---

# .brand-red[ëª¨í˜• ì í•©]

.scroll-output[

- AICcë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœì ì˜ ARIMA ëª¨í˜• ì í•©

```{r}
mod <- disease4 |> 
    model(arima = ARIMA(N))
mod
```

]

---

# .brand-red[ì˜ˆì¸¡]

.scroll-output[

- í–¥í›„ 15ê°œì›” ì˜ˆì¸¡ í›„, 80% ë° 95% ì‹ ë¢°êµ¬ê°„ ì¶”ì¶œ

```{r, eval = FALSE}
f <- mod %>% 
    forecast(h = "15 months") %>% 
    hilo(level = c(80, 95)) %>% 
    unpack_hilo(c("80%", "95%"))   # ì‹ ë¢°êµ¬ê°„ ê°’ ì—´ë¡œ ì¶”ì¶œ
head(f, 3)
```


```{r, echo = FALSE}
f <- mod %>% 
    forecast(h = "15 months") %>% 
    hilo(level = c(80, 95)) %>% 
    unpack_hilo(c("80%", "95%"))
head(f, 3) |> 
    knitr::kable("html")
```

]

---

# .brand-red[ì‹œê°í™”]

- ê³¼ê±° ì‹œì (2010ë…„ 1ì›” - 2021ë…„ 9ì›”)ì˜ ìë£Œ ë§Œë“¤ê¸°

```{r}
historic <- bind_rows(
    disease4 %>% 
        mutate(Type = "ê³¼ê±° ì‹¤ì œê°’") %>%
        as_tibble(),
    mod %>% 
        fitted %>%  
        mutate(Type = "ëª¨í˜• ì í•©ê°’") %>% 
        as_tibble %>% 
        rename(N = .fitted) %>% 
        select(Date, Sex, Group, N, Type)
)
```

---

# .brand-red[ì‹œê°í™”]

- ë¯¸ë˜ ì‹œì (2021ë…„ 10ì›” - 2022ë…„ 12ì›”)ì˜ ìë£Œ ë§Œë“¤ê¸°

```{r}
fore <- f %>% 
    mutate(Type = "ëª¨í˜• ì˜ˆì¸¡ê°’", N = .mean) %>% 
    as_tibble %>% 
    select(Date, Sex, Group, N, Type)
```

---

# .brand-red[ì‹œê°í™”]

.scroll-output[

- `{ggplot2}` ì´ìš©

```{r, warning = FALSE, fig.height=6, fig.width=12, fig.retina = 2, fig.align = "center", eval = FALSE}
ggplot() +
    geom_line(data = historic,
              aes(x = Date, y = N, col = Type)) + # ê³¼ê±° ì‹¤ì œê°’, ëª¨í˜• ì í•©ê°’
    geom_line(data = fore,
              aes(x = Date, y = N, col = Type)) + # ëª¨í˜• ì˜ˆì¸¡ê°’
    geom_ribbon(data = f, # 80% ì‹ ë¢°êµ¬ê°„
                aes(x = Date, ymin = `80%_lower`, ymax = `80%_upper`),
                fill = "skyblue", alpha = 0.25) +
    geom_ribbon(data = f, # 95% ì‹ ë¢°êµ¬ê°„
                aes(x = Date, ymin = `95%_lower`, ymax = `95%_upper`),
                fill = "skyblue", alpha = 0.25/2) +
    scale_color_manual(values = c("tomato", "blue", "paleturquoise3"), name = "") +
    theme(
        text = element_text(family = "nanum", size = 12),
        legend.position = "bottom") +
    labs(x = " ",
         y = "N") +
    facet_nested_wrap(vars(Sex, Group), scales = "free",
                      ncol = 4)
```

]

---

# .brand-red[ì‹œê°í™”]

```{r, warning = FALSE, fig.height=7, fig.width=14, fig.retina = 2, fig.align = "center", echo = FALSE}
ggplot() +
    geom_line(data = historic,
              aes(x = Date, y = N, col = Type)) + # ê³¼ê±° ì‹¤ì œê°’, ëª¨í˜• ì í•©ê°’
    geom_line(data = fore,
              aes(x = Date, y = N, col = Type)) + # ëª¨í˜• ì˜ˆì¸¡ê°’
    geom_ribbon(data = f, # 80% ì‹ ë¢°êµ¬ê°„
                aes(x = Date, ymin = `80%_lower`, ymax = `80%_upper`),
                fill = "skyblue", alpha = 0.25) +
    geom_ribbon(data = f, # 95% ì‹ ë¢°êµ¬ê°„
                aes(x = Date, ymin = `95%_lower`, ymax = `95%_upper`),
                fill = "skyblue", alpha = 0.25/2) +
    scale_color_manual(values = c("tomato", "blue", "paleturquoise3"), name = "") +
    theme(
        text = element_text(family = "nanum", size = 14),
        legend.position = "bottom") +
    labs(x = " ",
         y = "N") +
    facet_nested_wrap(vars(Sex, Group), scales = "free",
                      ncol = 4)
```

---

# .brand-red[ì±… ì¶”ì²œ]

## R ê¸°ë³¸ê¸°

- ğŸ”—[R for Data Science](https://bookdown.org/sulgi/r4ds/)

- ğŸ”—[Do it! ì‰½ê²Œ ë°°ìš°ëŠ” R ë°ì´í„° ë¶„ì„](http://www.yes24.com/Product/Goods/43868089)

## íšŒê·€ë¶„ì„

- ğŸ”—[ì˜ˆì œë¥¼ í†µí•œ íšŒê·€ë¶„ì„ 5íŒ](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9791158080105)

- ğŸ”—[An Introduction to Statistical Learning, 2nd Edition](https://www.statlearning.com)

## ì‹œê³„ì—´ ìë£Œë¶„ì„

- ğŸ”—[Forecasting: principles and practice, 3rd edition](https://otexts.com/fpp3/)

---
class: inverse, middle, center

# References

---

## .brand-red[References]

[1] ë‚˜, ì¢…í™”. R ì‹œê°í™”ì™€ í†µê³„ìë£Œë¶„ì„ 2. ììœ ì•„ì¹´ë°ë¯¸, 2016. http://www.yes24.com/Product/Goods/29643662.

[2] Breheny, Patrick. â€œHigh-Dimensional Data Analysis (BIOS 7600),â€ 2016. https://myweb.uiowa.edu/pbreheny/7600/s16/index.html.

---

class: inverse

# Thanks!

.pull-right[.pull-down[

<a href="mailto:favorite@kakao.com">
.white[`r icons::fontawesome("paper-plane")` favorite@kakao.com]
</a>

<a href="https://github.com/be-favorite">
.white[`r icons::fontawesome("github")` @be-favorite]
</a>

<a href="https://twitter.com/TaemoBang">
.white[`r icons::fontawesome("twitter")` @TaemoBang]
</a>

<a href="https://github.com/be-favorite/Presentation_archive">
.white[`r icons::fontawesome("link")` Presentation archive]
</a>

<br><br><br>

]]